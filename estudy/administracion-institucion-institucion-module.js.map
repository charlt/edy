{"version":3,"sources":["webpack:///./src/app/administracion/institucion/form-institucion/form-institucion.component.html","webpack:///./src/app/administracion/institucion/form-institucion/form-institucion.component.scss","webpack:///./src/app/administracion/institucion/form-institucion/form-institucion.component.ts","webpack:///./src/app/administracion/institucion/institucion-routing.module.ts","webpack:///./src/app/administracion/institucion/institucion.component.html","webpack:///./src/app/administracion/institucion/institucion.component.scss","webpack:///./src/app/administracion/institucion/institucion.component.ts","webpack:///./src/app/administracion/institucion/institucion.module.ts","webpack:///./src/app/administracion/institucion/services/institucion.service.ts","webpack:///./src/app/components/file-upload/file.upload.validators.ts","webpack:///./src/app/services/archivos.ts"],"names":[],"mappings":"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","file":"administracion-institucion-institucion-module.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n    <form [formGroup]=\\\"imgForm\\\" (ngSubmit)=\\\"enviarImagen()\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label class=\\\"control-label\\\"> {{'color' | translate}}:</label><br>\\r\\n        <input type=\\\"color\\\" style=\\\"width: 100%\\\" formControlName=\\\"color\\\" name=\\\"color\\\" />\\r\\n      </div>   \\r\\n      <div class=\\\"form-group\\\">\\r\\n\\r\\n        <label class=\\\"control-label\\\" >{{'imagen' | translate}}:</label>\\r\\n        <app-file-upload formControlName=\\\"imagen\\\" (change)=\\\"preview('imagen',[2048,2048,10485760])\\\"></app-file-upload>\\r\\n        <div class=\\\"invalid-feedback\\\" style=\\\"display: block\\\" >\\r\\n          <ng-container *ngIf=\\\"hasError( 'imagen', 'required')\\\">{{'fmErrfileRequired' | translate}}</ng-container>\\r\\n          <ng-container *ngIf=\\\"hasError( 'imagen', 'requiredFileType')\\\">{{'fmErrfileImage' | translate}}</ng-container>\\r\\n        </div>\\r\\n      </div>                  \\r\\n      <button [hidden]=\\\"tipoAdmin == 0\\\" [disabled]=\\\"btnDisabled\\\" type=\\\"submit\\\" class=\\\"btn btn-primary pull-right\\\">Guardar información</button>\\r\\n    </form>\\r\\n  </div>     \\r\\n  <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n          <div class=\\\"col justify-content-md-center\\\">\\r\\n              <label *ngIf=\\\"imgURL\\\" >Vista previa</label>\\r\\n              <br>\\r\\n              <img class=\\\"rounded img-fluid\\\" [src]=\\\"imgURL\\\"  *ngIf=\\\"imgURL\\\" alt=\\\"Imagen de perfil\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vaW5zdGl0dWNpb24vZm9ybS1pbnN0aXR1Y2lvbi9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxzaGFyZWRcXHN0eWxlc1xcZm9ybXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDQyxtQkFBa0IsRUFDbEI7O0FBQ0Q7RUFDSSxlQUFjO0VBQ2QsNEJBQTJCLEVBQzlCOztBQUNEO0VBQ0ksc0JBQXNCLEVBQ3pCOztBQUNEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUNEO0VBQ0ksZ0JBQWU7RUFDZixpQkFBZ0IsRUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hZG1pbmlzdHJhY2lvbi9pbnN0aXR1Y2lvbi9mb3JtLWluc3RpdHVjaW9uL2Zvcm0taW5zdGl0dWNpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvcm0tZ3JvdXB7XHJcbiBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuLmludmFsaWRUZXh0e1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm5nLWludmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogICNkYzM1NDU7IFxyXG59XHJcbi5uZy12YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiBncmVlbjsgXHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { InstitucionService } from '../services/institucion.service';\r\nimport { NgxFileDropEntry, FileSystemFileEntry, FileSystemDirectoryEntry } from 'ngx-file-drop';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\nimport  {GLOBAL} from '../../../services/global';\r\n\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'app-form-institucion',\r\n  templateUrl: './form-institucion.component.html',\r\n  styleUrls: ['./form-institucion.component.scss']\r\n})\r\nexport class FormInstitucionComponent implements OnInit {\r\n\r\n  public title: string;\r\n  jwt: string;\r\n  public message: string;\r\n  estado = 0;\r\n  imgURL: any;  \r\n  imgFile: any;\r\n  public url: string;\r\n  size: any;\r\n  width: number;\r\n  height: number; \r\n  btnDisabled: boolean = true;\r\n  imgForm: FormGroup;\r\n  color;\r\n  global;\r\n  crea;\r\n\r\n  plataformaInstitucion;\r\n  tipoAdmin;\r\n  file;\r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private _institucionService: InstitucionService,\r\n    private router : Router,\r\n    private route: ActivatedRoute,\r\n    private formBuilder: FormBuilder\r\n\r\n  ){ \r\n    this._usuarioService.pushBreadcum(this.title,\"\",2);\r\n    this.global = GLOBAL.urlAssets;\r\n  }\r\n\r\n  get f() { return this.imgForm.controls; }\r\n\r\n\r\n\r\n  ngOnInit(){\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n    this._institucionService.cambioHeader(this.jwt).subscribe(\r\n      response=>{\r\n        console.log(response);\r\n        this.plataformaInstitucion = response['estilos'][0];\r\n        this.imgForm.get('color').setValue(this.plataformaInstitucion.color);\r\n        this.imgURL = this.global + this.plataformaInstitucion.url_perfil;\r\n      },\r\n      error=>{\r\n        console.log(error);\r\n      });\r\n\r\n    this.imgForm = this.formBuilder.group({\r\n      imagen:['', requiredFileType(0)],\r\n      color: ['']\r\n    });\r\n  \r\n    \r\n  }\r\n\r\n \r\n  public files: NgxFileDropEntry[] = [];\r\n \r\n  public dropped(files: NgxFileDropEntry[]) {\r\n    this.files = files;\r\n    console.log(this.files[0].relativePath)\r\n    // for (const droppedFile of this.files) {\r\n       // Is it a file?\r\n      if (this.files[0].fileEntry.isFile) {\r\n        const fileEntry = this.files[0].fileEntry as FileSystemFileEntry;\r\n        fileEntry.file((file: File) => {\r\n \r\n          // Here you can access the real file\r\n          this.preview(file, [1024,243,10485760]);// tamaño imagen\r\n \r\n        });\r\n      } else {\r\n        // It was a directory (empty directories are added, otherwise only files)\r\n        const fileEntry = this.files[0].fileEntry as FileSystemDirectoryEntry;\r\n        console.log(this.files[0].relativePath, fileEntry);\r\n      }\r\n    // }\r\n  }\r\n \r\n  public fileOver(event){\r\n    console.log(event);\r\n  }\r\n \r\n  public fileLeave(event){\r\n    console.log(event);\r\n  }  \r\n \r\n  preview(field, array) {\r\n\r\n    if(!this.hasError(field,'requiredFileType')){\r\n      const image = this.imgForm.get(field).value;\r\n\r\n  \r\n      this.imgFile = image;\r\n      this.size = image.size;\r\n      let reader = new FileReader;\r\n      reader.onload = () => { // when file has loaded\r\n        this.imgURL = reader.result;   \r\n        var img = new Image();\r\n   \r\n        img.onload = () => {\r\n            this.width = img.width;\r\n            this.height = img.height;\r\n  \r\n            if (this.size <= array[2]) {            \r\n              if (this.width < array[0] && this.height < array[1]){\r\n                alertify.success(\"Tamaño de imagen correcto\");\r\n                this.estado = 1;\r\n                this.btnDisabled = false;              \r\n              }\r\n              else{\r\n                alertify.error(\"El tamaño de la imagen no debe de pasar  de \"+array[0]+\"x\"+array[1]+\"px\");\r\n                this.estado = 0;\r\n                this.imgURL = '';   \r\n              }\r\n            }\r\n            else{\r\n              alertify.error(\"El tamaño de la imagen es demasiado grande\");\r\n              this.estado = 0;\r\n            }\r\n        };\r\n        img.src = reader.result.toString(); // This is the data URL\r\n      };\r\n   \r\n     reader.readAsDataURL(image);\r\n      // this.imgType.nativeElement.value = \"\"; \r\n    }\r\n    //console.log(evt)\r\n  \r\n   }\r\n\r\n   hasError( field: string, error: string ) {\r\n    const control = this.imgForm.get(field);\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n   enviarImagen(){\r\n    \r\n    if(this.plataformaInstitucion)\r\n      this.crea = 0;\r\n    else\r\n      this.crea = 1;\r\n\r\n    if (this.imgForm.invalid) {\r\n      Object.keys(this.imgForm.controls).forEach( controlKey => {\r\n        this.imgForm.controls[controlKey].markAsTouched();\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (this.estado == 1) {\r\n      this._institucionService.imagen(this.imgForm, this.crea, this.jwt).subscribe( \r\n        response =>{\r\n          console.log(response)\r\n            if(response && response['status']){\r\n              this.btnDisabled = true;      \r\n              //esto es, para poder agregar la opción de edita\r\n              this.plataformaInstitucion = 1;        \r\n              alertify.success(response['msg'])\r\n            }else{\r\n              alertify.error(response['msg'])\r\n            }\r\n        },error =>{\r\n          console.log(<any>error)\r\n      });\r\n    }\r\n    else\r\n      alertify.error(\"Inserta una imagen válida\")\r\n     \r\n    //this.estado = 0;\r\n    this.imgFile = \"\";\r\n    \r\n  }  \r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { InstitucionComponent } from './institucion.component';\r\nimport { FormInstitucionComponent } from './form-institucion/form-institucion.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InstitucionComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'form', pathMatch: 'full' },\r\n      { path: 'form', component: FormInstitucionComponent },\r\n      //{ path: 'consulta', component: ConsultaComponent },\r\n      //{ path: 'editar/:id', component: NuevoComponent}\r\n    ]\r\n}\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class InstitucionRoutingModule { }\r\n","module.exports = \"<div [@routerTransition]>\\r\\n  <router-outlet ></router-outlet>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2luc3RpdHVjaW9uL2luc3RpdHVjaW9uLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { slideToTop } from 'src/app/router.animations';\r\n\r\n\r\n@Component({\r\n  selector: 'app-institucion',\r\n  templateUrl: './institucion.component.html',\r\n  styleUrls: ['./institucion.component.scss'],\r\n  animations: [slideToTop()]\r\n\r\n})\r\nexport class InstitucionComponent implements OnInit {\r\n\r\n  title: string; \r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService\r\n\r\n\r\n  ) { \r\n    this.title = \"Información de la institución\"\r\n    this._usuarioService.pushBreadcum(this.title,'/admin/institucion',1);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\nimport { InstitucionRoutingModule } from './institucion-routing.module';\r\nimport { InstitucionComponent } from '../institucion/institucion.component';\r\nimport { FormInstitucionComponent } from './form-institucion/form-institucion.component';\r\nimport { NgxFileDropModule } from 'ngx-file-drop';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\nimport { FileUploadModule } from '../../components/file-upload/file-upload.module';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [InstitucionComponent, FormInstitucionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LanguageTranslationModule,\r\n    InstitucionRoutingModule,\r\n    NgxFileDropModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FileUploadModule\r\n  ]\r\n})\r\nexport class InstitucionModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { map } from 'rxjs/operators';\r\nimport { GLOBAL } from '../../../services/global';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InstitucionService {\r\n  public url: string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n    \r\n  ){ \r\n    this.url = GLOBAL.url;\r\n\r\n  }\r\n\r\n  imagen(form, crea, jwt){\r\n\r\n    let formData: FormData = new FormData(); \r\n    formData.append('fileToUpload', form.get('imagen').value);\r\n    formData.append('color', form.get('color').value);\r\n    formData.append('jwt', jwt);\r\n    \r\n    if(crea){\r\n      return this._httpClient.post(this.url +'admin/InstitucionPlataforma/crea.php',formData);\r\n    }else{\r\n      return this._httpClient.post(this.url +'admin/InstitucionPlataforma/edita.php',formData);\r\n    }\r\n    \r\n  }  \r\n\r\n  cambioHeader(jwt){\r\n    var params = '?jwt='+jwt;\r\n    return this._httpClient.get(this.url +'admin/InstitucionPlataforma/consulta.php'+ params);\r\n\r\n  }\r\n\r\n}\r\n","import { FormControl } from '@angular/forms';\r\nimport { Archivo } from 'src/app/services/archivos';\r\n\r\n\r\n\r\nexport function requiredFileType( type: number ) {\r\n  return function ( control: FormControl ) {\r\n\r\n    let archivo = Archivo;\r\n    let tipoArchivos;\r\n    if(type == 0){\r\n      type = archivo.length-1;\r\n      tipoArchivos = archivo[type].formatos;\r\n    }else{\r\n      tipoArchivos = archivo[type].formatos;\r\n    }\r\n\r\n    \r\n\r\n    \r\n    const file = control.value;\r\n    if ( file ) {\r\n      const archivo = file.name.split('.');\r\n      var longitud = archivo.length;      \r\n      const extension = file.name.split('.')[longitud-1].toLowerCase();\r\n      if ( tipoArchivos.indexOf(extension.toLowerCase()) == -1) {\r\n        return {\r\n          requiredFileType: true\r\n        };\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  };\r\n}","/* variable sincronizada con la base de de estudydg.cat_formatos */\r\nexport var Archivo =  [\r\n  {  id: 1,nombre: \"Imagen\",formatos : \"jpg,jpeg,png,gif\"},\r\n  {  id: 2,nombre: \"Documento\",formatos : \"txt,doc,docx,pdf,odt\"},\r\n  {  id: 3,nombre: \"Presentación \",formatos : \"pptx,ppsx,pptm,ppt,pps,potx,ppam\"},\r\n  {  id: 4,nombre: \"Hoja de cálculo \",formatos : \"xlsx,xlsm,xlsb,xltx,xls,csv\"},\r\n  {  id: 5,nombre: \"Audio\",formatos : \"mp3,m4a,mp4,wav,wma\"},\r\n  {  id: 6,nombre: \"Video\",formatos : \"avi,mp4,m4v,mov,mpg,mpeg,swf\"},\r\n  {  id: 100,nombre: \"Archivo\",formatos : \"txt,doc,docx,odt,ppt,pdf,pps,jpg,jpeg,png,gif,jfif,pptx,pptm,ppt,potx,ppam,xlsx,xlsm,xlsb,xltx,XLR,mp3,m4a,mp4,wav,wma,avi,mp4, m4v, mov,mpg,mpeg,swf,wmv,zip,rar\"},\r\n];\r\n"],"sourceRoot":""}