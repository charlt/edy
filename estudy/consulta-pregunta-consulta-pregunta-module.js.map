{"version":3,"sources":["webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/consulta-pregunta/consulta-pregunta-routing.module.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/consulta-pregunta/consulta-pregunta.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/consulta-pregunta/consulta-pregunta.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/consulta-pregunta/consulta-pregunta.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/consulta-pregunta/consulta-pregunta.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACc;AACmB;AAE1E,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sFAAyB;KACrC;CACF;AAMD;IAAA;IAA6C,CAAC;IAAjC,6BAA6B;QAJzC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,6BAA6B,CAAI;IAAD,oCAAC;CAAA;AAAJ;;;;;;;;;;;;ACf1C,2RAA2R,oJAAoJ,4BAA4B,oGAAoG,KAAK,sJAAsJ,4BAA4B,gJAAgJ,+BAA+B,+yBAA+yB,6BAA6B,mH;;;;;;;;;;;ACAjuD,+BAA+B,iBAAiB,cAAc,sBAAsB,EAAE,0BAA0B,mBAAmB,8BAA8B,EAAE,4BAA4B,mBAAmB,8BAA8B,EAAE,oBAAoB,2CAA2C,EAAE,0BAA0B,oBAAoB,8BAA8B,2CAA2C,EAAE,yBAAyB,iBAAiB,qBAAqB,EAAE,+CAA+C,2oD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1e;AACqD;AACtD;AACiB;AACI;AAC+B;AAUrG;IAOE,mCACU,eAAgC,EAChC,iBAAmC,EACnC,gBAAiC,EACjC,KAAqB;QAHrB,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAkB;QACnC,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,UAAK,GAAL,KAAK,CAAgB;IAC3B,CAAC;IAEL,4CAAQ,GAAR;QAAA,iBAkBC;QAfC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAEzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAG3D,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAC3E,kBAAQ;YACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,kBAAkB,CAAC,KAAI,CAAC,SAAS,CAAC,YAAY,CAAC;aACrD;YACD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;QACvB,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,sDAAkB,GAAlB,UAAmB,YAAY;QAA/B,iBAYC;QAVG,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,YAAY,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CACvE,kBAAQ;YACJ,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;aACxC;iBAAI;gBACH,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;aACrB;QACL,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACT,CAAC;IAED,mDAAe,GAAf,UAAgB,EAAE,EAAC,CAAC;QAElB,QAAQ,CAAC,OAAO,CAAC,+BAA+B,EAChD;YAAA,iBAcC;YAbC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAC1D,kBAAQ;gBACJ,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;oBAChC,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;oBAC3B,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;iBACnC;qBACG;oBACF,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;iBACnC;YAEL,CAAC,EAAC,eAAK;gBACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;YACzB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EACZ;YACE,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IAEH,CAAC;IAED,gDAAY,GAAZ,UAAa,KAA4B;QACvC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,iBAAiB,CAAC;QACvE,IAAI,UAAU,GAAG,KAAK,CAAC,YAAY,GAAC,CAAC;QAErC,8EAAe,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;QAEzE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,UAAU,EAAC,IAAI,CAAC,WAAW,EAAC,UAAU,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CACpF,kBAAQ;YACN,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;YACnB,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aACnC;iBACG;gBACF,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;aACnC;QAEL,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IAIX,CAAC;IAGC,kDAAc,GAAd,UAAe,WAAW;QACxB,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC;QAC7D,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5D,CAAC;IArGU,yBAAyB;QALrC,+DAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;;;SAGlC,CAAC;yCAS4B,+EAAc;YACb,oHAAgB;YACjB,kHAAe;YAC1B,8DAAc;OAXpB,yBAAyB,CAuGrC;IAAD,gCAAC;CAAA;AAvGqC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfG;AACM;AAE2B;AAC0C;AACjC;AAC3B;AAiBxD;IAAA;IAAsC,CAAC;IAA1B,sBAAsB;QAblC,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sFAAyB;aAExB;YACH,OAAO,EAAE;gBACP,4DAAY;gBACZ,iIAAyB;gBACzB,+FAA6B;gBAC7B,qEAAc;aAEf;SACF,CAAC;OACW,sBAAsB,CAAI;IAAD,6BAAC;CAAA;AAAJ","file":"consulta-pregunta-consulta-pregunta-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ConsultaPreguntaComponent } from './consulta-pregunta.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultaPreguntaComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ConsultaPreguntaRoutingModule { }\r\n","module.exports = \"\\r\\n\\r\\n  <div class=\\\"col-md-12\\\" cdkDropList (cdkDropListDropped)=\\\"dropPregunta($event)\\\">\\r\\n    <div class=\\\"list-group\\\"  >\\r\\n      <div cdkDrag class=\\\"list-group-item\\\" [class.alert-sin-contenido]=\\\"!pregunta.pregunta\\\"  *ngFor=\\\"let pregunta of preguntas; let k=index\\\">\\r\\n            <!-- <p *ngIf=\\\"!pregunta.editar && !pregunta.pregunta\\\" class=\\\"contenido_pregunta\\\" class=\\\"list-group-item \\\"> ({{'sinContenido' | translate}})</p> -->\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-sm-1\\\">\\r\\n            <h4>{{k+1}}.- </h4>\\r\\n          </div>\\r\\n          <div  class=\\\"col-sm-9\\\">\\r\\n            <p *ngIf=\\\"!pregunta.pregunta\\\" class=\\\"contenido_pregunta\\\">   ({{'sinContenido' | translate}})</p>\\r\\n            <p *ngIf=\\\"pregunta.pregunta\\\"class=\\\"contenido_pregunta\\\" [innerHTML]=\\\"pregunta.pregunta\\\"></p>\\r\\n            <small >{{pregunta.tipo_pregunta_nombre}}</small>\\r\\n          </div>\\r\\n          <div class=\\\"col-sm-2\\\">\\r\\n            <button class=\\\"btn btn-danger btn-accion\\\" (click)=\\\"eliminaPregunta(pregunta.datos_pregunta_id,k)\\\" ><i class=\\\"fa fa-trash\\\" ></i></button>\\r\\n            <a class=\\\"btn btn-info btn-accion \\\" [routerLink]=\\\"['./edita/'+pregunta.datos_pregunta_id]\\\"><i class=\\\"fa fa-pencil\\\"></i></a>\\r\\n            <button  cdkDragHandle class=\\\"btn btn-success btn-accion\\\"><i class=\\\"fa fa-arrows-alt\\\" ></i></button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"list-group-item\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <a [routerLink]=\\\"['./nuevo']\\\" type=\\\"button\\\" >\\r\\n            <div  class=\\\"col-sm-12 text-center\\\">\\r\\n                <p class=\\\"contenido_pregunta\\\" ><i class=\\\"fa fa-plus\\\"></i>{{'nuevaPregunta' | translate}}</p>\\r\\n            </div>\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    </div>\\r\\n\\r\\n\"","module.exports = \".btn-accion {\\n  float: right;\\n  top: 10px;\\n  text-align: right; }\\n\\n.alert-sin-contenido {\\n  color: #721c24;\\n  background-color: #f8d7da; }\\n\\n.alert-sin-contenido-y {\\n  color: #856404;\\n  background-color: #fff3cd; }\\n\\n.list-pregunta {\\n  border: 1px solid rgba(0, 0, 0, 0.125); }\\n\\n.list-pregunta:hover {\\n  cursor: pointer;\\n  background-color: #e9ecef;\\n  border: 1px solid rgba(0, 0, 0, 0.125); }\\n\\n.contenido_pregunta {\\n  height: 20px;\\n  overflow: hidden; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2NvbnN1bHRhLXByZWd1bnRhL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXGFkbWluaXN0cmFjaW9uXFxjYXJnYS1hY3RpdmlkYWRlc1xcYXNpZ25hdHVyYVxcbW9kdWxvXFxhY3RpdmlkYWRcXHByZWd1bnRhXFxjb25zdWx0YS1wcmVndW50YVxcY29uc3VsdGEtcHJlZ3VudGEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxhQUFXO0VBQ1gsVUFBUTtFQUNSLGtCQUFnQixFQUNuQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCwwQkFBeUIsRUFDNUI7O0FBRUQ7RUFDSSxlQUFjO0VBQ2xCLDBCQUF5QixFQUN4Qjs7QUFFRDtFQUNJLHVDQUFrQyxFQUNyQzs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsMEJBQXlCO0VBQ3pCLHVDQUFrQyxFQUNyQzs7QUFFRDtFQUNJLGFBQVk7RUFDWixpQkFBZ0IsRUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hZG1pbmlzdHJhY2lvbi9jYXJnYS1hY3RpdmlkYWRlcy9hc2lnbmF0dXJhL21vZHVsby9hY3RpdmlkYWQvcHJlZ3VudGEvY29uc3VsdGEtcHJlZ3VudGEvY29uc3VsdGEtcHJlZ3VudGEuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmJ0bi1hY2Npb257XHJcbiAgICBmbG9hdDpyaWdodDtcclxuICAgIHRvcDoxMHB4O1xyXG4gICAgdGV4dC1hbGlnbjpyaWdodDtcclxufVxyXG4uYWxlcnQtc2luLWNvbnRlbmlkb3tcclxuICAgIGNvbG9yOiAjNzIxYzI0O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZDdkYTtcclxufVxyXG5cclxuLmFsZXJ0LXNpbi1jb250ZW5pZG8teXtcclxuICAgIGNvbG9yOiAjODU2NDA0O1xyXG5iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2NkO1xyXG59XHJcblxyXG4ubGlzdC1wcmVndW50YXtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEyNSk7XHJcbn1cclxuLmxpc3QtcHJlZ3VudGE6aG92ZXJ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLDAsMCwuMTI1KTtcclxufVxyXG5cclxuLmNvbnRlbmlkb19wcmVndW50YXtcclxuICAgIGhlaWdodDogMjBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActividadService } from 'src/app/administracion/carga-actividades/services/actividad.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { PreguntaService } from 'src/app/administracion/carga-actividades/services/pregunta.service';\r\n\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'app-consulta-pregunta',\r\n  templateUrl: './consulta-pregunta.component.html',\r\n  styleUrls: ['./consulta-pregunta.component.scss']\r\n})\r\nexport class ConsultaPreguntaComponent implements OnInit {\r\n\r\n  jwt;\r\n  idActividad;\r\n  actividad;\r\n  preguntas;\r\n  \r\n  constructor(\r\n    private _usuarioService : UsuarioService,\r\n    private _actividadService: ActividadService,\r\n    private _preguntaService: PreguntaService,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n\r\n    this.jwt = this._usuarioService.getJWT();\r\n    \r\n    this.idActividad = this.route.snapshot.parent.params['id'];\r\n\r\n\r\n    this._actividadService.consultaActividad(this.idActividad,this.jwt).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.actividad = response['actividad'][0];\r\n          this.consulta_preguntas(this.actividad.actividad_id)\r\n        }\r\n        console.log(response)\r\n      },error=>{\r\n        console.log(error)\r\n      });\r\n  }\r\n\r\n  \r\n  consulta_preguntas(id_actividad){  \r\n    \r\n      this._actividadService.consultaPreguntas(id_actividad,this.jwt).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.preguntas = response['preguntas'];\r\n            }else{\r\n              this.preguntas = [];\r\n            }\r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n  }\r\n\r\n  eliminaPregunta(id,k){\r\n    \r\n    alertify.confirm(\"¿Deseas eliminar la pregunta?\",\r\n    function(){\r\n      this._preguntaService.elimina(id,this.idActividad).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.preguntas.splice(k,1);\r\n              alertify.success(response['msg']);\r\n            }\r\n            else{\r\n              alertify.success(response['msg']);\r\n            }\r\n    \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancel');\r\n    });\r\n        \r\n    }      \r\n\r\n    dropPregunta(event: CdkDragDrop<string[]>) {\r\n      let idPregunta = this.preguntas[event.previousIndex].datos_pregunta_id;\r\n      let nuevoOrden = event.currentIndex+1\r\n  \r\n      moveItemInArray(this.preguntas, event.previousIndex, event.currentIndex);\r\n  \r\n      this._preguntaService.orden(nuevoOrden,this.idActividad,idPregunta,this.jwt).subscribe(\r\n        response =>{\r\n          console.log(response)\r\n            if(response && response['status']){\r\n              alertify.success(response['msg']);\r\n            }\r\n            else{\r\n              alertify.success(response['msg']);\r\n            }\r\n    \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    \r\n  \r\n\r\n}\r\n\r\n     \r\n  setPonderacion(ponderacion){\r\n    localStorage.setItem('ponderacion', ponderacion.ponderacion);\r\n    this._preguntaService.preguntaEliminada.emit(ponderacion); \r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ConsultaPreguntaComponent } from './consulta-pregunta.component';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\nimport { ConsultaPreguntaRoutingModule } from './consulta-pregunta-routing.module';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ConsultaPreguntaComponent,\r\n    \r\n    ],\r\n  imports: [\r\n    CommonModule,\r\n    LanguageTranslationModule,\r\n    ConsultaPreguntaRoutingModule,\r\n    DragDropModule\r\n\r\n  ]\r\n})\r\nexport class ConsultaPreguntaModule { }\r\n"],"sourceRoot":""}