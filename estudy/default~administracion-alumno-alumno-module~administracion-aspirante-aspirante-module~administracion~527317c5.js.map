{"version":3,"sources":["webpack:///./src/app/components/buscadorPersona/buscador-persona.component.html","webpack:///./src/app/components/buscadorPersona/buscador-persona.component.scss","webpack:///./src/app/components/buscadorPersona/buscador-persona.component.ts","webpack:///./src/app/components/buscadorPersona/buscador-persona.module.ts","webpack:///./src/app/components/buscadorPersona/buscador-persona.service.ts"],"names":[],"mappings":"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","file":"default~administracion-alumno-alumno-module~administracion-aspirante-aspirante-module~administracion~527317c5.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col col-xl-12 col-lg-12\\\">\\r\\n \\r\\n    <div class=\\\"input-group mb-3\\\">\\r\\n      <input (keyup)=\\\"consultaPersona()\\\"[(ngModel)]=\\\"contenido\\\"  type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Buscar información\\\" aria-label=\\\"Recipient's username\\\" aria-describedby=\\\"basic-addon2\\\">\\r\\n      <div class=\\\"input-group-append\\\">\\r\\n        <span class=\\\"input-group-text\\\" id=\\\"basic-addon2\\\"><i class=\\\"fa fa-search\\\"></i></span>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-md-12 \\\" *ngIf=\\\" contenido != null && quitar == 1 && contenido != 0 && _quitar != 1\\\">\\r\\n      <div class=\\\"window\\\">\\r\\n        <div *ngFor=\\\"let _nombre of persona; let i = index\\\">    \\r\\n          <h5 class=\\\"persona\\\" (click)=\\\"muestraPersona(tipoForm,i,_nombre.persona_id)\\\" >{{_nombre.primer_apellido}} {{_nombre.segundo_apellido}} {{_nombre.nombre}}</h5>\\r\\n          <p  class=\\\"persona\\\" (click)=\\\"muestraPersona(tipoForm,i, _nombre.persona_id)\\\" >{{_nombre.curp}}</p><hr>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n    <div class=\\\"formGroup\\\">                                   \\r\\n      <label class=\\\"control-label\\\">Realizar búsqueda por:</label><br>\\r\\n      <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n        <input  [(ngModel)]=\\\"tipoForm\\\" [value]=\\\"1\\\" type=\\\"radio\\\" id=\\\"nombre\\\" name=\\\"tipoForm\\\" class=\\\"custom-control-input\\\">\\r\\n        <label class=\\\"custom-control-label text-dark\\\" for=\\\"nombre\\\">Nombre</label>\\r\\n      </div>\\r\\n      <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n        <input [(ngModel)]=\\\"tipoForm\\\"  [value]=\\\"2\\\" type=\\\"radio\\\" id=\\\"curp\\\" name=\\\"tipoForm\\\" class=\\\"custom-control-input\\\">\\r\\n        <label class=\\\"custom-control-label text-dark\\\" for=\\\"curp\\\">CURP</label>\\r\\n      </div>\\r\\n      <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n        <input [(ngModel)]=\\\"tipoForm\\\"  [value]=\\\"3\\\" type=\\\"radio\\\" id=\\\"email\\\" name=\\\"tipoForm\\\" class=\\\"custom-control-input\\\">\\r\\n        <label class=\\\"custom-control-label text-dark\\\" for=\\\"email\\\">Email</label>\\r\\n      </div>      \\r\\n      <br>                 \\r\\n    </div>  \\r\\n  </div>\\r\\n</div>\\r\\n<br>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n.window {\\n  background: none repeat scroll 0 0 white;\\n  /*border: 1px solid #DDDDDD;*/\\n  left: auto;\\n  padding: 10px 0 0;\\n  text-align: justify;\\n  width: 100%;\\n  z-index: 15;\\n  margin: -15px 0px 0px -15px;\\n  position: absolute;\\n  box-shadow: 0px 4px 5px 3px rgba(51, 53, 54, 0.3);\\n  padding-left: 15px; }\\n\\n.persona {\\n  cursor: pointer; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9idXNjYWRvclBlcnNvbmEvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2J1c2NhZG9yUGVyc29uYS9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxjb21wb25lbnRzXFxidXNjYWRvclBlcnNvbmFcXGJ1c2NhZG9yLXBlcnNvbmEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDQyxtQkFBa0IsRUFDbEI7O0FBQ0Q7RUFDSSxlQUFjO0VBQ2QsNEJBQTJCLEVBQzlCOztBQUNEO0VBQ0ksc0JBQXNCLEVBQ3pCOztBQUNEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUNEO0VBQ0ksZ0JBQWU7RUFDZixpQkFBZ0IsRUFDbkI7O0FDZkQ7RUFDSSx5Q0FBcUQ7RUFDckQsOEJBQThCO0VBQzlCLFdBQVU7RUFDVixrQkFBaUI7RUFDakIsb0JBQW1CO0VBQ25CLFlBQVc7RUFDWCxZQUFXO0VBQ1gsNEJBQTJCO0VBQzNCLG1CQUFrQjtFQUNsQixrREFBaUQ7RUFDakQsbUJBQWtCLEVBQ3JCOztBQUVEO0VBQ0ksZ0JBQWUsRUFDbEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2J1c2NhZG9yUGVyc29uYS9idXNjYWRvci1wZXJzb25hLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIiwiQGltcG9ydCBcIi4uLy4uL3NoYXJlZC9zdHlsZXMvZm9ybXMuY29tcG9uZW50LnNjc3NcIjtcclxuXHJcbi53aW5kb3d7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lIHJlcGVhdCBzY3JvbGwgMCAwIHJnYigyNTUsIDI1NSwgMjU1KTtcclxuICAgIC8qYm9yZGVyOiAxcHggc29saWQgI0RERERERDsqL1xyXG4gICAgbGVmdDogYXV0bztcclxuICAgIHBhZGRpbmc6IDEwcHggMCAwO1xyXG4gICAgdGV4dC1hbGlnbjoganVzdGlmeTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgei1pbmRleDogMTU7XHJcbiAgICBtYXJnaW46IC0xNXB4IDBweCAwcHggLTE1cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3gtc2hhZG93OiAwcHggNHB4IDVweCAzcHggcmdiYSg1MSwgNTMsIDU0LCAwLjMpO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xyXG59XHJcblxyXG4ucGVyc29uYXtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4vLyAuZm9uZG8gOmhvdmVye1xyXG4vLyAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzNiwgMjM2LCAyMzYpO1xyXG4vLyB9XHJcbiJdfQ== */\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { BuscadorPersonaService } from './buscador-persona.service';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime} from 'rxjs/operators';\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'app-buscador-persona',\r\n  templateUrl: './buscador-persona.component.html',\r\n  styleUrls: ['./buscador-persona.component.scss']\r\n})\r\nexport class BuscadorPersonaComponent implements OnInit {\r\n\r\n  jwt: string;\r\n  public tipoForm;\r\n  public contenido;\r\n  tipo;\r\n  quitar;\r\n  _quitar;\r\n  public persona;\r\n  personaNombre;\r\n  personaCurp;  \r\n\r\n  searchChangeObserver;\r\n\r\n  @Input() idRol;\r\n  @Output() consultaExitosa = new EventEmitter<any>();  \r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private _buscadorPersonaService: BuscadorPersonaService\r\n  ) { }\r\n\r\n  ngOnInit(){\r\n    this.jwt = this._usuarioService.getJWT();\r\n    this.tipoForm = 1;\r\n  }  \r\n\r\n  consultaPersona(){\r\n    if (!this.searchChangeObserver) {\r\n      Observable.create(observer => {\r\n        this.searchChangeObserver = observer;\r\n      }).pipe(debounceTime(500)).subscribe(respuesta => { \r\n        this._buscadorPersonaService.busqueda(this.contenido,this.tipoForm,this.idRol).subscribe(\r\n          response =>{\r\n            console.log(response);\r\n            \r\n            if(response && response['status']){\r\n              if(this.idRol== 4){\r\n                this.persona = response['aspirante'];\r\n              }else{\r\n                this.persona = response['usuario'];\r\n              }\r\n              \r\n              this.quitar = 1;\r\n              this._quitar = 0;\r\n            }else{\r\n              alertify.error(response['msg'])\r\n              this.quitar = 0\r\n            }\r\n          },error =>{\r\n            console.log(<any>error)\r\n        });\r\n      });\r\n    }\r\n    this.searchChangeObserver.next(this.tipoForm);\r\n  }\r\n\r\n\r\n  muestraPersona(tipo, i){    \r\n    this._quitar = 1;\r\n    if (tipo == 1){\r\n          this.consultaExitosa.emit(\r\n      {\r\n        'status': 1, 'persona': this.persona[i]});\r\n    }\r\n    if(tipo == 2){\r\n        this.consultaExitosa.emit(\r\n        {\r\n          'status': 1, 'persona':this.persona[i]});\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BuscadorPersonaComponent } from './buscador-persona.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [BuscadorPersonaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  exports: [BuscadorPersonaComponent]\r\n})\r\nexport class BuscadorPersonaModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BuscadorPersonaService {\r\n  public url: string;\r\n  public jwt:string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n  ){\r\n    this.url = GLOBAL.url;\r\n   }\r\n\r\n   busqueda(contenido,tipoForm,idRol){\r\n    var params = '?busqueda='+contenido;\r\n    params += '&id_rol='+idRol;\r\n    params += '&tipo_form='+tipoForm;\r\n    params += '&tipo_busqueda=' + tipoForm;\r\n    params += '&min=0';\r\n    params += '&max=6';\r\n\r\n    if(idRol == 2){\r\n      return this._httpClient.get(this.url +'controlEscolar/alumno/busqueda_alumno.php'+params);\r\n    } else if(idRol == 3){\r\n      return this._httpClient.get(this.url +'controlEscolar/docente/busqueda_docente.php'+params);\r\n    } else if(idRol == 4){\r\n      params += '&limit_inicio=0';\r\n      params += '&limit_final=6';\r\n      params += '&tipo=1';\r\n\r\n      return this._httpClient.get(this.url +'seguimiento/administracion/consultaAspirantes.php'+params);\r\n    } else if(idRol == 5){\r\n      return this._httpClient.get(this.url +'seguimiento/asesor/busqueda.php'+params);\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}