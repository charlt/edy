{"version":3,"sources":["webpack:///./src/app/components/graficas-persona/graficas-persona.component.html","webpack:///./src/app/components/graficas-persona/graficas-persona.component.scss","webpack:///./src/app/components/graficas-persona/graficas-persona.component.ts","webpack:///./src/app/components/graficas-persona/graficas-persona.module.ts","webpack:///./src/app/components/graficas-persona/graficas-persona.service.ts","webpack:///./src/app/services/rol.service.ts"],"names":[],"mappings":"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","file":"default~administracion-alumno-dashboard-dashboard-module~dashboard-docente-dashboard-docente-module.js","sourcesContent":["module.exports = \"<app-encabezado-persona *ngIf=\\\"flag\\\" [idPersona]=\\\"idPersona\\\" [idRol]=\\\"idRol\\\"></app-encabezado-persona>\\r\\n<div class=\\\"row\\\" >\\r\\n  <div class=\\\"col-md-12\\\">  \\r\\n    <p *ngIf=\\\"idRol == 2 && persona\\\" ><b>Teléfono:</b> {{persona.celular}}</p>\\r\\n    <p *ngIf=\\\"idRol == 2 && persona\\\" ><b>Correo:</b> {{persona.email}}</p>\\r\\n    <div style=\\\"display: block\\\">\\r\\n      <div class=\\\"container boder rounded p-2\\\">\\r\\n        <canvas height=\\\"100\\\" *ngIf=\\\"show\\\" baseChart [datasets]=\\\"barChartData\\\" [labels]=\\\"barChartLabels\\\" [options]=\\\"barChartOptions\\\"\\r\\n          [legend]=\\\"barChartLegend\\\" [chartType]=\\\"barChartType\\\" [colors]=\\\"chartColors\\\">\\r\\n        </canvas>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"Accesos == null && !loading && !show\\\" class=\\\"container border rounded py-4 px-5 text-center\\\">\\r\\n        <h4>No se encontró información</h4>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"loading\\\" class=\\\"container border rounded py-4 px-5 text-center\\\">\\r\\n        <h4><i class=\\\"fa fa-spin fa-spinner fa-lg\\\"></i> Cargando información</h4>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<form class=\\\"row\\\" [formGroup]=\\\"searchForm\\\" (ngSubmit)=\\\"buscarAccesos()\\\" *ngIf=\\\"flag\\\">\\r\\n  <div class=\\\"col-6\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"control-label\\\">Mes</label>\\r\\n      <select formControlName=\\\"month\\\" class=\\\"form-control\\\">\\r\\n        <option value=\\\"\\\" selected disabled hidden>Selecciona un mes</option>\\r\\n        <option [value]=\\\"i+1\\\" *ngFor=\\\"let month of months; let i = index;\\\">{{month}}</option>\\r\\n      </select>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-6\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label class=\\\"control-label\\\">Año</label>\\r\\n      <select formControlName=\\\"year\\\" class=\\\"form-control\\\">\\r\\n        <option value=\\\"\\\" selected disabled hidden>Selecciona un año</option>\\r\\n        <option [value]=\\\"year\\\" *ngFor=\\\"let year of years; let i = index;\\\">{{year}}</option>\\r\\n      </select>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-12 mt-2\\\">\\r\\n    <button class=\\\"btn btn-primary pull-right\\\" [disabled]=\\\"searchForm.invalid\\\">Buscar</button>\\r\\n  </div>\\r\\n</form>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9ncmFmaWNhcy1wZXJzb25hL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXHNoYXJlZFxcc3R5bGVzXFxmb3Jtcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNDLG1CQUFrQixFQUNsQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCw0QkFBMkIsRUFDOUI7O0FBQ0Q7RUFDSSxzQkFBc0IsRUFDekI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBZTtFQUNmLGlCQUFnQixFQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZ3JhZmljYXMtcGVyc29uYS9ncmFmaWNhcy1wZXJzb25hLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIl19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { GraficasPersonaService } from './graficas-persona.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { RolService } from 'src/app/services/rol.service';\r\nimport { EncabezadoPersonaService } from '../encabezado-persona/encabezado-persona.service';\r\n\r\n@Component({\r\n  selector: 'graficas-persona',\r\n  templateUrl: './graficas-persona.component.html',\r\n  styleUrls: ['./graficas-persona.component.scss']\r\n})\r\nexport class GraficasPersonaComponent implements OnInit {\r\n\r\n  title: string;\r\n  searchForm: FormGroup;\r\n  @Input() idPersona: any;\r\n\r\n  years = [2020, 2021, 2022, 2023, 2024, 2025];\r\n  months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto',\r\n            'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\r\n  Accesos: any = [];\r\n  month: string;\r\n  show: boolean = false;\r\n  loading: boolean = false;\r\n  idRol: any;\r\n  jwt: string;\r\n  flag: boolean = false;\r\n  persona;\r\n\r\n  public barChartOptions = {\r\n    scaleShowVerticalLines: true,\r\n    responsive: true,\r\n    scales: {\r\n      xAxes: [{ stacked: true }],\r\n      yAxes: [{ stacked: true, ticks: { beginAtZero: true, stepSize: 2 } }]\r\n    }\r\n  };\r\n  public barChartLabels = [];\r\n  public barChartType = 'bar';\r\n  public barChartLegend = true;\r\n  public barChartData = [];\r\n  public chartColors: Array<any> = [{ backgroundColor: [], borderColor: [] }];\r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    // private _alumnosService: AlumnoService,\r\n    private route: ActivatedRoute,\r\n    private _graficasService: GraficasPersonaService,\r\n    private formBuilder: FormBuilder,\r\n    private _rolService: RolService,\r\n    private __encabezadoService: EncabezadoPersonaService\r\n  ){\r\n    // this.title= \"Consulta de accesos\";\r\n    // this._usuarioService.pushBreadcum('Alumnos','/admin/alumno',1);\r\n    // this._usuarioService.pushBreadcum(this.title,\"\",2); \r\n  }\r\n\r\n  ngOnInit(){\r\n    this.jwt = this._usuarioService.getJWT();\r\n    this._rolService.consultaRol(this.jwt, this.idPersona).subscribe(response => {      \r\n      if (response && response['status']) {\r\n        this.idRol = response['roles'][0]['rol_id'];        \r\n        let fecha = new Date();\r\n        let mes = fecha.getMonth();\r\n        let anio = fecha.getFullYear();\r\n        this.searchForm = this.formBuilder.group({\r\n          month: [mes, Validators.required],\r\n          year: [anio, Validators.required]\r\n        });\r\n        this.buscarAccesos();\r\n        if(this.idRol == 2){\r\n          this.consultaPersona();\r\n        }\r\n      }\r\n    }, error => {\r\n      console.log(<any>error);\r\n    });\r\n  }\r\n\r\n  consultaPersona(){\r\n    this.__encabezadoService.consultaPersona(this.idPersona, 2).subscribe(response => {      \r\n      if (response && response['status']) {\r\n        this.persona = response['persona'];\r\n        console.log(this.persona);\r\n      }\r\n    }, error => {\r\n      console.log(<any>error);\r\n    });\r\n  }\r\n\r\n  buscarAccesos() {  \r\n    this.Accesos = [];\r\n    this.show = false;\r\n    this.loading = true;\r\n    this.barChartLabels = [];\r\n    this.barChartData = [];\r\n    this.month = this.searchForm.get('month').value;\r\n    let year = this.searchForm.get('year').value;\r\n    this._graficasService.consultaAccesosMes(this.idPersona, this.month, year).subscribe(response =>{  \r\n      if(response && response['status']){\r\n        this.Accesos = response['registros'];\r\n        this.setDatos();\r\n        this.loading = false;\r\n      }else {\r\n        this.Accesos = null;\r\n        this.loading = false;\r\n      }\r\n      this.flag = true;\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  setDatos() {\r\n    let datos = [];\r\n    this.chartColors[0]['backgroundColor'] = [];\r\n    this.chartColors[0]['borderColor'] = [];\r\n\r\n    this.Accesos.forEach(acceso => {\r\n      let color = \"hsla(\" + ~~(360 * Math.random()) + \",\" + (25 + 70 * Math.random()) + \"%,\"+\r\n        (70 + 10 * Math.random()) + \"%,1)\";\r\n      this.barChartLabels.push('Día: ' + acceso.dia);\r\n      datos.push(acceso.accesos);\r\n      this.chartColors[0]['backgroundColor'].push(color);\r\n      this.chartColors[0]['borderColor'].push(color);\r\n\r\n    });\r\n\r\n    console.log(this.chartColors);\r\n    \r\n    this.barChartData.push({data: datos, label: `Accesos en el mes de ${this.months[parseInt(this.month)-1]}`});\r\n    this.show = true;\r\n  }\r\n\r\n\r\n  \r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChartsModule } from 'ng2-charts';\r\nimport { GraficasPersonaComponent } from './graficas-persona.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { EncabezadoPersonaModule } from '../encabezado-persona/encabezado-persona.module';\r\n\r\n@NgModule({\r\n  declarations: [GraficasPersonaComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ChartsModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    EncabezadoPersonaModule\r\n  ],\r\n  exports: [GraficasPersonaComponent]\r\n})\r\nexport class GraficasPersonaModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { GLOBAL }  from '../../services/global';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GraficasPersonaService {\r\n\r\n  public url: string;\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n  }\r\n\r\n  consultaAccesosMes(id_persona, mes, anio){\r\n    let params = new HttpParams()\r\n      .set('id_persona', id_persona)\r\n      .set('mes', mes)\r\n      .set('', anio);\r\n\r\n    return this.httpClient.get(this.url +'general/usuario/consultaAccesosMes.php', {params:params});\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { GLOBAL } from \"src/app/services/global\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RolService {\r\n\r\n  url: string = GLOBAL.url;\r\n\r\n  constructor(\r\n    private _httpClient: HttpClient\r\n  ) { }\r\n\r\n  consultaRol(jwt, id_persona) {\r\n    let params = new HttpParams()\r\n      .set('jwt', jwt).set('id_persona', id_persona);\r\n\r\n    return this._httpClient.get(this.url + 'general/usuarioRol/consulta.php', { params: params } );\r\n  }\r\n\r\n  setDatos(jwt, id_persona, id_usuario, id_rol, clave_usuario,tipo) {    \r\n    let formData = new FormData();\r\n      formData.append('jwt', jwt);\r\n      formData.append('id_persona', id_persona);\r\n      formData.append('id_usuario', id_usuario);\r\n      formData.append('id_rol', id_rol);\r\n      formData.append('clave_usuario', clave_usuario);\r\n      \r\n\r\n    if (tipo == 0) {\r\n      return this._httpClient.post(this.url + 'general/usuarioRol/elimina.php', formData );\r\n    }else if (tipo == 1) {\r\n      return this._httpClient.post(this.url + 'general/usuarioRol/crea.php', formData );\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}