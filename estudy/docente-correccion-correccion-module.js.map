{"version":3,"sources":["webpack:///./src/app/docente/retroalimentacion/services/retroalimentacion.service.ts"],"names":[],"mappings":"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","file":"docente-correccion-correccion-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RetroalimentacionService {\r\n\r\n  public url: string;\r\n\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n   }\r\n\r\n   consultaRetrosAlumno(tipo, id_materia,id_asignatura_grupo){\r\n    var params = '?nuevos='+tipo;\r\n    params += '&materia_id='+id_materia;\r\n    return this._httpClient.get(this.url +'/controlEscolar/retroalimentacion/retroalimentacionesAlumno.php'+params);\r\n   }\r\n\r\n\r\n   consultaRetrosDocente(jwt, tipo, id_asignatura_grupo){\r\n    var params = '?jwt='+jwt;\r\n    params += '&nuevos='+tipo;\r\n    params += '&id_asignatura_grupo='+id_asignatura_grupo;\r\n  \r\n    return this._httpClient.get(this.url +'/controlEscolar/retroalimentacion/retroalimentacionesDocente.php'+params);\r\n   }\r\n\r\n   cambiaVisto(rol, id_materia, id_actividad,visto, cambios){\r\n    var params = '?rol_id='+rol;\r\n    params += '&id_materia='+id_materia;\r\n    params += '&visto='+visto; //1 visto 0 no visto\r\n    params += '&id_actividad='+id_actividad; \r\n    params += '&numero_cambios='+cambios; \r\n  \r\n    return this._httpClient.get(this.url +'/learning/retroalimentacion/marcaVistoRetro.php'+params);\r\n   }\r\n\r\n   notificaciones(id_materia,id_actividad, jwt ){\r\n      var params = '?id_materia='+id_materia;\r\n      params += '&id_actividad='+id_actividad;\r\n      params += '&jwt='+jwt;\r\n    \r\n      return this._httpClient.get(this.url +'/learning/notificaciones/retroalimentacionActividad.php'+params);\r\n   }\r\n\r\n   consulta(id_materia,id_actividad){\r\n\r\n    var params = '?id_materia='+id_materia;\r\n     params += '&id_actividad='+id_actividad;\r\n    \r\n    return this._httpClient.get(this.url +'/learning/retroalimentacion/consulta.php'+params);\r\n  }\r\n\r\n  enviar(materia_fecha_actividad_id,persona_id,texto,origen,jwt,retroalimentacion_id=null, contForm, id_materia, id_actividad){\r\n\r\n    let formData: FormData = new FormData(); \r\n    \r\n    formData.append('materia_fecha_actividad_id', materia_fecha_actividad_id);\r\n    formData.append('persona_id', persona_id);\r\n    formData.append('origen', origen);\r\n    // formData.append('jwt', jwt);\r\n    formData.append('id_materia', id_materia);\r\n    formData.append('id_actividad', id_actividad);\r\n\r\n    if(texto)formData.append('texto', texto);else formData.append('texto', '');\r\n    if(contForm.get('contenido').value)formData.append('archivo', contForm.get('contenido').value);\r\n\r\n    if(!retroalimentacion_id){\r\n      return this._httpClient.post(this.url +'learning/retroalimentacion/crea.php',formData);\r\n    }\r\n  }\r\n\r\n  correccionActividad(materia_fecha_actividad_id,persona_id,texto,origen,jwt){\r\n\r\n\r\n    let formData: FormData = new FormData();\r\n  \r\n    formData.append('materia_fecha_actividad_id', materia_fecha_actividad_id);\r\n    formData.append('persona_id', persona_id);\r\n    formData.append('texto', texto);\r\n    formData.append('origen', origen);\r\n  \r\n  \r\n    return this._httpClient.post(this.url + 'learning/fechaActividad/corregirActividad.php',formData);\r\n  \r\n  }\r\n\r\n  invalidacionActividad(materia_fecha_actividad_id,persona_id,texto,origen,jwt){\r\n\r\n\r\n    let formData: FormData = new FormData();\r\n  \r\n    formData.append('materia_fecha_actividad_id', materia_fecha_actividad_id);\r\n    formData.append('persona_id', persona_id);\r\n    formData.append('texto', texto);\r\n    formData.append('origen', origen);\r\n  \r\n  \r\n    return this._httpClient.post(this.url + 'learning/fechaActividad/invalidaActividad.php',formData);\r\n  \r\n  }\r\n\r\n  \r\n  }\r\n"],"sourceRoot":""}