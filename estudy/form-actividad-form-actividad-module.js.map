{"version":3,"sources":["webpack:///./src/app/administracion/asignatura/services/asignatura.service.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/form-actividad/form-actividad-routing.module.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/form-actividad/form-actividad.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/form-actividad/form-actividad.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/form-actividad/form-actividad.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/form-actividad/form-actividad.module.ts","webpack:///./src/app/administracion/carga-actividades/services/actividad.service.ts","webpack:///./src/app/administracion/rubricas/services/rubricas.service.ts","webpack:///./src/app/components/file-upload/file.upload.validators.ts","webpack:///./src/app/models/adminEditor.ts","webpack:///./src/app/models/learning/trActividad.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACN;AACa;AAED;AAMjD;IAGE,2BACU,KAAW,EACf,WAAuB;QADnB,UAAK,GAAL,KAAK,CAAM;QACf,gBAAW,GAAX,WAAW,CAAY;QAE3B,IAAI,CAAC,GAAG,GAAG,8DAAM,CAAC,GAAG,CAAC;IACvB,CAAC;IAED,gDAAoB,GAApB,UAAqB,EAAE;QACtB,IAAI,MAAM,GAAG,mBAAmB,GAAC,EAAE,CAAC;QAEpC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,2CAA2C,GAAC,MAAM,CAAC,CAAC;IAC5F,CAAC;IAEA,2CAAe,GAAf,UAAgB,SAAS,EAAE,aAAa;QACvC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACtC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QAEhD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,uCAAuC,EAAC,QAAQ,CAAC,CAAC;IAE1F,CAAC;IAEF,4CAAgB,GAAhB,UAAiB,SAAS,EAAE,aAAa;QACvC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACtC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;QAC5C,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QAElD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,wCAAwC,EAAC,QAAQ,CAAC,CAAC;IAC3F,CAAC;IAED,mDAAuB,GAAvB,UAAwB,GAAG,EAAE,aAAa;QACzC,IAAI,MAAM,GAAG,iBAAiB,GAAC,aAAa,CAAC;QAC7C,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,wCAAwC,GAAC,MAAM,CAAC,CAAC;IAExF,CAAC;IAED,iCAAK,GAAL,UAAO,IAAI,EAAC,GAAG;QAEd,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC/B,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAE,CAAC;QACjC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,0BAA0B,EAAC,QAAQ,CAAC,CAAC;IAC9E,CAAC;IAEA,oCAAQ,GAAR,UAAS,GAAG,EAAE,EAAE;QACf,IAAI,MAAM,GAAG,iBAAiB,GAAC,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,gCAAgC,GAAC,MAAM,CAAC,CAAC;IACjF,CAAC;IAED,mCAAO,GAAP,UAAQ,EAAE;QACR,IAAI,MAAM,GAAG,iBAAiB,GAAC,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,+BAA+B,GAAC,MAAM,CAAC,CAAC;IAChF,CAAC;IAGD,0CAAc,GAAd,UAAe,EAAE,EAAC,IAAI,EAAC,GAAG;QACxB,IAAI,MAAM,GAAG,iBAAiB,GAAC,EAAE,CAAC;QAClC,MAAM,IAAI,QAAQ,GAAC,IAAI,CAAC;QACxB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,yCAAyC,GAAC,MAAM,CAAC,CAAC;IAC1F,CAAC;IAED,yCAAa,GAAb,UAAc,EAAE;QACd,IAAI,MAAM,GAAG,mBAAmB,GAAC,EAAE,CAAC;QACpC,2BAA2B;QAE3B,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,gDAAgD,GAAC,MAAM,CAAC,CAAC;IACjG,CAAC;IAGD,sDAA0B,GAA1B,UAA2B,aAAa,EAAE,aAAa,EAAC,UAAU,EAAC,MAAM;QACvE,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,IAAG,aAAa,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,aAAa,CAAC;SAAC;aAAK;YAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC;SAAC;QAC/G,IAAG,aAAa;YAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAC,aAAa,CAAC,CAAC;QAEhE,IAAI,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;SAAC;QACjK,IAAI,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;SAAC;QACjL,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAC,MAAM,CAAC,CAAC;QAEjC,IAAG,MAAM,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAC;YAC5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,kDAAkD,EAAC,QAAQ,CAAC,CAAC;SACrG;aAAK,IAAG,MAAM,IAAI,CAAC,EAAC;YACnB,gCAAgC;YAChC,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,wCAAwC,EAAC,QAAQ,CAAC,CAAC;SAC3F;IACH,CAAC;IAGA,8CAAkB,GAAlB,UAAmB,UAAU,EAAE,GAAG,EAAC,aAAa;QAE/C,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,yEAAyE;QACzE,QAAQ,CAAC,MAAM,CAAC,kBAAkB,EAAE,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,CAAC;QAC7E,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,UAAU,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,CAAC;QACxE,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC,CAAC;QACxE,QAAQ,CAAC,MAAM,CAAC,oBAAoB,EAAE,UAAU,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC;QAC9E,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,UAAU,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC;QAC/E,gFAAgF;QAChF,2EAA2E;QAC3E,4CAA4C;QAE5C,wDAAwD;QAExD,IAAI,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;SAAC;QACjK,IAAI,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;SAAC;QACjL,IAAI,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;SAAC;QAC/I,IAAI,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,EAAC;YAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC;SAAC;aAAI;YAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;SAAC;QAE/I,IAAI,CAAC,aAAa,EAAE;YAClB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,4BAA4B,EAAC,QAAQ,CAAC,CAAC;SAC/E;aAAI;YACH,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;YAChD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,6BAA6B,EAAC,QAAQ,CAAC,CAAC;SAChF;IACH,CAAC;IAED,yCAAa,GAAb,UAAe,YAAY,EAAC,OAAO,EAAE,GAAG,EAAE,GAAG;QAC3C,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAC,YAAY,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAC,OAAO,CAAC,CAAC;QACnC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,yCAAyC,EAAC,QAAQ,CAAC,CAAC;IAC7F,CAAC;IAED,kCAAM,GAAN,UAAO,oBAAoB,EAAE,OAAO,EAAC,GAAG;QACtC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAC,oBAAoB,CAAC,CAAC;QACtD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACnC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,mCAAmC,EAAC,QAAQ,CAAC,CAAC;IACvF,CAAC;IAED,wCAAY,GAAZ,UAAa,oBAAoB,EAAE,OAAO,EAAC,GAAG;QAC5C,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAC,oBAAoB,CAAC,CAAC;QACtD,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACnC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,yCAAyC,EAAC,QAAQ,CAAC,CAAC;IAC7F,CAAC;IAED,+CAAmB,GAAnB,UAAoB,UAAU;QAC5B,IAAI,MAAM,GAAG,cAAc,GAAC,UAAU,CAAC;QACvC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,gDAAgD,GAAC,MAAM,CAAC,CAAC;IACjG,CAAC;IAED,0DAA8B,GAA9B,UAA+B,GAAG;QAChC,IAAI,MAAM,GAAG,OAAO,GAAC,GAAG,CAAC;QACzB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,2CAA2C,GAAC,MAAM,CAAC,CAAC;IAC5F,CAAC;IAED,mDAAuB,GAAvB,UAAyB,mBAAmB;QAC1C,IAAI,MAAM,GAAG,uBAAuB,GAAC,mBAAmB,CAAC;QACzD,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,8CAA8C,GAAC,MAAM,CAAC,CAAC;IAC/F,CAAC;IAED,yDAA6B,GAA7B,UAA8B,mBAAmB;QAC/C,IAAI,MAAM,GAAG,uBAAuB,GAAC,mBAAmB,CAAC;QACzD,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,uDAAuD,GAAC,MAAM,CAAC,CAAC;IACxG,CAAC;IArKU,iBAAiB;QAH7B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAKiB,kDAAI;YACF,+DAAU;OALlB,iBAAiB,CAuK7B;IAAD,wBAAC;CAAA;AAvK6B;;;;;;;;;;;;;;;;;;;;;;;;ACVW;AACc;AACa;AAGpE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gFAAsB;KAClC;CACF,CAAC;AAKF;IAAA;IAA0C,CAAC;IAA9B,0BAA0B;QAJtC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,0BAA0B,CAAI;IAAD,iCAAC;CAAA;AAAJ;;;;;;;;;;;;ACfvC,sNAAsN,4BAA4B,qCAAqC,iCAAiC,wpCAAwpC,OAAO,kSAAkS,+BAA+B,sGAAsG,+BAA+B,oKAAoK,yBAAyB,gLAAgL,8BAA8B,qGAAqG,8BAA8B,qIAAqI,wBAAwB,6NAA6N,2BAA2B,kGAAkG,2BAA2B,yIAAyI,yBAAyB,8RAA8R,6DAA6D,oQAAoQ,4DAA4D,g9BAAg9B,83CAA83C,kkBAAkkB,wBAAwB,+FAA+F,wBAAwB,mIAAmI,yBAAyB,6NAA6N,mCAAmC,6PAA6P,iCAAiC,sFAAsF,iCAAiC,6LAA6L,aAAa,g/DAAg/D,yOAAyO,YAAY,wiBAAwiB,2BAA2B,gEAAgE,uBAAuB,+GAA+G,8QAA8Q,mTAAmT,yBAAyB,0RAA0R,6BAA6B,uJAAuJ,2BAA2B,+HAA+H,sCAAsC,yJAAyJ,2BAA2B,yLAAyL,gCAAgC,4ZAA4Z,uBAAuB,qYAAqY,iCAAiC,qYAAqY,qCAAqC,qMAAqM,2BAA2B,qMAAqM,iCAAiC,qQAAqQ,2BAA2B,yGAAyG,sBAAsB,uMAAuM,8BAA8B,0WAA0W,qBAAqB,yXAAyX,sBAAsB,qLAAqL,2BAA2B,oKAAoK,yBAAyB,+WAA+W,kBAAkB,2XAA2X,kBAAkB,2LAA2L,2BAA2B,mMAAmM,8BAA8B,0GAA0G,8BAA8B,mJAAmJ,2BAA2B,8PAA8P,0BAA0B,wJAAwJ,2BAA2B,yHAAyH,6BAA6B,2JAA2J,2BAA2B,oMAAoM,4CAA4C,aAAa,gBAAgB,yTAAyT,2BAA2B,uYAAuY,2BAA2B,0KAA0K,0BAA0B,wJAAwJ,2BAA2B,oHAAoH,+BAA+B,yJAAyJ,2BAA2B,8LAA8L,0BAA0B,iXAAiX,kBAAkB,6XAA6X,kBAAkB,6LAA6L,2BAA2B,2KAA2K,2BAA2B,yJAAyJ,2BAA2B,6JAA6J,oDAAoD,qJAAqJ,2BAA2B,6LAA6L,wDAAwD,wVAAwV,sBAAsB,sWAAsW,qBAAqB,+XAA+X,8BAA8B,mLAAmL,2BAA2B,mLAAmL,uBAAuB,kYAAkY,6DAA6D,sNAAsN,+CAA+C,oSAAoS,2BAA2B,yZAAyZ,sBAAsB,2UAA2U,2BAA2B,+FAA+F,sBAAsB,6QAA6Q,wE;;;;;;;;;;;ACA5pzB,+BAA+B,uBAAuB,EAAE,kBAAkB,mBAAmB,gCAAgC,EAAE,4BAA4B,0BAA0B,EAAE,0BAA0B,wBAAwB,EAAE,WAAW,oBAAoB,qBAAqB,EAAE,kBAAkB,mBAAmB,8BAA8B,0BAA0B,EAAE,sBAAsB,qBAAqB,kBAAkB,4BAA4B,EAAE,iBAAiB,iBAAiB,cAAc,sBAAsB,EAAE,+CAA+C,2jE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAngB;AAC8B;AAC3C;AACA;AACQ;AACe;AAClC;AACP;AAC4C;AACJ;AAC/B;AACd;AACmB;AACoC;AAWlG;IA8CE,gCACU,WAAwB,EACxB,eAA+B,EAC/B,iBAAoC,EACpC,eAAgC,EAChC,YAAsB,EACtB,MAA2B,EAC3B,aAA2B,EAC3B,kBAAqC,EACrC,QAAqB,EACrB,KAAqB,EACrB,MAAc,EACd,SAAmB;QAXnB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAgB;QAC/B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,iBAAY,GAAZ,YAAY,CAAU;QACtB,WAAM,GAAN,MAAM,CAAqB;QAC3B,kBAAa,GAAb,aAAa,CAAc;QAC3B,uBAAkB,GAAlB,kBAAkB,CAAmB;QACrC,aAAQ,GAAR,QAAQ,CAAa;QACrB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAU;QAlD7B,qBAAgB,GAAY,GAAG,CAAC;QACtB,gBAAW,GAAG,IAAI,0DAAY,EAAO,CAAC;QAmBhD,gBAAW,GAAY,KAAK,CAAC;QAC7B,mBAAc,GAAG,EAAE,CAAC;QAKpB,gBAAW,GAAG,sEAAW,CAAC;QAI1B,UAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACjC,aAAQ,GAAG,IAAI,CAAC;QAChB,eAAU,GAAY,KAAK,CAAC;QAC5B,mBAAc,GAAY,KAAK,CAAC;QAmB9B,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;IACzB,CAAC;IAEF,sBAAI,qCAAC;aAAL,cAAU,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAC/C,sBAAI,sCAAE;aAAN,cAAW,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,GAAC;;;OAAA;IAEpD,iCAAiC;IAEjC,yCAAQ,GAAR;QAAA,iBAyFC;QArFC,IAAI,CAAC,SAAS,GAAG,8DAAM,CAAC,SAAS,CAAC;QAClC,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;QAClD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAEzC,IAAG,QAAQ,CAAC,aAAa;YACvB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;;YAEhD,IAAI,CAAC,SAAS,GAAE,CAAC,CAAC;QAAA,CAAC;QAErB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE/F,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC;QAG5D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC1C,cAAc,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACxC,eAAe,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC1C,aAAa,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACxC,WAAW,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACtC,SAAS,EAAE,CAAC,EAAE,EAAE,8GAAgB,CAAC,CAAC,CAAC,CAAC;YACpC,KAAK,EAAE,CAAC,KAAK,CAAC;YACd,IAAI,EAAE,CAAC,KAAK,CAAC;YACb,WAAW,EAAE,CAAC,EAAE,CAAC;YACjB,QAAQ,EAAE,CAAC,EAAE,CAAC;YACd,UAAU,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,MAAM,CAAC,CAAC;YACpC,OAAO,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,MAAM,CAAC,CAAC;YACjC,SAAS,EAAE,CAAC,CAAC,CAAC;YACd,WAAW,EAAE,IAAI,IAAI,EAAE,CAAC,iBAAiB,EAAE,GAAC,EAAE;SAC/C,CAAC,CAAC;QAGH,IAAG,IAAI,CAAC,WAAW,EAAC;YAGnB,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAC3E,kBAAQ;gBACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;oBAChC,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1C,KAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC3B,KAAI,CAAC,qBAAqB,CAAC,KAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;oBAC7D,KAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;iBACtD;YACH,CAAC,EAAC,eAAK;gBACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YACpB,CAAC,CAAC,CAAC;SAEL;aACE;YACF,IAAI,CAAC,SAAS,GAAG,IAAI,+EAAW,EAAE,CAAC;YACnC,IAAI,CAAC,KAAK,GAAG,uBAAuB,CAAC;YACrC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SAChC;QAGD,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACpE,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,YAAY,CAAC,CAAC;aAC1C;QACH,CAAC,EAAC,eAAK;YACP,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CACzD,kBAAQ;YACJ,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;aACvC;QAET,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,CAAC,4BAA4B,EAAE,CAAC,SAAS,CAC7D,kBAAQ;YACJ,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;aACrD;QAEP,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,oDAAmB,GAAnB,UAAoB,iBAAiB;QAArC,iBAmBC;QAlBG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CACjE,kBAAQ;YACN,IAAG,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAEpB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAErF,IAAG,KAAI,CAAC,cAAc,GAAG,CAAC;oBAAE,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBAEpD,IAAG,iBAAiB,EAAC;oBACnB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,iBAAiB,CAAC,CAAC;iBACzE;aAGF;QACL,CAAC,EAAC,eAAK;YAEL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sDAAqB,GAArB,UAAsB,iBAAiB;QAAvC,iBAmBC;QAlBC,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,CAAC,SAAS,CAAC,kBAAQ;YAC/D,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAE9B,KAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;gBAC7C,IAAI,KAAI,CAAC,KAAK,IAAI,CAAC,EAAE;oBACnB,IAAI,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAC,IAAK,OAAO,CAAC,CAAC,iBAAiB,GAAC,CAAC,CAAC;iBAEvE;gBAEH,KAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAG,iBAAiB,EAAC;oBACnB,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;iBACvC;aAEF;QACH,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAU,GAAV,UAAW,OAAO;QAAlB,iBAmCD;QAlCG,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,IAAI,EAAC,YAAY,CAAC;QACtB,IAAG,IAAI,CAAC,KAAK,IAAI,CAAC,EAAC;YACjB,YAAY,GAAE,IAAI,CAAC,YAAY,CAAC;YAChC,IAAI,GAAG,CAAC;SACT;aACG;YACF,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC5E,IAAI,GAAG,CAAC,CAAC;SACV;QAGD,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,YAAY,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,SAAS,CACtE,kBAAQ;YACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,IAAI,OAAO,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAElC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,MAAM;oBAC5C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;oBAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;oBAC1B,OAAO,MAAM,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC;gBAC3C,CAAC,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;aAEf;iBAAI;gBACH,KAAI,CAAC,OAAO,GAAE,EAAE;aACjB;QACH,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YAClB,KAAI,CAAC,OAAO,GAAE,EAAE;QAClB,CAAC,CACF;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAC,MAAM;QACjE,CAAC,EAAE,UAAC,MAAM;QACV,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4CAAW,GAAX;QAAA,iBAeC;QAdC,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC,SAAS,CACpH,kBAAQ;YACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAC9B,QAAQ,CAAC,OAAO,CAAC,+BAA+B,CAAC;gBACjD,KAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;aACzB;iBAAI;aAEJ;QAEH,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACF;IAEH,CAAC;IAEC,oDAAmB,GAAnB;QAAA,iBAmEC;QAlEC,IAAI,OAAO,CAAC;QACZ,IAAI,aAAa,EAAC,UAAU,EAAC,UAAU,CAAC,CAAC,2EAA2E;QAEpH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAE5C,IAAI,YAAY,GAAQ,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAQ,EAAE,CAAC;QACxB,IAAI,WAAW,GAAQ,EAAE,CAAC;QAC1B,IAAI,QAAQ,GAAQ,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,SAAS,EAAC,EAAE,4EAA4E;YAE/F,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;gBAC/B,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC;gBAC1D,YAAY,GAAG,EAAC,IAAI,EAAE,MAAM,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAC,CAAC,EAAE,GAAG,EAAE,MAAM,CAAC,OAAO,EAAE,EAAC,CAAC;gBAC/F,WAAW,GAAG,EAAC,IAAI,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,UAAU,EAAE,EAAC,CAAC;gBAElG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC/C,IAAG,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,MAAM,CAAC,UAAU,EAAE,IAAG,CAAC,EAAC;oBACnD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAC/C;aACF;YACD,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;gBAC5B,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;gBACpD,SAAS,GAAG,EAAC,IAAI,EAAE,GAAG,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,OAAO,EAAE,EAAC,CAAC;gBACnF,QAAQ,GAAG,EAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,EAAC,CAAC;aACvF;YAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;YAC/C,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC;YACjD,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;YAC1C,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC;YAC/C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YACxD,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAE,CAAC,CAAC,CAAC,CAAE;SAEtE;aAAI,EAAE,yGAAyG;YAC9G,IAAI,CAAC,SAAS,GAAG,IAAI,+EAAW,EAAE,CAAC;YACnC,aAAa,GAAI,EAAE;YACnB,UAAU,GAAG,CAAC,CAAC;YACf,UAAU,GAAG,CAAC,CAAC;YACf,OAAO,GAAG,CAAC,CAAC;YACZ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;SACxB;QAEC,IAAI,IAAI,CAAC,SAAS,CAAC,iBAAiB,IAAI,GAAG,EAAE;YAC3C,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;QACpF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;QAClF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAChE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAC3E,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAC7D,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAExE,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACpF,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;aACjD;QACH,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,6CAAY,GAAZ,UAAa,EAAE,EAAC,KAAK,EAAC,MAAM;QAC1B,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC;QAC9C,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,EAAC;YACrF,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;SAC1C;aAAK,IAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,CAAC,EAAC;YACjD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;SAC1C;QACC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAQ;YAC1G,wCAAwC;YACxC,8BAA8B;YAC9B,IAAI;QACN,CAAC,EAAC,eAAK;YACP,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAY,GAAZ;QAAA,iBAKC;QAJC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,eAAK;YAClE,KAAI,CAAC,cAAc,EAAE,CAAC;YACtB,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAa,GAAb,UAAc,KAAK;QACjB,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,iBAAiB,IAAI,KAAK,EAA5B,CAA4B,CAAC,CAAC;QAC1E,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;QACvB,IAAI,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;QAChD,IAAI,QAAQ,CAAC;QAEb,IAAI,KAAK,IAAI,GAAG,EAAE;YAChB,IAAI,eAAe,GAAQ,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC;YAC9D,IAAI,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC;gBAAG,eAAe,GAAG,IAAI,CAAC;iBACtD,IAAG,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe;gBAAE,eAAe,GAAG,KAAK,CAAC;YAEpF,QAAQ,GAAG,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC,iBAAiB,EAAC,CAAC,CAAC,CAAC,iBAAiB,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,eAAe,EAAE;gBAC/H,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,eAAe,EAAC,CAAC,CAAC,CAAC,eAAe,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,EAAE;gBAC9F,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,SAAS,EAAE;gBACpE,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,EAAC,CAAC,CAAC,CAAC,YAAY,EAAC,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,YAAY,EAAE;gBACpG,EAAE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,kBAAkB,EAAC,CAAC,CAAC,CAAC,kBAAkB,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,iBAAiB,EAAE;gBACnH,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC,wBAAwB,EAAC,CAAC,CAAC,CAAC,wBAAwB,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,qBAAqB,EAAE;gBACpI,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAC,CAAC,IAAI,CAAC,WAAW,EAAC,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,WAAW,EAAC;gBACnG,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC,KAAK,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,KAAK,EAAE;gBACxE,EAAE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,EAAC,CAAC,CAAC,CAAC,UAAU,EAAC,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,UAAU,EAAE;aAG3F,CAAC;YACF;;eAEG;SACJ;aAAK;YACJ,QAAQ,GAAG,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC,iBAAiB,EAAE,IAAI,EAAE,QAAQ,CAAC,eAAe,EAAE;gBACrG,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,eAAe,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,EAAE;gBACtE,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,SAAS,EAAE;gBACpE,EAAE,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,CAAC,CAAC,YAAY,EAAE,IAAI,EAAE,QAAQ,CAAC,YAAY,EAAE;gBACjF,EAAE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,kBAAkB,EAAE,IAAI,EAAE,QAAQ,CAAC,iBAAiB,EAAE;gBACxF,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC,wBAAwB,EAAE,IAAI,EAAE,QAAQ,CAAC,qBAAqB,EAAE;gBACnG,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,QAAQ,CAAC,WAAW,EAAC;gBAC9E,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,CAAC,KAAK,EAAE;gBAC1D,EAAE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE,QAAQ,CAAC,UAAU,EAAE;aAC1E,CAAC;SACD;QACD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IAC7B,CAAC;IAED,+CAAc,GAAd;QAAA,iBAQC;QAPC,IAAI,QAAQ,GAAG,CAAC,gBAAgB,EAAE,QAAQ,EAAE,WAAW,EAAE,gBAAgB,EAAE,YAAY,EAAE,aAAa;YACtG,OAAO,EAAC,aAAa,EAAE,YAAY,EAA0C,CAAC;QAC9E,QAAQ,CAAC,OAAO,CAAC,iBAAO;YACtB,IAAI,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;gBACnC,KAAI,CAAC,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aAC3C;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAW,GAAX,UAAY,QAAQ;QAApB,iBAgBC;QAfC,QAAQ,CAAC,OAAO,CAAC,cAAI;YACnB,IAAI,IAAI,CAAC,OAAO,IAAI,aAAa,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,EAAE;gBACrD,KAAI,CAAC,aAAa,CAAC,UAAU,CAAE,IAAI,CAAC,OAAO,EAAE,IAAI,0DAAW,CAAE,IAAI,CAAC,KAAK,EACtE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,UAAC,OAAwB,IAAK,gEAAU,CAAC,GAAG,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,EAA5C,CAA4C,EAAE,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAE,CAAC;aAC/I;iBAAK,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,EAAC;gBACzB,KAAI,CAAC,aAAa,CAAC,UAAU,CAAE,IAAI,CAAC,OAAO,EAAE,IAAI,0DAAW,CAAE,IAAI,CAAC,KAAK,EAAE,yDAAU,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC;aACrG;QACH,CAAC,CAAC,CAAC;QAEH;;;;;mBAKW;IACb,CAAC;IAED,iDAAgB,GAAhB;QACE,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC;QAC7D,IAAI,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,KAAK,CAAC;QACV,QAAQ,CAAC,OAAO,CAAC,kBAAQ;YACvB,SAAS,GAAG,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,KAAK,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3D,CAAC;IAED,0CAAS,GAAT,UAAU,OAAO,EAAE,UAAU;QAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAChD,qCAAqC;QACrC,qBAAqB;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC;IAChD,CAAC;IAED,yCAAQ,GAAR;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED,gDAAe,GAAf;QAAA,iBA8BC;QA7BC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC3G,kBAAQ;YACF,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,QAAQ,CAAC,cAAc,CAAC;oBAAC,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAC;gBACzE,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,KAAI,CAAC,WAAW,EAAC,KAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAC3E,kBAAQ;oBACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;wBAChC,KAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;wBAChD,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;qBACvB;gBACH,CAAC,EACD,eAAK;oBACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBACpB,CAAC,CAAC,CAAC;gBAEL,KAAI,CAAC,WAAW,CAAC,IAAI,CACnB;oBACE,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC;oBAC5B,YAAY,EAAG,QAAQ,CAAC,YAAY,CAAC;iBACtC,CAAC,CAAC,yEAAwE;aAC9E;iBAAI;gBACH,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aAEhC;QACT,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kDAAiB,GAAjB,UAAkB,EAAE,EAAC,KAAK;QACxB,QAAQ,CAAC,OAAO,CAAC,gCAAgC,EAC/C;YAAA,iBAeC;YAdC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,EAAE,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAC5D,kBAAQ;gBACN,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;oBAC1B,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC;oBACxC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;iBACnC;qBACG;oBACF,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;iBACnC;YAEL,CAAC,EAAC,eAAK;gBACL,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;YACzB,CAAC,CAAC,CAAC;QAEX,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EACZ;YACE,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,yCAAQ,GAAR,UAAU,KAAa;QACrB,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACpD,OAAO,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,+CAAc,GAAd;QACE,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IACjC,CAAC;IAED,wCAAO,GAAP,UAAQ,EAAE,EAAE,IAAI;QACd,IAAI,EAAE,IAAI,CAAC,EAAE;YACX,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACtD;aAAK;YACJ,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACnD;IACH,CAAC;IAED,2DAA0B,GAA1B,UAA2B,EAAM,EAAE,GAAQ;QAA3C,iBAyEC;QAzE0B,2BAAM;QAAE,8BAAQ;QACzC,IAAI,EAAE,IAAI,CAAC;YAAE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;YAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAE,oBAAU;gBAC1D,KAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,aAAa,EAAE,CAAC;YAC1D,CAAC,CAAC,CAAC;YACH,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,wDAAwD;YACxD,gCAAgC;YAChC,iBAAiB;YACnB,OAAO;YACP,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;YAElC,IAAK,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC9F,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAG;gBACtF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aACxB;iBAAK;gBACJ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,OAAO,WAAE,IAAI,UAAC;gBAElB,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAAE,OAAO,GAAG,qBAAqB,CAAC;qBAC9I,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACnH,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,WAAW,CAAC;qBAC9E,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC;oBAClG,OAAO,GAAG,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;qBAC/E,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC;oBACjG,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;gBAGlF,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAAE,IAAI,GAAG,qBAAqB,CAAC;qBAC/H,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACvG,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,WAAW,CAAC;qBACxE,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC;oBACtF,IAAI,GAAG,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;qBACzE,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC;oBACrF,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBAEzE,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,EAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,WAAW,EAAC,IAAI,CAAC,GAAG,EACjG,OAAO,EAAE,IAAI,CAAC,CAAC,SAAS,CACxB,kBAAQ;oBACJ,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;wBAEhC,IAAG,CAAC,KAAI,CAAC,WAAW;4BAAE,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC;wBAEjE,IAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC,EAAC;4BACjE,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAC,KAAI,CAAC,WAAW,GAAC,QAAQ,CAAC,EAAC,EAAE,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;yBAC3G;6BAAK,IAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC,EAAE;4BACxE,KAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;yBACvB;6BAAK,IAAG,EAAE,IAAI,CAAC,EAAE;4BAChB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAC,GAAG,GAAE,GAAG,GAAC,KAAI,CAAC,WAAW,CAAC,EAAC,EAAE,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;yBACjG;wBAED,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;qBAElC;yBAAI;wBACH,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;qBAChC;oBAED,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAEhC,CAAC,EAAC,eAAK;oBACP,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC;gBACzB,CAAC,CAAC,CAAC;aACJ;SACF;aAAI;YACH,QAAQ,CAAC,KAAK,CAAC,oEAAoE,CAAC,CAAC,aAAa,EAAE,CAAC;SACtG;IAEH,CAAC;IAED,gDAAe,GAAf;QAAA,iBAQC;QAPC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAQ;YACxD,IAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAC;gBAChC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;aACtC;QACH,CAAC,EAAC,eAAK;YACL,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAQ,GAAR,UAAS,KAAK;QACZ,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,GAAG,GAAG,8DAAM,CAAC,GAAG,CAAC;QACrB,IAAI,SAAS,GAAG,8DAAM,CAAC,SAAS,CAAC;QACjC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACnB,IAAI,QAAQ,GAAG,EAAE,GAAC,IAAI,CAAC,QAAQ,GAAC,EAAE,CAAC;QAEnC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,UAAU,GAAG;YAClC,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,gCAAgC;YAChC,IAAK,CAAE,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAE,EAAG;gBAC3C,sBAAsB;gBACtB,IAAI,WAAW,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,WAAW;gBAClD,2CAA2C;gBAC3C,eAAe,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,mBAAmB;gBACpD,kCAAkC;gBACpC,IAAI,GAAG,GAAG,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC9C,IAAI,GAAG,EAAE;oBACP,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAChC,IAAI,GAAG,GAAG,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,kBAAQ;wBAC1D,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC;4BAChC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;;4BAElD,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;oBACpD,CAAC,EAAE,eAAK;wBACN,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC,CAAC;oBAC1B,CAAC,CAAC,CAAC;iBACJ;aACJ;QACH,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,MAAM,CAAC,EAAE,CAAE,mBAAmB,EAAE,UAAU,GAAG;YACjD,IAAI,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,UAAU,EACpC,QAAQ,GAAG,IAAI,QAAQ,EAAE,EACzB,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;YACrB,GAAG,CAAC,IAAI,CAAC,MAAM,EAAC,GAAG,GAAE,mCAAmC,EAAE,IAAI,CAAC,CAAC;YAChE,8DAA8D;YAC9D,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YAC5B,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAC,QAAQ,CAAC,CAAC;YACxC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAE,CAAC;YACjC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC9D,UAAU,CAAC,GAAG,CAAC,IAAI,CAAE,QAAQ,CAAE,CAAC;YAChC,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,kCAAkC;QACpC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAE,CAAC;QAEnB,KAAK,CAAC,MAAM,CAAC,EAAE,CAAE,oBAAoB,EAAE,UAAU,GAAG;YAClD,wCAAwC;YACxC,GAAG,CAAC,IAAI,EAAE,CAAC;YACX,wBAAwB;YACxB,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EACjB,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EACzB,QAAQ,GAAG,GAAG,CAAC,YAAY,CAAC,KAAK,CAAE,GAAG,CAAE,CAAC;YAC3C,IAAK,QAAQ,CAAC,CAAC,CAAC,EAAG;gBACjB,6CAA6C;gBAC7C,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC3B,GAAG,CAAC,MAAM,EAAE,CAAC;aACd;iBAAK;gBACJ,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClC,2BAA2B;gBAC3B,oBAAoB;gBACpB,UAAU,CAAC;oBACT,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACtB,CAAC,EAAE,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,GAAG,GAAG,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAID,wCAAO,GAAP,UAAQ,KAAU;QAChB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;IAC9E,CAAC;IAED,0CAAS,GAAT,UAAU,GAAO;QACf,4BAA4B;QAC5B,kBAAkB;QAClB,+BAA+B;QAC/B,2BAA2B;QAC3B,yDAAyD;QACzD,yCAAyC;QACzC,2CAA2C;QAC3C,oBAAoB;QACpB,oBAAoB;QACpB,QAAQ;QACR,MAAM;QACN,MAAM;QACN,mCAAmC;QACnC,IAAI,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC;QAClC,IAAG,MAAM,CAAC,CAAC,CAAC,EAAC;YACX,IAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACxC,IAAI,SAAS,KAAK,oBAAoB,EAAE;gBACtC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;gBACrC,0BAA0B;gBAC1B,0GAA0G;gBAC1G,SAAS;gBACT,2EAA2E;gBAC3E,IAAI;aACL;YACD,yCAAyC;YACzC,wEAAwE;YACxE,IAAI;YACJ,+BAA+B;YAC/B,mCAAmC;YACnC,0DAA0D;YAC1D,mBAAmB;SACpB;IACH,CAAC;IAGD,4CAAW,GAAX,UAAY,GAAG;QACb,IAAI,CAAC,0BAA0B,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC1C,CAAC;IAED,2CAAU,GAAV;QACE,QAAQ,CAAC,OAAO,CAAC,2FAA2F,CAAC,CAAC,aAAa,EAAE,CAAC;IAChI,CAAC;IAlsBS;QAAT,4DAAM,EAAE;;+DAAuC;IATrC,sBAAsB;QALlC,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;;;SAG3B,CAAC;yCAgDuB,0DAAW;YACP,+EAAc;YACX,4EAAgB;YACnB,yGAAe;YAClB,mEAAQ;YACd,8EAAmB;YACZ,4EAAY;YACP,gHAAiB;YAC3B,sEAAW;YACd,+DAAc;YACb,uDAAM;YACH,yDAAQ;OA1DlB,sBAAsB,CA8sBlC;IAAD,6BAAC;CAAA;AA9sBkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBM;AACM;AAE8B;AACT;AACgD;AAClD;AACQ;AACW;AAClC;AACI;AAgBvD;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAd/B,8DAAQ,CAAC;YACR,YAAY,EAAE,CAAC,gFAAsB,CAAE;YACvC,OAAO,EAAE;gBACP,4DAAY;gBACZ,yFAA0B;gBAC1B,iIAAyB;gBACzB,0DAAW;gBACX,kGAAgB;gBAChB,kEAAmB;gBACnB,uFAAa;gBACb,oEAAS;gBACT,gEAAc;aACjB;SACA,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BW;AACN;AACyB;AAEb;AAMjD;IAIE,0BACU,KAAW,EACf,WAAuB;QADnB,UAAK,GAAL,KAAK,CAAM;QACf,gBAAW,GAAX,WAAW,CAAY;QAEzB,IAAI,CAAC,GAAG,GAAG,8DAAM,CAAC,GAAG,CAAC;IACxB,CAAC;IAED,uCAAY,GAAZ,UAAa,YAAY,EAAE,KAAK,EAAE,GAAG;QACnC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QAExC,QAAQ,CAAC,MAAM,CAAC,wBAAwB,EAAE,YAAY,CAAC,CAAC;QACxD,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAG5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,mDAAmD,EAAC,QAAQ,CAAC,CAAC;IAEvG,CAAC;IAED,4CAAiB,GAAjB,UAAkB,YAAY,EAAC,GAAG;QAEhC,IAAI,MAAM,GAAI,OAAO,GAAC,GAAG,CAAC;QAC1B,MAAM,IAAI,gBAAgB,GAAC,YAAY,CAAC;QAExC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,iCAAiC,GAAC,MAAM,CAAC,CAAC;IAClF,CAAC;IAEF,gDAAqB,GAArB;QAEG,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,+BAA+B,CAAC,CAAC;IACzE,CAAC;IACD,uDAA4B,GAA5B;QAEE,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,sCAAsC,CAAC,CAAC;IAChF,CAAC;IACD,6CAAkB,GAAlB,UAAmB,GAAG;QAEpB,IAAI,MAAM,GAAI,OAAO,GAAC,GAAG,CAAC;QAE1B,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,4BAA4B,GAAC,MAAM,CAAC,CAAC;IAC7E,CAAC;IAED,6CAAkB,GAAlB,UAAmB,GAAG;QAEpB,IAAI,MAAM,GAAI,OAAO,GAAC,GAAG,CAAC;QAE1B,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,4BAA4B,GAAC,MAAM,CAAC,CAAC;IAC7E,CAAC;IAED,kCAAO,GAAP,UAAQ,EAAE,EAAC,GAAG;QACZ,IAAI,MAAM,GAAG,gBAAgB,GAAC,EAAE,CAAC;QACjC,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QACtB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,gCAAgC,GAAC,MAAM,CAAC,CAAC;IACjF,CAAC;IACD,4CAAiB,GAAjB,UAAkB,EAAE,EAAC,GAAG;QACtB,IAAI,MAAM,GAAG,gBAAgB,GAAC,EAAE,CAAC;QACjC,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QACtB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,0CAA0C,GAAC,MAAM,CAAC,CAAC;IAC3F,CAAC;IAED,0CAAe,GAAf,UAAgB,IAAI,EAAC,EAAE,EAAC,GAAG,EAAE,SAAS;QAEpC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,IAAI,EAAE,EAAE;YACN,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;SACrC;QACD,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC5B,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;QACtD,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,SAAS,CAAC;QAGvC,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,sCAAsC,EAAC,QAAQ,CAAC,CAAC;IAE1F,CAAC;IACD,2CAAgB,GAAhB,UAAiB,EAAE,EAAC,GAAG;QAErB,IAAI,MAAM,GAAG,0BAA0B,GAAC,EAAE,CAAC;QAC3C,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QAEtB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,yCAAyC,GAAC,MAAM,CAAC,CAAC;IAC1F,CAAC;IAED,gCAAK,GAAL,UAAM,WAAW,EAAC,SAAS,EAAC,YAAY,EAAC,GAAG;QAC1C,IAAI,MAAM,GAAG,eAAe,GAAC,WAAW,CAAC;QACzC,MAAM,IAAI,gBAAgB,GAAC,YAAY,CAAC;QACxC,MAAM,IAAI,aAAa,GAAC,SAAS,CAAC;QAClC,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QACtB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,8BAA8B,GAAC,MAAM,CAAC,CAAC;IAC/E,CAAC;IAED,4CAAiB,GAAjB,UAAkB,IAAI,EAAC,SAAS,EAAC,YAAY,EAAC,GAAG,EAAC,QAAQ,EAAC,KAAK;QAE9D,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,IAAI,KAAK,GAAG,CAAC,EAAE,GAAG,EAAE,mBAAmB,EAAE,OAAO,EAAE,gBAAgB,EAAE;YAClE,EAAE,GAAG,EAAE,iBAAiB,EAAE,OAAO,EAAE,QAAQ,EAAE;YAC7C,EAAE,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,WAAW,EAAE;YACxC,EAAE,GAAG,EAAE,cAAc,EAAE,OAAO,EAAE,gBAAgB,EAAE;YAClD,EAAE,GAAG,EAAE,oBAAoB,EAAE,OAAO,EAAE,YAAY,EAAE;YACpD,EAAE,GAAG,EAAE,0BAA0B,EAAE,OAAO,EAAE,aAAa,EAAE;YAC3D,EAAE,GAAG,EAAE,aAAa,EAAE,OAAO,EAAE,aAAa,EAAE;YAC9C,EAAE,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE;YAClC,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,CAAC,cAAI;YAChB,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,CAAC,CAAC,CAAC;QACH,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC;QACrE,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3F,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC;QAC9D,QAAQ,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,CAAC;QACvE,QAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,CAAC;QACtE,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;QAC1C,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACpC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC;QAC3D,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC;QAE/D,IAAI,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;YAC9B,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,IAAI,IAAI,EAAC,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SAC3H;aAAK;YACJ,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;SAC7C;QACD,QAAQ,CAAC,MAAM,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAG5B,IAAI,EAAE,GAAG,IAAI,QAAQ,EAAE,CAAC;QAExB,IAAI,YAAY,IAAI,IAAI,EAAE,EAAC,4BAA4B;YACrD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,6BAA6B,EAAC,QAAQ,CAAC,CAAC;SAChF;aAAI;YAEH,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,8BAA8B,EAAC,QAAQ,CAAC,CAAC;SACjF;IACH,CAAC;IAGD,4CAAiB,GAAjB,UAAkB,EAAE,EAAE,GAAG,EAAE,IAAQ;QAAR,+BAAQ;QAEjC,IAAI,MAAM,GAAG,gBAAgB,GAAC,EAAE,CAAC;QACjC,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QACtB,MAAM,IAAI,QAAQ,GAAC,IAAI,CAAC;QAExB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,2CAA2C,GAAC,MAAM,CAAC,CAAC;IAC5F,CAAC;IAED,0CAAe,GAAf,UAAgB,EAAE;QAEhB,IAAI,MAAM,GAAG,iBAAiB,GAAC,EAAE,CAAC;QAElC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,2CAA2C,GAAC,MAAM,CAAC,CAAC;IAC5F,CAAC;IAED,iDAAsB,GAAtB,UAAuB,EAAE,EAAC,GAAG;QAE3B,IAAI,MAAM,GAAG,iBAAiB,GAAC,EAAE,CAAC;QAClC,MAAM,IAAI,OAAO,GAAC,GAAG,CAAC;QAEtB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAE,+CAA+C,GAAC,MAAM,CAAC,CAAC;IAChG,CAAC;IAED,wDAA6B,GAA7B,UAA8B,YAAY,EAAE,iBAAiB;QAC3D,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC5B,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,iBAAiB,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,4DAA4D,EAAE,QAAQ,CAAC,CAAC;IACjH,CAAC;IAED,wCAAa,GAAb,UAAc,GAAG;QACf,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,sCAAsC,EAAE,EAAC,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;IACnG,CAAC;IAED,uDAA4B,GAA5B,UAA6B,aAAa;QACxC,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QACvC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,6DAA6D,EAAE,EAAC,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;IAC1H,CAAC;IAED,sCAAW,GAAX,UAAY,YAAY,EAAE,KAAK;QAC7B,IAAI,MAAM,GAAG,gBAAgB,GAAC,YAAY,CAAC;QAC3C,MAAM,IAAI,WAAW,GAAC,KAAK,CAAC;QAC5B,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,sCAAsC,GAAC,MAAM,CAAC,CAAC;IACxF,CAAC;IAED,wCAAa,GAAb,UAAc,YAAY,EAAC,KAAK,EAAC,SAAS,EAAC,eAAe;QACxD,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAE,qCAAqC,EAAE,QAAQ,CAAC,CAAC;IAExF,CAAC;IAtMQ,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAMiB,kDAAI;YACF,+DAAU;OANlB,gBAAgB,CAuM5B;IAAD,uBAAC;CAAA;AAvM4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVc;AACN;AACa;AAED;AAOjD;IAIE,yBACU,KAAW,EACb,WAAuB;QADrB,UAAK,GAAL,KAAK,CAAM;QACb,gBAAW,GAAX,WAAW,CAAY;QAE7B,IAAI,CAAC,GAAG,GAAG,8DAAM,CAAC,GAAG,CAAC;IACxB,CAAC;IAED,kCAAQ,GAAR,UAAS,GAAG,EAAE,UAAU;QACtB,IAAI,MAAM,GAAG,cAAc,GAAG,UAAU,CAAC;QACzC,MAAM,IAAI,OAAO,GAAG,GAAG,CAAC;QAExB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,+BAA+B,GAAG,MAAM,CAAC,CAAC;IACnF,CAAC;IAED,wCAAc,GAAd,UAAe,UAAU,EAAE,IAAI,EAAE,GAAG;QAClC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QAExC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,oBAAU;YAClC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QACH,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,oCAAoC,EAAC,QAAQ,CAAC,CAAC;IACzF,CAAC;IAED,sCAAY,GAAZ,UAAa,UAAU,EAAE,IAAI,EAAE,GAAG;QAChC,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QAExC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,kBAAQ;YAC9B,QAAQ,CAAC,MAAM,CAAC,kBAAkB,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;QACH,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,sCAAsC,EAAC,QAAQ,CAAC,CAAC;IAC3F,CAAC;IAED,qCAAW,GAAX,UAAY,GAAG,EAAE,IAAI;QACnB,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;QACrC,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3D,QAAQ,CAAC,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1D,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,2BAA2B,EAAC,QAAQ,CAAC,CAAC;IAChF,CAAC;IAED,4CAAkB,GAAlB,UAAmB,UAAU,EAAE,GAAG;QAChC,IAAI,MAAM,GAAG,cAAc,GAAG,UAAU,CAAC;QACzC,MAAM,IAAI,OAAO,GAAG,GAAG,CAAC;QACxB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,uCAAuC,GAAG,MAAM,CAAC,CAAC;IAC3F,CAAC;IAED,0CAAgB,GAAhB,UAAiB,UAAU,EAAE,GAAG;QAC9B,IAAI,MAAM,GAAG,cAAc,GAAG,UAAU,CAAC;QACzC,MAAM,IAAI,OAAO,GAAG,GAAG,CAAC;QAExB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,wCAAwC,GAAG,MAAM,CAAC,CAAC;IAE5F,CAAC;IAED,4CAAkB,GAAlB,UAAmB,UAAU,EAAE,GAAG;QAChC,IAAI,MAAM,GAAG,cAAc,GAAG,UAAU,CAAC;QACzC,MAAM,IAAI,OAAO,GAAG,GAAG,CAAC;QAExB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,qCAAqC,GAAG,MAAM,CAAC,CAAC;IACzF,CAAC;IAED,qCAAW,GAAX,UAAY,GAAG,EAAE,aAAa,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK;QAC1D,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;QAC7C,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACnC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAC1C,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,iCAAiC,EAAC,QAAQ,CAAC,CAAC;IACtF,CAAC;IAED,oCAAU,GAAV,UAAW,GAAG,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK;QAC3C,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACnC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAC1C,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,kCAAkC,EAAC,QAAQ,CAAC,CAAC;IACvF,CAAC;IAED,kCAAQ,GAAR,UAAS,GAAG;QACV,IAAI,MAAM,GAAG,OAAO,GAAG,GAAG,CAAC;QAC3B,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,yBAAyB,GAAG,MAAM,CAAC,CAAC;IAC7E,CAAC;IAED,wCAAc,GAAd,UAAe,UAAU,EAAE,GAAG;QAC5B,IAAI,MAAM,GAAG,OAAO,GAAG,GAAG,CAAC;QAC3B,MAAM,IAAI,cAAc,GAAG,UAAU,CAAC;QACtC,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,8BAA8B,GAAG,MAAM,CAAC,CAAC;IAClF,CAAC;IAED,0CAAgB,GAAhB,UAAiB,GAAG,EAAE,KAAK,EAAE,0BAA0B;QACrD,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,cAAc,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,4BAA4B,EAAE,0BAA0B,CAAC,CAAC;QAC1E,QAAQ,CAAC,MAAM,CAAC,eAAe,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QAC9C,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,6CAA6C,EAAC,QAAQ,CAAC,CAAC;IAClG,CAAC;IAED,wCAAc,GAAd,UAAe,GAAG,EAAE,0BAA0B;QAC5C,IAAI,MAAM,GAAG,OAAO,GAAG,GAAG,CAAC;QAC3B,MAAM,IAAI,8BAA8B,GAAG,0BAA0B,CAAC;QACtE,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,wDAAwD,GAAG,MAAM,CAAC,CAAC;IAC5G,CAAC;IAED,wCAAc,GAAd,UAAe,UAAU,EAAE,0BAA0B,EAAE,GAAG;QACxD,IAAI,MAAM,GAAG,cAAc,GAAG,UAAU,CAAC;QACzC,MAAM,IAAI,OAAO,GAAG,GAAG,CAAC;QACxB,MAAM,IAAI,8BAA8B,GAAG,0BAA0B,CAAC;QAEtE,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,2CAA2C,GAAG,MAAM,CAAC,CAAC;IAC/F,CAAC;IAED,yCAAe,GAAf,UAAgB,GAAG,EAAE,OAAO;QAC1B,IAAI,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QACxC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACpD,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAE5B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,uCAAuC,EAAE,QAAQ,CAAC,CAAC;IAC7F,CAAC;IAzIU,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAMiB,kDAAI;YACA,+DAAU;OANpB,eAAe,CA0I3B;IAAD,sBAAC;CAAA;AA1I2B;;;;;;;;;;;;;ACV5B;AAAA;AAAA;AAAoD;AAI7C,SAAS,gBAAgB,CAAE,IAAY;IAC5C,OAAO,UAAW,OAAoB;QAEpC,IAAI,OAAO,GAAG,iEAAO,CAAC;QACtB,IAAI,YAAY,CAAC;QACjB,IAAG,IAAI,IAAI,CAAC,EAAC;YACX,IAAI,GAAG,OAAO,CAAC,MAAM,GAAC,CAAC,CAAC;YACxB,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;SACvC;aAAI;YACH,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;SACvC;QAKD,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAK,IAAI,EAAG;YACV,IAAM,SAAO,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACrC,IAAI,QAAQ,GAAG,SAAO,CAAC,MAAM,CAAC;YAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YACjE,IAAK,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE;gBACxD,OAAO;oBACL,gBAAgB,EAAE,IAAI;iBACvB,CAAC;aACH;YAED,OAAO,IAAI,CAAC;SACb;QAED,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC;;;;;;;;;;;;;ACpCD;AAAA;AAAO,IAAM,WAAW,GAAG;IACvB,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,CAAE,EAAE;IACvG,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,eAAe,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,CAAE,EAAE;IAC3G,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,CAAE,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,WAAW,EAAE,GAAG,EAAE,OAAO,CAAE,EAAE;IACjF,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,EAAE,aAAa,CAAE,EAAE;IACpI,GAAG;IACH,EAAE,IAAI,EAAE,aAAa,EAAE,KAAK,EAAE,CAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAE,GAAG,EAAE,gBAAgB,EAAE,cAAc,CAAE,EAAE;IAC9I,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAE,cAAc,EAAE,cAAc,EAAE,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,YAAY,EAAE,WAAW,EAAE,GAAG,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,CAAE,EAAE;IACtO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAE,EAAE;IACxD,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,gBAAgB,EAAE,QAAQ,EAAE,aAAa,EAAE,WAAW,EAAE,QAAQ,CAAE,EAAE;IAC1H,GAAG;IACH,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAE,EAAE;IACrE,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAE,WAAW,EAAE,SAAS,CAAE,EAAE;IACrD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE,UAAU,EAAE,YAAY,CAAE,EAAE;IACtD,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAE,OAAO,CAAE,EAAE;CACxC,CAAC;;;;;;;;;;;;;ACXF;AAAA;AAAA;IAAA;QAuCW,qBAAgB,GAAY,KAAK,CAAC;QAClC,kBAAa,GAAY,KAAK,CAAC;IAY1C,CAAC;IAAD,kBAAC;AAAD,CAAC","file":"form-actividad-form-actividad-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AsignaturaService {\r\n  public url: string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n   }\r\n\r\n   consultaMateriasPlan(id){\r\n    var params = '?id_plan_estudio='+id;\r\n    \r\n    return this._httpClient.get(this.url +'admin/planEstudios/consultaAsignatura.php'+params);\r\n  }\r\n\r\n   guardaContenido(contenido, id_asignatura){\r\n    let formData: FormData = new FormData(); \r\n    formData.append('archivo', contenido);\r\n    formData.append('id_asignatura', id_asignatura);\r\n   \r\n    return this._httpClient.post(this.url +'admin/asignaturas/editarContenido.php',formData);\r\n\r\n   }\r\n\r\n  eliminaContenido(contenido, id_asignatura){\r\n    let formData: FormData = new FormData(); \r\n      formData.append('url_contenido', contenido);\r\n      formData.append('id_asignatura', id_asignatura);\r\n   \r\n    return this._httpClient.post(this.url +'admin/asignaturas/eliminaContenido.php',formData);\r\n   }\r\n\r\n   consultaEspecificaAsign(jwt, id_asignatura){\r\n    var params = '?id_asignatura='+id_asignatura;\r\n    return this._httpClient.get(this.url +'controlEscolar/asignatura/consulta.php'+params);\r\n\r\n   }\r\n\r\n   excel( file,jwt){\r\n\r\n    let formData: FormData = new FormData(); \r\n    formData.append('excel', file);\r\n    formData.append('columna', '7' );\r\n    formData.append('jwt', jwt);\r\n   \r\n    return this._httpClient.post(this.url +'extras/consultaexcel.php',formData);\r\n  }\r\n\r\n   consulta(jwt, id){\r\n    var params = '?id_asignatura='+id;\r\n    return this._httpClient.get(this.url +'admin/asignaturas/consulta.php'+params);\r\n  }\r\n\r\n  elimina(id){\r\n    var params = '?id_asignatura='+id;\r\n    return this._httpClient.get(this.url +'admin/asignaturas/elimina.php'+params);\r\n  }\r\n\r\n\r\n  consultaModulo(id,tipo,jwt){\r\n    var params = '?id_asignatura='+id;\r\n    params += '&tipo='+tipo;\r\n    return this._httpClient.get(this.url +'learning/asignatura/consultaModulos.php'+params);\r\n  }\r\n\r\n  consultaOrden(id){\r\n    var params = '?id_plan_estudio='+id;\r\n    // params += '&tipo='+tipo;\r\n    \r\n    return this._httpClient.get(this.url +'admin/planEstudios/consultaOrdenJerarquico.php'+params);\r\n  }\r\n  \r\n  \r\n  insertaPlanOrdenAsignatura(id_plan_orden, id_asignatura,Asignatura,origen){\r\n    let formData: FormData = new FormData();\r\n    if(id_plan_orden){formData.append('id_plan_orden', id_plan_orden)}else {formData.append('id_plan_orden', null)}\r\n    if(id_asignatura)formData.append('id_asignatura',id_asignatura);    \r\n\r\n    if (Asignatura.get('planEstudio').value){formData.append('plan_estudio_id', Asignatura.get('planEstudio').value);}else{formData.append('plan_estudio_id', null);}\r\n    if (Asignatura.get('gradoAsignatura').value){formData.append('orden_jerarquico_id', Asignatura.get('gradoAsignatura').value);}else{formData.append('orden_jerarquico_id', null);} \r\n    formData.append('origen',origen);    \r\n    \r\n    if(origen == 1 || origen == 2){\r\n      return this._httpClient.post(this.url +'admin/asignaturas/insertaPlanOrdenAsignatura.php',formData);\r\n    }else if(origen == 3){\r\n      //nuevo componente de asignatura\r\n      return this._httpClient.post(this.url +'admin/asignaturas/clonarAsignatura.php',formData);\r\n    }\r\n  }\r\n\r\n\r\n   modificaAsignatura(Asignatura, jwt,id_asignatura){ \r\n \r\n    let formData: FormData = new FormData(); \r\n    //formData.append('carrera', planEstudio.get('carreraAsignatura').value);\r\n    formData.append('asignatura_clave', Asignatura.get('claveAsignatura').value);\r\n    formData.append('asignatura', Asignatura.get('nombreAsignatura').value);\r\n    formData.append('creditos', Asignatura.get('creditosAsignatura').value);\r\n    formData.append('tipo_asignatura_id', Asignatura.get('tipoAsignatura').value);\r\n    formData.append('id_asignatura_padre', Asignatura.get('asignaturaPlan').value);\r\n    // formData.append('orden_jerarquico', Asignatura.get('gradoAsignatura').value);\r\n    // formData.append('plan_estudio_id', Asignatura.get('planEstudio').value);\r\n    // formData.append('orden_jerarquico', '1');\r\n\r\n    // console.log(Asignatura.get('gradoAsignatura').value);\r\n\r\n    if (Asignatura.get('planEstudio').value){formData.append('plan_estudio_id', Asignatura.get('planEstudio').value);}else{formData.append('plan_estudio_id', null);}\r\n    if (Asignatura.get('gradoAsignatura').value){formData.append('orden_jerarquico_id', Asignatura.get('gradoAsignatura').value);}else{formData.append('orden_jerarquico_id', null);}\r\n    if (Asignatura.get('califMax').value){formData.append('calif_max', Asignatura.get('califMax').value);}else{formData.append('calif_max', null);}\r\n    if (Asignatura.get('califMin').value){formData.append('calif_min', Asignatura.get('califMin').value);}else{formData.append('calif_min', null);}\r\n\r\n    if (!id_asignatura) {\r\n      return this._httpClient.post(this.url +'admin/asignaturas/crea.php',formData);\r\n    }else{\r\n      formData.append('id_asignatura', id_asignatura); \r\n      return this._httpClient.post(this.url +'admin/asignaturas/edita.php',formData);\r\n    }\r\n  }\r\n\r\n  insertaEditor( idAsignatura,columna, tex, jwt){\r\n    let formData: FormData = new FormData(); \r\n    formData.append('id_asignatura',idAsignatura);\r\n    formData.append('columna',columna);\r\n    formData.append('tex', tex);\r\n\r\n    return this._httpClient.post(this.url +'admin/asignaturas/editaPresentacion.php',formData);\r\n  }\r\n\r\n  imagen(idAsignaturaSelected, imgFile,jwt){\r\n    let formData: FormData = new FormData();\r\n    formData.append('id_asignatura',idAsignaturaSelected);\r\n    formData.append('imagen', imgFile); \r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url +'admin/asignaturas/editaImagen.php',formData);\r\n  }\r\n\r\n  imagenPrevia(idAsignaturaSelected, imgFile,jwt){\r\n    let formData: FormData = new FormData();\r\n    formData.append('id_asignatura',idAsignaturaSelected);\r\n    formData.append('imagen', imgFile); \r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url +'admin/asignaturas/editaImagenPrevia.php',formData);\r\n  }\r\n\r\n  consultaAsignaturas(id_docente){ \r\n    var params = '?id_docente='+id_docente;   \r\n    return this._httpClient.get(this.url +'controlEscolar/docente/consultaAsignaturas.php'+params);\r\n  }\r\n\r\n  consultaAsignaturasTroncoComun(jwt){\r\n    var params = '?jwt='+jwt;\r\n    return this._httpClient.get(this.url +'catalogosCE/consultaAsignaturasTronco.php'+params);\r\n  }\r\n\r\n  consultaAsignaturaGrupo( id_orden_asignatura){\r\n    var params = '?id_orden_asignatura='+id_orden_asignatura;\r\n    return this._httpClient.get(this.url +'controlEscolar/asignatura/consultaGrupos.php'+params);\r\n  }\r\n\r\n  consultaAsignaturasAdminDummy(id_orden_asignatura){\r\n    var params = '?id_orden_asignatura='+id_orden_asignatura;\r\n    return this._httpClient.get(this.url +'controlEscolar/materia/consultaAdministradorDummy.php'+params);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormActividadComponent } from './form-actividad.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FormActividadComponent\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class FormActividadRoutingModule { }\r\n","module.exports = \"\\r\\n<div   class=\\\"row alert  alert-actividad\\\" role=\\\"alert\\\" >  \\r\\n  <div *ngIf=\\\"idActividad && actividad\\\" class=\\\"col-md-9\\\">\\r\\n    \\r\\n    <h5 class=\\\"text-left text-dark\\\">  \\r\\n       {{actividad.actividad_nombre}}</h5>\\r\\n    <p>Actividad del tipo {{actividad.tipo_actividad_nombre}}</p> \\r\\n    <button  *ngIf=\\\"actividad.tipo_actividad == 2\\\"  class=\\\"btn btn-info btn-sm\\\"  (click)=\\\"redireccion('preguntas')\\\">\\r\\n      <span ><i class=\\\"fa fa-plus-square\\\"></i> Mostrar preguntas</span>  \\r\\n    </button>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"idActividad && actividad\\\" class=\\\"col-md-3\\\">\\r\\n    \\r\\n\\r\\n    <button  *ngIf=\\\"idActividad\\\"  [disabled]=\\\"disablePreview\\\" (click)=\\\"openModulo(modalModulo)\\\" class=\\\"btn btn-primary btn-accion\\\" placement=\\\"top\\\" ngbTooltip=\\\"Cambiar actividad de Bloque\\\"><i class=\\\"fa fa-mail-forward\\\"></i></button>\\r\\n    <button [disabled]=\\\"disablePreview\\\" (click)=\\\"redireccion('edita')\\\" class=\\\"btn btn-info btn-accion\\\"  placement=\\\"top\\\" ngbTooltip=\\\"Editar la actividad\\\"><i class=\\\"fa fa-pencil\\\"></i></button>\\r\\n    <button [disabled]=\\\"disablePreview\\\" (click)=\\\"redireccion('vista-previa')\\\" class=\\\"btn btn-info btn-accion\\\" class=\\\"btn btn-warning btn-accion\\\" placement=\\\"top\\\" ngbTooltip=\\\"Vista previa de la actividad, para poder contestar y editar\\\" ><i class=\\\"fa fa-eye\\\"></i></button>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"!idActividad\\\" class=\\\"col-md-12\\\">\\r\\n    \\r\\n    <h4 class=\\\"text-left text-dark\\\">{{title}}</h4>\\r\\n    \\r\\n  </div>\\r\\n\\r\\n<form  class=\\\"col-md-12\\\" [formGroup]=\\\"actividadForm\\\" (ngSubmit)=\\\"enviarInformacionActividad()\\\">\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col\\\">\\r\\n    <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\">{{'nombreActividad' | translate}}:</label>\\r\\n      <input formControlName=\\\"nombreActividad\\\" class=\\\"form-control\\\"  placeholder=\\\"{{'nombreActividad' | translate}}\\\" type=\\\"text\\\" (blur)=\\\"generaClaveAsign()\\\">\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.nombreActividad.invalid && f.nombreActividad.touched\\\">\\r\\n        {{'fmErrName' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col\\\">\\r\\n    <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\">{{'claveActividad' | translate}}:</label>\\r\\n      <input formControlName=\\\"claveActividad\\\" class=\\\"form-control\\\"  placeholder=\\\"{{'claveActividad' | translate}}\\\" type=\\\"text\\\" >\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.claveActividad.invalid && f.claveActividad.touched\\\">\\r\\n        {{'fmErrKey' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n\\r\\n    <!-- <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\" >{{'FechaInicio' | translate}}:</label>\\r\\n      <input formControlName=\\\"fechaInicio\\\" class=\\\"form-control\\\"  placeholder=\\\"{{'fechaInicio' | translate}}\\\" type=\\\"datetime-local\\\" >\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.fechaInicio.invalid && f.fechaInicio.touched\\\">\\r\\n        {{'fmErrDate' | translate}}\\r\\n      </span>\\r\\n    </div>  -->\\r\\n  <div class=\\\"row mt-2 pl-3\\\" >\\r\\n    <div class=\\\"col-6\\\">\\r\\n      <input formControlName=\\\"fecha\\\" type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"fecha\\\" name=\\\"fecha\\\">\\r\\n      <label class=\\\"custom-control-label\\\" for=\\\"fecha\\\"> {{'Agregar una fecha específica a esta actividad' | translate}}</label>\\r\\n    </div>\\r\\n    <div class=\\\"col-6\\\" [hidden]=\\\"!f.fecha.value\\\">\\r\\n      <input formControlName=\\\"hora\\\" type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"hora\\\" name=\\\"hora\\\">\\r\\n      <label class=\\\"custom-control-label\\\" for=\\\"hora\\\"> {{'Agregar una hora específica a esta actividad' | translate}}</label>\\r\\n    </div>\\r\\n  </div>\\r\\n    <div class=\\\"row mt-2\\\" [hidden]=\\\"!f.fecha.value\\\">\\r\\n   \\r\\n      <div class=\\\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\\\" >\\r\\n        <label class=\\\"control-label\\\">Fecha inicio:</label>\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"AAAA-MM-DD\\\"\\r\\n                     name=\\\"dp\\\" formControlName=\\\"fechaInicio\\\" [footerTemplate]=\\\"footerTemplate_1\\\" ngbDatepicker #d_1=\\\"ngbDatepicker\\\"\\r\\n                     [placement]=\\\"'bottom'\\\">\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button #buttonEl class=\\\"btn btn-outline-primary calendar\\\" (click)=\\\"d_1.toggle()\\\" type=\\\"button\\\"><i class=\\\"fa fa-calendar\\\"></i></button>\\r\\n              </div>\\r\\n        </div>\\r\\n        <ng-template #footerTemplate_1>\\r\\n          <hr class=\\\"my-0\\\">\\r\\n          <button class=\\\"btn btn-primary btn-sm m-2 float-left\\\" (click)=\\\"setData(1, today); d_1.close()\\\">Hoy</button>\\r\\n          <button class=\\\"btn btn-secondary btn-sm m-2 float-right\\\" (click)=\\\"d_1.close()\\\">Cerrar</button>\\r\\n        </ng-template>\\r\\n      </div>\\r\\n      <div class=\\\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\\\" [hidden]=\\\"!f.hora.value\\\">\\r\\n        <label class=\\\"control-label\\\">Hora inicio:</label>\\r\\n        <ngb-timepicker formControlName=\\\"horaInicio\\\" [meridian]=\\\"meridian\\\"></ngb-timepicker>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"row mt-7\\\" [hidden]=\\\"!f.fecha.value\\\">\\r\\n      <div class=\\\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\\\">\\r\\n        <label class=\\\"control-label\\\">Fecha fin:</label>\\r\\n      \\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input class=\\\"form-control\\\" placeholder=\\\"AAAA-MM-DD\\\"\\r\\n                     name=\\\"dp\\\" formControlName=\\\"fechaFin\\\" [footerTemplate]=\\\"footerTemplate_2\\\" ngbDatepicker #d_2=\\\"ngbDatepicker\\\"\\r\\n                     [placement]=\\\"'bottom'\\\">\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-primary calendar\\\" (click)=\\\"d_2.toggle()\\\" type=\\\"button\\\"><i class=\\\"fa fa-calendar\\\"></i></button>\\r\\n              </div>\\r\\n        </div>\\r\\n        <ng-template #footerTemplate_2>\\r\\n          <hr class=\\\"my-0\\\">\\r\\n          <button class=\\\"btn btn-primary btn-sm m-2 float-left\\\" (click)=\\\"setData(2, today); d_2.close()\\\">Hoy</button>\\r\\n          <button class=\\\"btn btn-secondary btn-sm m-2 float-right\\\" (click)=\\\"d_2.close()\\\">Cerrar</button>\\r\\n        </ng-template>\\r\\n      </div>\\r\\n      <div class=\\\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\\\" [hidden]=\\\"!f.hora.value\\\">\\r\\n        <label class=\\\"control-label\\\">Hora fin:</label>\\r\\n        <ngb-timepicker formControlName=\\\"horaFin\\\" [meridian]=\\\"meridian\\\"></ngb-timepicker>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\" >{{'FechaFin' | translate}}:</label>\\r\\n      <input formControlName=\\\"fechaFin\\\" class=\\\"form-control\\\"  placeholder=\\\"{{'fechaFin' | translate}}\\\" type=\\\"datetime-local\\\" >\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.fechaFin.invalid && f.fechaFin.touched\\\">\\r\\n        {{'fmErrDate' | translate}}\\r\\n      </span>\\r\\n    </div> -->\\r\\n  </div>\\r\\n</div><br>\\r\\n    <div  class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-6\\\">\\r\\n        <div class=\\\"form-group text-center\\\">\\r\\n          <label class=\\\"control-label\\\" >{{'contenidoPedagogico' | translate}}:</label>\\r\\n          <app-file-upload formControlName=\\\"contenido\\\" (change)=\\\"guardarBorrador()\\\"></app-file-upload>\\r\\n          <div class=\\\"invalid-feedback\\\" style=\\\"display: block\\\">\\r\\n            <ng-container *ngIf=\\\"hasError('required')\\\">{{'fmErrfileRequired' | translate}}</ng-container>\\r\\n            <ng-container *ngIf=\\\"hasError('requiredFileType')\\\">{{'fmErrfileDocument' | translate}}</ng-container>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"col-md-6\\\">\\r\\n        <div class=\\\"row\\\" *ngFor=\\\"let _contenidoActividad of contenidoActividad; let i=index;\\\">\\r\\n          <div class=\\\"col-md-12 alert alert-primary archivo\\\" role=\\\"alert\\\">\\r\\n            <div class=\\\"pull-right\\\">\\r\\n              <button *ngIf=\\\"_contenidoActividad.visto == 0 || !_contenidoActividad.visto\\\" type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"vistaArchivo(_contenidoActividad.contenido_actividad_id,i,_contenidoActividad.visto)\\\"><i class=\\\"fa fa-eye-slash\\\"></i></button>\\r\\n              <button *ngIf=\\\"_contenidoActividad.visto == 1\\\" type=\\\"button\\\" class=\\\"btn btn-success btn-sm\\\" (click)=\\\"vistaArchivo(_contenidoActividad.contenido_actividad_id,i,_contenidoActividad.visto)\\\"><i class=\\\"fa fa-eye\\\"></i></button>\\r\\n              <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"openModal(content, _contenidoActividad.url_contenido)\\\"><i class=\\\"fa fa-code\\\"></i></button>\\r\\n              <button type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"eliminarContenido(_contenidoActividad.contenido_actividad_id,i)\\\"><i class=\\\"fa fa-trash\\\"></i></button>\\r\\n            </div>\\r\\n            <div>\\r\\n              <app-archivo *ngIf=\\\"_contenidoActividad.url_contenido && !_contenidoActividad.url_contenido\\\" [urlBase]=\\\"_contenidoActividad.url_contenido\\\"></app-archivo>                  \\r\\n              <app-archivo *ngIf=\\\"_contenidoActividad.url_contenido && _contenidoActividad.url_contenido\\\" [urlBase]=\\\"_contenidoActividad.url_contenido\\\" [nombre]=\\\"_contenidoActividad.nombre\\\"></app-archivo>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <p *ngIf=\\\"cargando\\\"><i class=\\\"fa fa-spin fa-spinner\\\" aria-hidden=\\\"true\\\"></i> Cargando archivo, por favor espere...</p>\\r\\n      </div>\\r\\n    </div>\\r\\n      <!-- #### -->\\r\\n      <ng-template #content let-modal>\\r\\n        <div class=\\\"modal-header\\\">\\r\\n          <h4 class=\\\"modal-title\\\">Documento</h4>\\r\\n          <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modal.dismiss('Cross click')\\\">\\r\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n          </button>\\r\\n        </div>\\r\\n        <div class=\\\"modal-body\\\">\\r\\n          <textarea name=\\\"textarea\\\" rows=\\\"5\\\" cols=\\\"94\\\"><div class=\\\"row text-center\\\">\\r\\n            <a class=\\\"btn btn-link\\\" href=\\\"{{urlArchivo}}\\\"><h2><i class=\\\"fa fa-file-o\\\"></i></h2> <p>Descargar contenido académico</p></a>\\r\\n            </div></textarea>\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"modal.close('Close click')\\\">Cerrar</button>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n      <!--####-->\\r\\n  <div class=\\\"row mb-3\\\">\\r\\n    <div class=\\\"col-sm\\\">\\r\\n        <div class=\\\"form-group\\\">                               \\r\\n            <label class=\\\"control-label\\\" for=\\\"fecha_inicio\\\">{{'instruccion' | translate}}:</label>            \\r\\n            <!-- <ckeditor [config]=\\\"{allowedContent : true }\\\"  formControlName=\\\"instruccion\\\" name=\\\"ckeditor\\\"></ckeditor><br> -->\\r\\n            <ckeditor [config]=\\\"{\\r\\n              allowedContent : true,\\r\\n              extraPlugins: ['uploadimage','justify'],\\r\\n              toolbar: adminEditor,\\r\\n              filebrowserUploadUrl: 'http://plataforma.estudy.com/apiestudy/extras/archivo/carga_ckeditor.php'\\r\\n              }\\\"\\r\\n              formControlName=\\\"instruccion\\\" name=\\\"ckeditor\\\"\\r\\n              (ready)=\\\"comienza($event)\\\" (click)=\\\"btnSource($event)\\\" (blur)=\\\"getData($event)\\\"></ckeditor>\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.instruccion.invalid && f.instruccion.touched\\\">\\r\\n                {{'fmErrText' | translate}}\\r\\n           </span>\\r\\n        </div> \\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- ##### -->\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12\\\">\\r\\n      <div class=\\\"form-group\\\">         \\r\\n        <label class=\\\"control-label\\\" for=\\\"\\\">{{'tipoActividad' | translate}}:</label>\\r\\n        <select  formControlName=\\\"tipoActividad\\\"  class=\\\"form-control\\\"  >\\r\\n          <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n          <option  [value]=\\\"_tipoActividad.tipo_actividad_id\\\" *ngFor=\\\"let _tipoActividad of tipoActividad\\\">{{_tipoActividad.tipo_actividad_nombre}}</option>\\r\\n        </select>\\r\\n        <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoActividad.invalid && f.tipoActividad.touched\\\">\\r\\n                {{'fmErrSelect' | translate}}\\r\\n        </span>\\r\\n      </div>\\r\\n      <!-- #### -->\\r\\n      <div>\\r\\n        <div *ngIf=\\\"f.tipoEvaluacion\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"nombre_ciclo\\\">{{'modoCalificacion' | translate}}:</label>\\r\\n          <div class=\\\"row mt-1\\\">\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio1\\\" name=\\\"tipoEvaluacion\\\" formControlName=\\\"tipoEvaluacion\\\" value=\\\"2\\\" (click)=\\\"mostrar_rubrica()\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio1\\\" >{{'Rubrica' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio2\\\" name=\\\"tipoEvaluacion\\\" formControlName=\\\"tipoEvaluacion\\\" value=\\\"1\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio2\\\" >{{'PonderacionManual' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio3\\\" name=\\\"tipoEvaluacion\\\" formControlName=\\\"tipoEvaluacion\\\" value=\\\"3\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio3\\\" >{{'PonderacionAutomatica' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoEvaluacion.invalid && f.tipoEvaluacion.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n          <div *ngIf=\\\"f.tipoEvaluacion.value == 2\\\" class=\\\"form-group alert alert-info\\\" >      \\r\\n              <label class=\\\"control-label  \\\" for=\\\"nombre_ciclo\\\">{{'_seleccionRubrica' | translate}}:</label>\\r\\n              <a *ngIf=\\\"idRol == 1\\\" [routerLink]=\\\"['/admin/rubricas/']\\\"> Crear rúbrica</a>\\r\\n            <select   formControlName=\\\"idRubrica\\\" class=\\\"form-control\\\"  >rubricas\\r\\n              <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n              <option  [value]=\\\"rubrica.rubrica_id\\\" *ngFor=\\\"let rubrica of rubricas\\\">{{rubrica.desc_rubrica}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"f.bullet && idRol == 1\\\">\\r\\n          <label class=\\\"control-label mt-3\\\" for=\\\"nombre_ciclo\\\">{{'SelectFormList' | translate}}: </label>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio4\\\" name=\\\"bullet\\\" formControlName=\\\"bullet\\\" value=\\\"2\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio4\\\" >{{'letra' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio4.1\\\" name=\\\"bullet\\\" formControlName=\\\"bullet\\\" value=\\\"1\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio4.1\\\" >{{'numero' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.bullet.invalid && f.bullet.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"f.aleatorio && idRol == 1\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"nombre_ciclo\\\">{{'aleatorio' | translate}}:</label>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio5\\\" name=\\\"aleatorio\\\" formControlName=\\\"aleatorio\\\" value=\\\"1\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio5\\\" >{{'Si' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio6\\\" name=\\\"aleatorio\\\" formControlName=\\\"aleatorio\\\" value=\\\"0\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio6\\\" >{{'No' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.aleatorio.invalid && f.aleatorio.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"f.numeroIntentos\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label  \\\" for=\\\"nombre_ciclo\\\">{{'numeroIntentos' | translate}}:</label>\\r\\n            <input class=\\\"form-control\\\" formControlName=\\\"numeroIntentos\\\" placeholder=\\\"{{'numeroIntentos' | translate}}\\\" type=\\\"number\\\" >\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.numeroIntentos.invalid && f.numeroIntentos.touched\\\">\\r\\n              {{'fmErrNumber' | translate}}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"f.resolucion && idRol == 1\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"\\\">{{'resolucion' | translate}}:</label>\\r\\n          <select  formControlName=\\\"resolucion\\\"  class=\\\"form-control\\\"  >\\r\\n            <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n            <option  [value]=\\\"_resolucion.metodo_resolver_id\\\" *ngFor=\\\"let _resolucion of resolucion\\\">{{_resolucion.metodo_resolver}}</option>\\r\\n          </select>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoActividad.invalid && f.tipoActividad.touched\\\">\\r\\n              {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"f.ponderacion  && f.unica.value == '0' && idRol == 1\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"\\\">{{'Ponderación en la asignatura' | translate}} <!--(máx: {{ponderacionMax}}%)-->:</label>\\r\\n          <div class=\\\"form-group\\\">                               \\r\\n            <input  formControlName=\\\"ponderacion\\\"  class=\\\"form-control\\\"  type=\\\"number\\\">    \\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoActividad.invalid && f.tipoActividad.touched\\\">\\r\\n                {{'fmErrSelect' | translate}}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"f.ponderacion && idRol == 1 \\\">\\r\\n          <label><input formControlName=\\\"unica\\\" [checked]=\\\"f.unica.value =='1' \\\" type=\\\"checkbox\\\"> Actividad única en la asignatura</label>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.unica.invalid && f.unica.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"f.dificultad && idRol == 1\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"\\\">{{'dificultad' | translate}}:</label>\\r\\n          <select  formControlName=\\\"dificultad\\\"  class=\\\"form-control\\\"  >\\r\\n            <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n            <option  [value]=\\\"_dificultad.dificultad_id\\\" *ngFor=\\\"let _dificultad of dificultad\\\">{{_dificultad.dificultad_nombre}}</option>\\r\\n          </select>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoActividad.invalid && f.tipoActividad.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span> \\r\\n        </div>\\r\\n        <div class=\\\"form-group mt-2\\\" *ngIf=\\\"f.portafolio && idRol == 1\\\">\\r\\n          <label class=\\\"control-label  \\\" for=\\\"nombre_ciclo\\\">{{'Portafolio' | translate}}:</label>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio7\\\" name=\\\"portafolio\\\" formControlName=\\\"portafolio\\\" value=\\\"1\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio7\\\" >{{'Si' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio8\\\" name=\\\"portafolio\\\" formControlName=\\\"portafolio\\\" value=\\\"0\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio8\\\" >{{'No' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.portafolio.invalid && f.portafolio.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\" *ngIf=\\\"f.importancia && idRol == 1\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"\\\">{{'Importancia' | translate}}:</label>\\r\\n          <select  formControlName=\\\"importancia\\\"  class=\\\"form-control\\\"  >\\r\\n            <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n            <option  [value]=\\\"_importanciaActividad.importancia_actividad_id\\\" *ngFor=\\\"let _importanciaActividad of importanciaActividad\\\">{{_importanciaActividad.importancia_actividad_nombre}}</option>\\r\\n          </select>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.importancia.invalid && f.importancia.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span> \\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group mt-2\\\" *ngIf=\\\"f.final && idRol == 1\\\">\\r\\n          <label class=\\\"control-label  \\\" for=\\\"nombre_ciclo\\\">{{'Evaluación de actividad en la asignatura' | translate}}:</label>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio9\\\" formControlName=\\\"final\\\" value=\\\"0\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio9\\\" >{{'Normal' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio10\\\" formControlName=\\\"final\\\" value=\\\"1\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio10\\\" >{{'Final' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-6\\\">\\r\\n              <div class=\\\"custom-control custom-radio\\\" (click)=\\\"alertUnica()\\\">\\r\\n                <input type=\\\"radio\\\" class=\\\"custom-control-input\\\" id=\\\"radio11\\\" formControlName=\\\"final\\\" value=\\\"2\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"radio11\\\" >{{'Extraordinario' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.final.invalid && f.final.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div>\\r\\n\\r\\n        <!--div class=\\\"form-group\\\" *ngIf=\\\"f.totalPreguntas\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"nombre_ciclo\\\">{{'Elegir ' | translate}}:</label>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col mt-3\\\">\\r\\n              <div class=\\\"custom-control custom-checkbox\\\">\\r\\n                <input formControlName=\\\"totalPreguntas\\\" type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"totalPreguntas\\\" name=\\\"totalPreguntas\\\">\\r\\n                <label class=\\\"custom-control-label\\\" for=\\\"totalPreguntas\\\">{{'¿Deseas el cálculo de ponderación automático?' | translate}}</label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\" *ngIf=\\\"f.numeroPreguntas\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"control-label\\\">{{'Total de preguntas en actividad' | translate}}</label>\\r\\n                <input class=\\\"form-control\\\" formControlName=\\\"numeroPreguntas\\\" type=\\\"number\\\" >\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"f.portafolio.invalid && f.portafolio.touched\\\">\\r\\n            {{'fmErrSelect' | translate}}\\r\\n          </span>\\r\\n        </div-->\\r\\n    </div>\\r\\n    <div class=\\\"col-12 mt-3\\\" *ngIf=\\\"errorFecha\\\">\\r\\n      <div class=\\\"alert alert-danger\\\">\\r\\n        No puedes cargar horas solamente, debes asignar una fecha\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-12 mt-2\\\">\\r\\n      <button [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"submit\\\" class=\\\"mt-2 btn btn-primary pull-right guardar-ciclo\\\">{{'fmSave' | translate}}</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n</div>\\r\\n<ng-template #modalModulo let-c=\\\"close\\\" let-d=\\\"dismiss\\\">\\r\\n  <div class=\\\"modal-body\\\">\\r\\n      <h4>Cambiar actividad de Bloque</h4>\\r\\n      <select  [(ngModel)]=\\\"idModuloNuevo\\\" class=\\\"form-control\\\"  >\\r\\n        <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n        <option  [value]=\\\"modulo.modulo_id\\\" *ngFor=\\\"let modulo of modulos\\\">{{modulo.modulo_nombre}}</option>\\r\\n      </select>\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"c('Close click')\\\">Cerrar</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"c('Close click'); moverBloque()\\\">Mover de bloque</button>\\r\\n  </div>\\r\\n</ng-template>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n.ajs-message {\\n  color: #31708f;\\n  background-color: #d9edf7;\\n  border-color: #31708f; }\\n\\n.alert-actividad {\\n  text-align: left;\\n  padding: 20px;\\n  background-color: white; }\\n\\n.btn-accion {\\n  float: right;\\n  top: 10px;\\n  text-align: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL2Zvcm0tYWN0aXZpZGFkL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXHNoYXJlZFxcc3R5bGVzXFxmb3Jtcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL2Zvcm0tYWN0aXZpZGFkL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXGFkbWluaXN0cmFjaW9uXFxjYXJnYS1hY3RpdmlkYWRlc1xcYXNpZ25hdHVyYVxcbW9kdWxvXFxhY3RpdmlkYWRcXGZvcm0tYWN0aXZpZGFkXFxmb3JtLWFjdGl2aWRhZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNDLG1CQUFrQixFQUNsQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCw0QkFBMkIsRUFDOUI7O0FBQ0Q7RUFDSSxzQkFBc0IsRUFDekI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBZTtFQUNmLGlCQUFnQixFQUNuQjs7QUNmRDtFQUFlLGVBQWM7RUFBRywwQkFBeUI7RUFBRyxzQkFBcUIsRUFBSTs7QUFFckY7RUFDSSxpQkFBZ0I7RUFDaEIsY0FBYTtFQUNiLHdCQUF1QixFQUMxQjs7QUFDRDtFQUNJLGFBQVc7RUFDWCxVQUFRO0VBQ1Isa0JBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL2Zvcm0tYWN0aXZpZGFkL2Zvcm0tYWN0aXZpZGFkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIiwiQGltcG9ydCBcInNyYy9hcHAvc2hhcmVkL3N0eWxlcy9mb3Jtcy5jb21wb25lbnQuc2Nzc1wiO1xyXG5cclxuLmFqcy1tZXNzYWdlIHsgY29sb3I6ICMzMTcwOGY7ICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDllZGY3OyAgYm9yZGVyLWNvbG9yOiAjMzE3MDhmOyB9XHJcblxyXG4uYWxlcnQtYWN0aXZpZGFke1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG4uYnRuLWFjY2lvbntcclxuICAgIGZsb2F0OnJpZ2h0O1xyXG4gICAgdG9wOjEwcHg7XHJcbiAgICB0ZXh0LWFsaWduOnJpZ2h0O1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray, AbstractControl, FormControl } from '@angular/forms';\r\nimport { TrActividad } from 'src/app/models/learning/trActividad';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { ActividadService } from '../../../../services/actividad.service';\r\nimport { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\nimport {adminEditor} from 'src/app/models/adminEditor';\r\nimport { GLOBAL} from 'src/app/services/global';\r\nimport { RubricasService } from 'src/app/administracion/rubricas/services/rubricas.service';\r\nimport { NgbModal, NgbTimepickerConfig, NgbCalendar } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { FechaService } from 'src/app/services/fecha.service';\r\nimport { AsignaturaService } from 'src/app/administracion/asignatura/services/asignatura.service';\r\n\r\n\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-actividad',\r\n  templateUrl: './form-actividad.component.html',\r\n  styleUrls: ['./form-actividad.component.scss']\r\n})\r\nexport class FormActividadComponent implements OnInit {\r\n  \r\n  title;\r\n  \r\n  fechaIni;\r\n  fechaFin;\r\n  \r\n\r\n  ponderacionTotal : number = 100;\r\n  @Output() sucessEvent = new EventEmitter<any>();\r\n\r\n  idModulo : number;\r\n  idAsignatura:number;\r\n\r\n  actividadForm: FormGroup;\r\n  idActividad;  \r\n  tipoActividad;\r\n  actividad : TrActividad;\r\n  dificultad;\r\n  resolucion;\r\n  contenidoActividad;\r\n  importanciaActividad\r\n  ponderacion: number;\r\n  jwt;\r\n  items;\r\n  actividadSQA;\r\n  urlArchivo;\r\n  ponderacionMax: number;\r\n  botonFuente: boolean = false;\r\n  modulosActivos = [];\r\n  urlAssets;\r\n  rubricas;\r\n\r\n  idCKeditor;\r\n  adminEditor = adminEditor;\r\n  idRol: number;\r\n  cargando;\r\n  tipoAdmin;\r\n  today = this.calendar.getToday();\r\n  meridian = true;\r\n  errorFecha: boolean = false;\r\n  disablePreview: boolean = false;\r\n\r\n  idModuloNuevo;\r\n  modulos;\r\n  \r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _usuarioService: UsuarioService,\r\n    private _actividadService : ActividadService,\r\n    private _rubricaService: RubricasService,\r\n    private modalService: NgbModal,\r\n    private config: NgbTimepickerConfig,\r\n    private _fechaService: FechaService,\r\n    private _asignaturaService: AsignaturaService,\r\n    private calendar: NgbCalendar,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private _location: Location\r\n  ) {\r\n    config.spinners = false;\r\n   }\r\n\r\n  get f() { return this.actividadForm.controls; }\r\n  get sf() { return this.actividadForm.controls.items}\r\n\r\n  // log(val) { console.log(val); }\r\n\r\n  ngOnInit() {    \r\n\r\n    \r\n\r\n    this.urlAssets = GLOBAL.urlAssets;\r\n    let identity = this._usuarioService.getIdentity();\r\n    this.jwt = this._usuarioService.getJWT();\r\n\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n    \r\n    this.idActividad = this.route.snapshot.parent.params['id'];\r\n    this.idModulo = this.route.snapshot.parent.parent.params['id'];\r\n    this.idAsignatura = this.route.snapshot.parent.parent.parent.parent.parent.parent.params['id'];\r\n    \r\n    this.idRol = parseInt(this._usuarioService.getRol().rol_id);        \r\n    \r\n\r\n    this.actividadForm = this.formBuilder.group({\r\n      claveActividad: ['', Validators.required],\r\n       nombreActividad: ['', Validators.required],\r\n       tipoActividad: ['', Validators.required],\r\n       instruccion: ['', Validators.required],\r\n       contenido: ['', requiredFileType(0)],\r\n       fecha: [false],   \r\n       hora: [false],   \r\n       fechaInicio: [''],   \r\n       fechaFin: [''],\r\n       horaInicio: ['', Validators['null']], \r\n       horaFin: ['', Validators['null']], \r\n       idRubrica: [0],\r\n       zonaHoraria: new Date().getTimezoneOffset()/60\r\n     });\r\n     \r\n     \r\n     if(this.idActividad){\r\n \r\n\r\n      this._actividadService.consultaActividad(this.idActividad,this.jwt).subscribe(\r\n        response =>{\r\n          if(response && response['status']){\r\n            this.actividad = response['actividad'][0];\r\n            this.inicializaActividad();\r\n            this.consultaTipoActividad(this.actividad.tipo_actividad_id);\r\n            this.consultaPonderacion(this.actividad.ponderacion);\r\n          }\r\n        },error=>{\r\n          console.log(error)\r\n        });       \r\n      \r\n     }\r\n    else{\r\n      this.actividad = new TrActividad();\r\n      this.title = \"Crear nueva actividad\";\r\n      this.consultaTipoActividad(null);\r\n      this.consultaPonderacion(null);\r\n    }\r\n\r\n            \r\n    this._actividadService.consultaDificultad(this.jwt).subscribe(response =>{\r\n      if(response && response['status']){\r\n        this.dificultad = response['dificultad'];\r\n      }\r\n    },error =>{\r\n    console.log(<any>error)\r\n    });\r\n\r\n    this._actividadService.consultaResolucion(this.jwt).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.resolucion = response['metodos'];\r\n            }\r\n\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n\r\n    this._actividadService.consultaImportanciaActividad().subscribe(\r\n      response =>{\r\n          if(response && response['status']){\r\n            this.importanciaActividad = response['actividades'];\r\n          }\r\n\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n\r\n  }\r\n\r\n  consultaPonderacion(ponderacionActual){\r\n      this._actividadService.sumaPonderacion(this.idAsignatura).subscribe(\r\n        response =>{\r\n          if(response['status']){          \r\n            \r\n            this.ponderacionMax = this.ponderacionTotal - parseInt(response['ponderacionTotal']);\r\n            \r\n            if(this.ponderacionMax < 0) this.ponderacionMax = 0; \r\n\r\n            if(ponderacionActual){\r\n              this.ponderacionMax = this.ponderacionMax + parseInt(ponderacionActual);\r\n            }\r\n\r\n            \r\n          }\r\n      },error =>{\r\n        \r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  consultaTipoActividad(id_tipo_actividad){\r\n    this._actividadService.consultaTipoActividad().subscribe(response =>{\r\n      if(response && response['status']){\r\n        \r\n          this.tipoActividad = response['actividades'];\r\n          if (this.idRol != 1) {\r\n            let array = this.tipoActividad.map(a => {return a.tipo_actividad_id});\r\n            \r\n          }      \r\n        \r\n        this.valueChanges();\r\n        if(id_tipo_actividad){\r\n          this.generateItems(id_tipo_actividad);\r\n        }\r\n          \r\n      }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  openModulo(content) {\r\n    this.idModuloNuevo = '';\r\n    let tipo,idAsignatura;\r\n    if(this.idRol == 1){\r\n      idAsignatura= this.idAsignatura;\r\n      tipo = 1\r\n    }\r\n    else{\r\n      idAsignatura = this.route.snapshot.parent.parent.parent.parent.params['id'];\r\n      tipo = 3;\r\n    }\r\n      \r\n\r\n    this._asignaturaService.consultaModulo(idAsignatura,tipo,null).subscribe(\r\n      response=>{\r\n        if(response && response['status']){\r\n          let modulos = response['modulos'];\r\n\r\n          this.modulos = modulos.filter(function (modulo) {\r\n            console.log(modulo.modulo_id)\r\n            console.log(this.idModulo)\r\n            return modulo.modulo_id != this.idModulo;\r\n          }.bind(this));\r\n          \r\n        }else{\r\n          this.modulos= []\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n        this.modulos= []\r\n      }\r\n    )\r\n    this.modalService.open(content, {size: 'sm'}).result.then((result) => {\r\n    }, (reason) => {\r\n    });\r\n}\r\n\r\nmoverBloque(){\r\n  this._actividadService.cambiarModulo(this.idActividad,this.actividad.orden,this.idModulo,this.idModuloNuevo).subscribe(\r\n    response =>{\r\n      if(response && response['status']){\r\n          alertify.success('Actividad movida exitosamente')\r\n          this._location.back();\r\n      }else{\r\n\r\n      }\r\n\r\n    },error=>{\r\n      console.log(error)\r\n    }\r\n  )\r\n \r\n}\r\n\r\n  inicializaActividad(){\r\n    let shuffle;\r\n    let tipoActividad,dificultad,resolucion; //es necesario declararla con un valor de lo contrario no manda información\r\n\r\n    this.ponderacionMax = this.ponderacionTotal;\r\n\r\n    let _fechaInicio: any = '';\r\n    let _fechaFin: any = '';\r\n    let _horaInicio: any = '';\r\n    let _horaFin: any = '';\r\n    if (this.actividad){ //si existe un valor de actividad tomo el id_actividad para su posterior uso\r\n\r\n      if (this.actividad.fecha_inicio) {\r\n        let Inicio = new Date(this.actividad.fecha_inicio * 1000);\r\n        _fechaInicio = {year: Inicio.getFullYear(), month: Inicio.getMonth()+1, day: Inicio.getDate()};\r\n        _horaInicio = {hour: Inicio.getHours(), minute: Inicio.getMinutes(), second: Inicio.getSeconds()};\r\n\r\n        this.actividadForm.get('fecha').setValue(true);\r\n        if(Inicio.getHours() != 0 || Inicio.getMinutes() !=0){\r\n          this.actividadForm.get('hora').setValue(true);\r\n        }\r\n      }\r\n      if (this.actividad.fecha_fin) {\r\n        let Fin = new Date(this.actividad.fecha_fin * 1000);      \r\n        _fechaFin = {year: Fin.getFullYear(), month: Fin.getMonth()+1, day: Fin.getDate()};\r\n        _horaFin = {hour: Fin.getHours(), minute: Fin.getMinutes(), second: Fin.getSeconds()};\r\n      }\r\n      \r\n      this.idActividad = this.actividad.actividad_id;\r\n      tipoActividad = this.actividad.tipo_actividad_id;\r\n      dificultad = this.actividad.dificultad_id;\r\n      resolucion = this.actividad.metodo_resolver_id;\r\n      this.ponderacion = parseInt(this.actividad.ponderacion);\r\n      shuffle = this.actividad.aleatorio ?  this.actividad.aleatorio  : 0 ;\r\n      \r\n    }else{ //si no sólo declaro actividad como un elemento vacio, es necesario para el funcionamiento del formulario\r\n      this.actividad = new TrActividad();\r\n      tipoActividad =  \"\"\r\n      dificultad = 1;\r\n      resolucion = 1;\r\n      shuffle = 0;\r\n      this.ponderacion = 0;\r\n  }\r\n\r\n    if (this.actividad.tipo_calificacion == '2') {\r\n      this.mostrar_rubrica();\r\n    }\r\n\r\n    this.actividadForm.get('nombreActividad').setValue(this.actividad.actividad_nombre);\r\n    this.actividadForm.get('claveActividad').setValue(this.actividad.actividad_clave);\r\n    this.actividadForm.get('tipoActividad').setValue(tipoActividad);\r\n    this.actividadForm.get('instruccion').setValue(this.actividad.instruccion);\r\n    this.actividadForm.get('contenido').setValue('');\r\n    this.actividadForm.get('fechaInicio').setValue(_fechaInicio);\r\n    this.actividadForm.get('fechaFin').setValue(_fechaFin);\r\n    this.actividadForm.get('horaInicio').setValue(_horaInicio);\r\n    this.actividadForm.get('horaFin').setValue(_horaFin);\r\n    this.actividadForm.get('idRubrica').setValue(this.actividad.rubrica_id);\r\n\r\n    this._actividadService.consultaContenido(this.idActividad,this.jwt).subscribe(response =>{\r\n      if(response && response['status']){\r\n        this.contenidoActividad = response['contenido'];\r\n      }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n    \r\n  }\r\n\r\n  vistaArchivo(id,index,_visto){\r\n    this.contenidoActividad[index].visto = _visto;\r\n    if (this.contenidoActividad[index].visto == 0 || !this.contenidoActividad[index].visto){\r\n      this.contenidoActividad[index].visto = 1;\r\n    }else if(this.contenidoActividad[index].visto == 1){\r\n      this.contenidoActividad[index].visto = 0;\r\n    }\r\n      this._actividadService.vistaArchivo(id, this.contenidoActividad[index].visto, this.jwt).subscribe(response =>{      \r\n      //   if(response && response['status']){\r\n      //   console.log(response);   \r\n      // }\r\n    },error =>{\r\n    console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  valueChanges(){\r\n    this.actividadForm.get('tipoActividad').valueChanges.subscribe(value => {          \r\n      this.deleteControls();   \r\n      this.generateItems(value);\r\n    }); \r\n  }\r\n\r\n  generateItems(value){ \r\n    let selected = this.tipoActividad.find(r => r.tipo_actividad_id == value);    \r\n    let a = this.actividad;   \r\n    let aleatorio = a.aleatorio ? a.aleatorio : '0';    \r\n    let controls;\r\n\r\n    if (value == '2') {\r\n      let total_preguntas: any = this.actividad.num_total_preguntas;      \r\n      if (parseInt(total_preguntas) > 0 ) total_preguntas = true;\r\n      else if(parseInt(total_preguntas) == 0 || !total_preguntas) total_preguntas = false;\r\n      \r\n      controls = [{ control: 'tipoEvaluacion', value: a.tipo_calificacion? a.tipo_calificacion: '3', show: selected.tipo_evaluacion }, \r\n      { control: 'bullet', value: a.numero_mostrado? a.numero_mostrado: '1', show: selected.bullet }, \r\n      { control: 'aleatorio', value: aleatorio, show: selected.aleatorio },\r\n      { control: 'numeroIntentos', value: a.num_intentos? a.num_intentos: 1, show: selected.num_intentos }, \r\n      { control: 'resolucion', value: a.metodo_resolver_id? a.metodo_resolver_id: '0', show: selected.metodo_resolucion },\r\n      { control: 'importancia', value: a.importancia_actividad_id? a.importancia_actividad_id: '1', show: selected.importancia_actividad },\r\n      { control: 'ponderacion', value: this.ponderacion? this.ponderacion: 0, show: selected.ponderacion}, \r\n      { control: 'unica', value: a.unica? a.unica: '0', show: selected.unica },\r\n      { control: 'portafolio', value: a.portafolio? a.portafolio: '0', show: selected.portafolio },\r\n      \r\n      //{ control: 'totalPreguntas', value: total_preguntas, show: '1' }\r\n      ];\r\n      /*if (total_preguntas) {\r\n        controls.push({ control: 'numeroPreguntas', value: a.num_total_preguntas, show: '1' })\r\n      }*/\r\n    }else {\r\n      controls = [{ control: 'tipoEvaluacion', value: a.tipo_calificacion, show: selected.tipo_evaluacion }, \r\n      { control: 'bullet', value: a.numero_mostrado, show: selected.bullet }, \r\n      { control: 'aleatorio', value: aleatorio, show: selected.aleatorio },\r\n      { control: 'numeroIntentos', value: a.num_intentos, show: selected.num_intentos }, \r\n      { control: 'resolucion', value: a.metodo_resolver_id, show: selected.metodo_resolucion },\r\n      { control: 'importancia', value: a.importancia_actividad_id, show: selected.importancia_actividad },\r\n      { control: 'ponderacion', value: this.ponderacion, show: selected.ponderacion}, \r\n      { control: 'unica', value: a.unica, show: selected.unica },\r\n      { control: 'portafolio', value: a.portafolio, show: selected.portafolio },\r\n    ];\r\n    }\r\n    this.addControls(controls);    \r\n  }\r\n\r\n  deleteControls(){\r\n    let controls = ['tipoEvaluacion', 'bullet', 'aleatorio', 'numeroIntentos', 'resolucion', 'ponderacion', \r\n    'unica','importancia', 'portafolio', /*'totalPreguntas', 'numeroPreguntas'*/];\r\n    controls.forEach(control => {      \r\n      if (this.actividadForm.get(control)) {\r\n        this.actividadForm.removeControl(control);\r\n      }\r\n    });\r\n  }\r\n  \r\n  addControls(controls){\r\n    controls.forEach(data => {\r\n      if (data.control == 'ponderacion' && data.show == '1') {\r\n        this.actividadForm.addControl( data.control, new FormControl( data.value, \r\n          Validators.compose([Validators.min(0), (control: AbstractControl) => Validators.max(this.ponderacionMax)(control), Validators.required])) ); \r\n      }else if (data.show == '1'){\r\n        this.actividadForm.addControl( data.control, new FormControl( data.value, Validators['required']) ); \r\n      }\r\n    });    \r\n    \r\n    /*if (this.actividadForm.get('totalPreguntas')) {\r\n      this.actividadForm.get('totalPreguntas').valueChanges.subscribe(value => {\r\n        if (value) this.actividadForm.addControl('numeroPreguntas', new FormControl('', Validators.required));\r\n        else this.actividadForm.removeControl('numeroPreguntas');\r\n      })\r\n    }        */\r\n  }\r\n\r\n  generaClaveAsign(){\r\n    let nombre = this.actividadForm.get('nombreActividad').value;\r\n    let palabras = nombre.split(' ');\r\n    let iniciales = '';\r\n    let clave;\r\n    palabras.forEach(_palabra => {\r\n      iniciales = iniciales + _palabra.substr(0,1)  \r\n    });\r\n    clave = iniciales.toUpperCase();\r\n    this.actividadForm.get('claveActividad').setValue(clave);\r\n  }\r\n\r\n  openModal(content, urlArchivo) {\r\n    this.modalService.open(content, { size: 'lg' });\r\n    // let _url = urlArchivo.splice(0,1);\r\n    // console.log(_url);\r\n    this.urlArchivo = this.urlAssets + urlArchivo;\r\n  }\r\n\r\n  verDatos() {\r\n    console.log(this.actividadForm.value);\r\n  }\r\n\r\n  guardarBorrador(){\r\n    this.cargando = true;\r\n    this._actividadService.guardaContenido(this.actividadForm,this.idActividad,this.jwt, this.idModulo).subscribe(\r\n      response =>{\r\n            if(response && response['status']){\r\n              alertify.success(response['msg'])\r\n              if (response['id_actividad'])this.idActividad = response['id_actividad'];              \r\n              this._actividadService.consultaContenido(this.idActividad,this.jwt).subscribe(\r\n                response =>{\r\n                  if(response && response['status']){\r\n                    this.contenidoActividad = response['contenido'];\r\n                    this.cargando = false;                 \r\n                  }\r\n                },\r\n                error =>{\r\n                  console.log(error)\r\n                });\r\n\r\n              this.sucessEvent.emit(\r\n                {\r\n                  'status': response['status'],\r\n                  'idPregunta' : response['idPregunta']\r\n                });//si se insertó correctamente se le agrega la asignatura a la asignatura\r\n            }else{\r\n              alertify.error(response['msg'])\r\n\r\n            }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  eliminarContenido(id,index){\r\n    alertify.confirm('¿Deseas eliminar el contenido?',\r\n      function(){\r\n        this._actividadService.eliminaContenido(id,this.jwt).subscribe(\r\n          response =>{\r\n            if(response && response['status']){\r\n                    this.contenidoActividad.splice(index,1);\r\n                    alertify.success(response['msg']);\r\n                  }\r\n                  else{\r\n                    alertify.success(response['msg']);\r\n                  }\r\n            \r\n              },error =>{\r\n                console.log(<any>error)\r\n              });\r\n        \r\n      }.bind(this),\r\n      function(){\r\n        alertify.error('Cancel');\r\n      });\r\n                \r\n  }\r\n\r\n  hasError( error: string ) {\r\n    const control = this.actividadForm.get('contenido');\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  toggleMeridian() {\r\n    this.meridian = !this.meridian;\r\n  }\r\n\r\n  setData(id, data) {\r\n    if (id == 1) {\r\n      this.actividadForm.get('fechaInicio').setValue(data);\r\n    }else {\r\n      this.actividadForm.get('fechaFin').setValue(data);\r\n    }\r\n  }\r\n\r\n  enviarInformacionActividad(id = 0, url = ''){    \r\n    if (id == 1) this.disablePreview = true;\r\n    this.actividadForm.get('fechaInicio').setErrors(null);\r\n    this.actividadForm.get('fechaFin').setErrors(null);    \r\n    if (this.actividadForm.invalid) {\r\n      Object.keys(this.actividadForm.controls).forEach( controlKey => {\r\n        this.actividadForm.controls[controlKey].markAsTouched();\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (!this.botonFuente) {\r\n      // let boton = document.getElementById(this.idCKeditor);\r\n      // console.log(this.idCKeditor);\r\n      // boton.click();\r\n    // }   \r\n    let form = this.actividadForm.value; \r\n\r\n      if ( ((!form.fechaInicio || form.fechaInicio == '') && (form.horaInicio != '' && form.horaInicio)) || \r\n          ((!form.fechaFin || form.fechaFin == '') && (form.horaFin != '' && form.horaFin)) ) {\r\n        this.errorFecha = true;\r\n      }else {\r\n        this.errorFecha = false;\r\n        let fInicio, fFin;\r\n\r\n        if (!form.fecha || ((form.fechaInicio == '' || !form.fechaInicio) && (form.horaInicio == '' || !form.horaInicio))) fInicio = '0000-00-00 00:00:00';\r\n        else if (!form.hora || ((form.fechaInicio != '' && form.fechaInicio) && (form.horaInicio == '' || !form.fechaInicio)))\r\n          fInicio = this._fechaService.formatoFecha(form.fechaInicio, '', 1) + ' 00:00:00';\r\n        else if ((form.fechaInicio == '' || !form.fechaInicio) && (form.horaInicio != '' && form.horaInicio))\r\n          fInicio = '0000-00-00 ' + this._fechaService.formatoFecha('', form.horaInicio, 2);\r\n        else if ((form.fechaInicio != '' && form.fechaInicio) && (form.horaInicio != '' && form.horaInicio))\r\n          fInicio = this._fechaService.formatoFecha(form.fechaInicio, form.horaInicio, 0);\r\n  \r\n          \r\n        if (!form.fecha || ((form.fechaFin == '' || !form.fechaFin) && (form.horaFin == '' || !form.horaFin))) fFin = '0000-00-00 00:00:00';\r\n        else if (!form.hora || ((form.fechaFin != '' && form.fechaFin) && (form.horaFin == '' || !form.fechaFin)))\r\n          fFin = this._fechaService.formatoFecha(form.fechaFin, '', 1) + ' 23:59:00';\r\n        else if ((form.fechaFin == '' || !form.fechaFin) && (form.horaFin != '' && form.horaFin))\r\n          fFin = '0000-00-00 ' + this._fechaService.formatoFecha('', form.horaFin, 2);\r\n        else if ((form.fechaFin != '' && form.fechaFin) && (form.horaFin != '' && form.horaFin))\r\n          fFin = this._fechaService.formatoFecha(form.fechaFin, form.horaFin, 0);\r\n        \r\n        this._actividadService.modificaActividad(this.actividadForm,this.idModulo,this.idActividad,this.jwt,\r\n          fInicio, fFin).subscribe(\r\n          response =>{\r\n              if(response && response['status']){\r\n                \r\n                if(!this.idActividad) this.idActividad = response['idActividad'];\r\n                \r\n                if(this.actividadForm.get('tipoActividad').value == \"2\" && id == 0){\r\n                  this.router.navigate(['./preguntas/'+this.idActividad+'/nuevo'],{ relativeTo: this.route.parent.parent });\r\n                }else if(this.actividadForm.get('tipoActividad').value != \"2\" && id == 0) {\r\n                  this._location.back();\r\n                }else if(id == 1) {\r\n                  this.router.navigate(['./'+url+ '/'+this.idActividad],{ relativeTo: this.route.parent.parent });\r\n                }\r\n                \r\n                alertify.success(response['msg'])\r\n                \r\n              }else{\r\n                alertify.error(response['msg'])\r\n              }\r\n\r\n              this.disablePreview = false;\r\n\r\n          },error =>{\r\n          console.log(<any>error)\r\n        });\r\n      }    \r\n    }else{\r\n      alertify.error(\"Para guardar los cambios da click de nuevo en el botón Fuente HTML\").dismissOthers();\r\n    }\r\n\r\n  }\r\n\r\n  mostrar_rubrica(){\r\n    this._rubricaService.catalogo(this.jwt).subscribe(response=>{\r\n      if(response && response['status']){\r\n        this.rubricas = response['rubricas'];\r\n      }\r\n    },error=>{\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  comienza(event){\r\n    let self = this;\r\n    let url = GLOBAL.url;\r\n    let urlAssets = GLOBAL.urlAssets;\r\n    let jwt = this.jwt;\r\n    let idModulo = \"\"+this.idModulo+\"\";   \r\n\r\n    event.editor.on('key', function( evt ) {\r\n      var myEditor = this;\r\n      //if delete or backspace pressed\r\n      if ( ( evt.data.keyCode in { 8: 1, 46: 1 } ) ) {\r\n          //get the last element\r\n          var lastElement = myEditor.elementPath().lastElement,\r\n            // lastElementName = lastElement.getName(),\r\n            lastElementNode = lastElement.$; //native DOM object\r\n            //see what properties the node has\r\n          var src = lastElementNode.getAttribute(\"src\");\r\n          if (src) {\r\n            var array = src.split(\"assets\");          \r\n            var url = 'assets' + array[1];\r\n            self._actividadService.eliminaImagen(url).subscribe(response => {\r\n              if (response && response['status']) \r\n                alertify.success(response['msg']).dismissOthers();\r\n              else \r\n                alertify.error(response['msg']).dismissOthers();\r\n            }, error => {\r\n              console.log(<any>error);\r\n            });\r\n          }\r\n      }\r\n    });\r\n\r\n    event.editor.on( 'fileUploadRequest', function( evt ) {\r\n      var fileLoader = evt.data.fileLoader,\r\n      formData = new FormData(),\r\n      xhr = fileLoader.xhr;\r\n      xhr.open('POST',url +'extras/archivo/carga_ckeditor.php', true);\r\n      //xhr.setRequestHeader('Content-type', \"multipart/form-data\");\r\n      formData.append('jwt', jwt);\r\n      formData.append('nom_carpeta','modulo');\r\n      formData.append('id', idModulo );\r\n      formData.append('file', fileLoader.file, fileLoader.fileName);\r\n      fileLoader.xhr.send( formData );\r\n      evt.stop();\r\n      // Prevented the default behavior.\r\n    }, null, null, 4 );\r\n\r\n    event.editor.on( 'fileUploadResponse', function( evt ) {\r\n      // Prevent the default response handler.\r\n      evt.stop();\r\n      // Get XHR and response.\r\n      var data = evt.data,\r\n        xhr = data.fileLoader.xhr,\r\n        response = xhr.responseText.split( '|' );\r\n      if ( response[1] ) {\r\n        // An error occurred during upload.          \r\n        data.message = response[1];\r\n        evt.cancel();\r\n      }else {\r\n        var msg = JSON.parse(response[0]);\r\n        // console.log(response[0])\r\n        // console.log(msg);\r\n        setTimeout(() => {\r\n          self.getData(event);\r\n        }, 10);\r\n        data.url = urlAssets + msg.url;        \r\n      }      \r\n    });\r\n  }\r\n\r\n\r\n\r\n  getData(event: any) {\r\n    this.actividadForm.controls['instruccion'].setValue(event.editor.getData());    \r\n  }\r\n\r\n  btnSource(evt:any){\r\n    // this.modulosActivos = [];\r\n    // let numero = 0;\r\n    // this.modulo.forEach(mod => {\r\n    //   if (mod.actividades) {\r\n    //     for (let i = 0; i < mod.actividades.length; i++) {\r\n    //       if (mod.actividades[i].editar) {\r\n    //         this.modulosActivos.push(numero)\r\n    //         numero++;\r\n    //       }          \r\n    //     }\r\n    //   }\r\n    // });\r\n    // console.log(this.modulosActivos)\r\n    let parent = evt.target.classList;\r\n    if(parent[1]){\r\n      let sourceBtn = parent[1].substr(0, 18);\r\n      if (sourceBtn === \"cke_button__source\") {\r\n        this.botonFuente = !this.botonFuente;\r\n        // if (this.botonFuente) {\r\n        //   alertify.error(\"Para guardar los cambios da click de nuevo en el botón Fuente HTML\").dismissOthers();\r\n        // }else{\r\n        //   alertify.success(\"Es posible guardar la información\").dismissOthers();\r\n        // }\r\n      }\r\n      // if (this.modulosActivos.length == 1) {\r\n      //   this.idCKeditor = document.getElementsByClassName(parent[1])[0].id;\r\n      // }\r\n      // console.log(this.idCKeditor)\r\n      // console.log(this.indexActividad)\r\n      // console.log(document.getElementsByClassName(parent[1]))\r\n      // console.log(div)\r\n    }\r\n  }\r\n\r\n    \r\n  redireccion(url){\r\n    this.enviarInformacionActividad(1, url);\r\n  }\r\n  \r\n  alertUnica() { \r\n    alertify.warning(\"Esta forma de evaluación reemplaza todas las calificaciones de las actividades anteriores\").dismissOthers();\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FormActividadRoutingModule } from './form-actividad-routing.module';\r\nimport { FormActividadComponent } from './form-actividad.component';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ArchivoModule } from 'src/app/components/archivo/archivo.module';\r\nimport { FileUploadModule } from 'src/app/components/file-upload/file-upload.module';\r\nimport { CKEditorModule } from 'ckeditor4-angular';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@NgModule({\r\n  declarations: [FormActividadComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    FormActividadRoutingModule,\r\n    LanguageTranslationModule,\r\n    FormsModule,\r\n    FileUploadModule,\r\n    ReactiveFormsModule,\r\n    ArchivoModule,\r\n    NgbModule,\r\n    CKEditorModule\r\n]\r\n})\r\nexport class FormActividadModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ActividadService {\r\n\r\n\turl:string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n    ) {\r\n      this.url = GLOBAL.url;\r\n    }\r\n\r\n    vistaArchivo(id_actividad, visto, jwt){\r\n      let formData: FormData = new FormData(); \r\n      \r\n      formData.append('id_contenido_actividad', id_actividad);\r\n      formData.append('visto', visto);\r\n      formData.append('jwt', jwt);\r\n\r\n      \r\n      return this._httpClient.post(this.url +'learning/contenidoActividad/modificaContenido.php',formData);\r\n\r\n    }\r\n\r\n    consultaActividad(id_actividad,jwt){\r\n\r\n      var params =  '?jwt='+jwt;\r\n      params += '&id_actividad='+id_actividad;\r\n      \r\n      return this._httpClient.get(this.url +'learning/actividad/consulta.php'+params);\r\n    }\r\n    \r\n  \tconsultaTipoActividad(){\r\n\r\n      return this._httpClient.get(this.url +'catalogosLE/tipoActividad.php');\r\n    }\r\n    consultaImportanciaActividad(){\r\n\r\n      return this._httpClient.get(this.url +'catalogosLE/importanciaActividad.php');\r\n    }\r\n    consultaDificultad(jwt){\r\n\r\n      var params =  '?jwt='+jwt;\r\n      \r\n      return this._httpClient.get(this.url +'catalogosLE/dificultad.php'+params);\r\n    }\r\n\r\n    consultaResolucion(jwt){\r\n\r\n      var params =  '?jwt='+jwt;\r\n      \r\n      return this._httpClient.get(this.url +'catalogosLE/resolucion.php'+params);\r\n    }\r\n\r\n    elimina(id,jwt){\r\n      var params = '?id_actividad='+id;\r\n      params += '&jwt='+jwt;    \r\n      return this._httpClient.get(this.url +'learning/actividad/elimina.php'+params);\r\n    }\r\n    consultaContenido(id,jwt){\r\n      var params = '?id_actividad='+id;\r\n      params += '&jwt='+jwt;    \r\n      return this._httpClient.get(this.url +'learning/contenidoActividad/consulta.php'+params);\r\n    }\r\n\r\n    guardaContenido(form,id,jwt, id_modulo){\r\n\r\n      let formData: FormData = new FormData(); \r\n      if (id) {\r\n        formData.append('id_actividad', id);\r\n      }\r\n      formData.append('jwt', jwt);\r\n      formData.append('archivo',form.get('contenido').value)\r\n      formData.append('id_modulo', id_modulo)\r\n\r\n        \r\n      return this._httpClient.post(this.url +'learning/contenidoActividad/crea.php',formData);\r\n\r\n    }\r\n    eliminaContenido(id,jwt){\r\n\r\n      var params = '?id_contenido_actividad='+id;\r\n      params += '&jwt='+jwt;    \r\n\r\n      return this._httpClient.get(this.url +'learning/contenidoActividad/elimina.php'+params);\r\n    }\r\n\r\n    orden(orden_nuevo,id_modulo,id_actividad,jwt){      \r\n      var params = '?orden_nuevo='+orden_nuevo;\r\n      params += '&id_actividad='+id_actividad;    \r\n      params += '&id_modulo='+id_modulo;          \r\n      params += '&jwt='+jwt;    \r\n      return this._httpClient.get(this.url +'learning/actividad/orden.php'+params);\r\n    }\r\n\r\n    modificaActividad(form,id_modulo,id_actividad,jwt,f_inicio,f_fin){\r\n \r\n      let formData: FormData = new FormData(); \r\n      let datos = [{ var: 'tipo_calificacion', control: 'tipoEvaluacion' }, \r\n        { var: 'numero_mostrado', control: 'bullet' }, \r\n        { var: 'shuffle', control: 'aleatorio' },\r\n        { var: 'num_intentos', control: 'numeroIntentos' }, \r\n        { var: 'metodo_resolver_id', control: 'resolucion' },\r\n        { var: 'importancia_actividad_id', control: 'importancia' },\r\n        { var: 'ponderacion', control: 'ponderacion' }, \r\n        { var: 'unica', control: 'unica' },\r\n        { var: 'portafolio', control: 'portafolio' }];\r\n      datos.forEach(dato => {\r\n        formData.append(dato.var, form.get(dato.control)? form.get(dato.control).value : 0);\r\n      });\r\n      formData.append('actividad_clave', form.get('claveActividad').value);\r\n      formData.append('dificultad_id', form.get('dificultad')? form.get('dificultad').value : 0);\r\n      formData.append('instruccion', form.get('instruccion').value);\r\n      formData.append('actividad_nombre', form.get('nombreActividad').value);\r\n      formData.append('tipo_actividad_id', form.get('tipoActividad').value);\r\n      formData.append('fecha_inicio', f_inicio);\r\n      formData.append('fecha_fin', f_fin);\r\n      formData.append('modulo_id', id_modulo);\r\n      formData.append('id_rubrica', form.get('idRubrica').value);\r\n      formData.append('zona_horaria', form.get('zonaHoraria').value);\r\n\r\n      if (form.get('totalPreguntas')) {\r\n        formData.append('num_total_preguntas', form.get('totalPreguntas').value == true? form.get('numeroPreguntas').value : '0');\r\n      }else {\r\n        formData.append('num_total_preguntas', '0');\r\n      }\r\n      formData.append('num_preguntas_mostrar', \"0\");\r\n      formData.append('jwt', jwt);\r\n      \r\n  \r\n      var fd = new FormData();\r\n  \r\n      if (id_actividad == null) {// INSERTA UN NUEVO REGISTRO\r\n        return this._httpClient.post(this.url +'learning/actividad/crea.php',formData);\r\n      }else{\r\n  \r\n        formData.append('id_actividad', id_actividad);\r\n        return this._httpClient.post(this.url +'learning/actividad/edita.php',formData);\r\n      }\r\n    }\r\n  \r\n      \r\n    consultaPreguntas(id, jwt, tipo = 0){\r\n\r\n      var params = '?id_actividad='+id;\r\n      params += '&jwt='+jwt;\r\n      params += '&tipo='+tipo; \r\n      \r\n      return this._httpClient.get(this.url +'/learning/actividad/consultaPreguntas.php'+params);\r\n    }\r\n\r\n    sumaPonderacion(id){\r\n\r\n      var params = '?id_asignatura='+id;\r\n      \r\n      return this._httpClient.get(this.url +'/learning/asignatura/ponderacionTotal.php'+params);\r\n    }\r\n\r\n    consultaActividadesSQA(id,jwt){\r\n\r\n      var params = '?id_asignatura='+id;\r\n      params += '&jwt='+jwt;\r\n      \r\n      return this._httpClient.get(this.url +'/learning/asignatura/consultaActividadSQA.php'+params);\r\n    }\r\n\r\n    reasignaCalificacionActividad(id_actividad, tipo_calificacion) {\r\n      let formData = new FormData();\r\n        formData.append('id_actividad', id_actividad);\r\n        formData.append('tipo_calificacion', tipo_calificacion);\r\n      return this._httpClient.post(this.url +'/learning/administracion/reasignaCalificacionActividad.php', formData);\r\n    }\r\n\r\n    eliminaImagen(url) {\r\n      let params = new HttpParams()\r\n        .set('url', url);\r\n      return this._httpClient.get(this.url + '/extras/archivo/elimina_ckeditor.php', {params: params});\r\n    }\r\n\r\n    consultaActividadesCompletas(id_asignatura) {\r\n      let params = new HttpParams()\r\n        .set('id_asignatura', id_asignatura);\r\n      return this._httpClient.get(this.url + '/controlEscolar/asignatura/consultaActividadesCompletas.php', {params: params});\r\n    }\r\n\r\n    cambiaVisto(id_actividad, visto) {\r\n      var params = '?id_actividad='+id_actividad;\r\n      params += '&visible='+visto;\r\n      return this._httpClient.get(this.url + '/learning/actividad/editaVisible.php'+params);\r\n    }\r\n\r\n    cambiarModulo(id_actividad,orden,id_modulo,id_modulo_nuevo){\r\n      let formData = new FormData();\r\n      formData.append('id_actividad', id_actividad);\r\n      formData.append('orden', orden);\r\n      formData.append('id_modulo', id_modulo);\r\n      formData.append('id_modulo_nuevo', id_modulo_nuevo);\r\n    return this._httpClient.post(this.url +'/learning/actividad/moverModulo.php', formData);\r\n\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RubricasService {\r\n  \r\n  url:string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\n  private _httpClient: HttpClient,\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n  }\r\n\r\n  consulta(jwt, id_rubrica){\r\n    var params = \"?id_rubrica=\" + id_rubrica;\r\n    params += \"&jwt=\" + jwt;\r\n    \r\n    return this._httpClient.get(this.url + 'learning/rubrica/consulta.php' + params);\r\n  }\r\n\r\n  creaHorizontal(id_rubrica, form, jwt){\r\n    let formData: FormData = new FormData();  \r\n\r\n    formData.append('id_rubrica', id_rubrica);\r\n    form.horizontales.forEach(horizontal => {\r\n      formData.append('elemento_desc[]', horizontal.texto);\r\n    });\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/rubrica/cargaElemento.php',formData);\r\n  }\r\n\r\n  creaVertical(id_rubrica, form, jwt){\r\n    let formData: FormData = new FormData(); \r\n    \r\n    formData.append('id_rubrica', id_rubrica);\r\n    form.verticales.forEach(vertical => {\r\n      formData.append('categoria_desc[]', vertical.texto);\r\n    });\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/rubrica/cargaCategorias.php',formData);\r\n  }\r\n\r\n  creaRubrica(jwt, form){\r\n    let formData: FormData = new FormData();    \r\n    formData.append('id_actividad', '1');\r\n    formData.append('descripcion_rubrica', form.titulo);\r\n    formData.append('numero_elementos', form.selectHorizontal);\r\n    formData.append('numero_categorias', form.selectVertical);\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/rubrica/crea.php',formData);\r\n  }\r\n  \r\n  consultaHorizontal(id_rubrica, jwt){\r\n    var params = \"?id_rubrica=\" + id_rubrica;\r\n    params += \"&jwt=\" + jwt;\r\n    return this._httpClient.get(this.url + 'learning/rubrica/consultaElemento.php' + params);\r\n  }\r\n\r\n  consultaVertical(id_rubrica, jwt){\r\n    var params = \"?id_rubrica=\" + id_rubrica;\r\n    params += \"&jwt=\" + jwt;\r\n\r\n    return this._httpClient.get(this.url + 'learning/rubrica/consultaCategoria.php' + params);\r\n\r\n  }\r\n\r\n  consultaRespuestas(id_rubrica, jwt){\r\n    var params = \"?id_rubrica=\" + id_rubrica;\r\n    params += \"&jwt=\" + jwt;\r\n\r\n    return this._httpClient.get(this.url + 'learning/celdaRubricas/consulta.php' + params);\r\n  }\r\n  \r\n  guardaCelda(jwt, id_horizontal, id_vertical, textarea, input){\r\n    let formData: FormData = new FormData();    \r\n    formData.append('id_elemento', id_horizontal);\r\n    formData.append('id_categoria', id_vertical);\r\n    formData.append('celda', textarea);\r\n    formData.append('respuesta_valor', input);\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/celdaRubricas/crea.php',formData);\r\n  } \r\n\r\n  editaCelda(jwt, id_respuesta, textarea, input){\r\n    let formData: FormData = new FormData();    \r\n    formData.append('id_respuesta', id_respuesta);\r\n    formData.append('celda', textarea);\r\n    formData.append('respuesta_valor', input);\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/celdaRubricas/edita.php',formData);\r\n  } \r\n\r\n  catalogo(jwt){\r\n    var params = \"?jwt=\" + jwt;\r\n    return this._httpClient.get(this.url + 'catalogosLE/rubrica.php' + params);\r\n  }\r\n\r\n  eliminaRubrica(id_rubrica, jwt) {\r\n    var params = \"?jwt=\" + jwt;\r\n    params += '&id_rubrica=' + id_rubrica;\r\n    return this._httpClient.get(this.url + 'learning/rubrica/elimina.php' + params);\r\n  }\r\n\r\n  guardaTotalCelda(jwt, datos, id_materia_fecha_actividad){\r\n    let formData: FormData = new FormData();    \r\n    formData.append('id_categoria', datos.categoria_id);\r\n    formData.append('id_respuesta', datos.respuesta_id);\r\n    formData.append('id_materia_fecha_actividad', id_materia_fecha_actividad);\r\n    formData.append('docente_valor', datos.valor);\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/celdaRubricas/respuestaDocente.php',formData);\r\n  }\r\n\r\n  guardarRubrica(jwt, id_materia_fecha_actividad){\r\n    var params = \"?jwt=\" + jwt;\r\n    params += '&id_materia_fecha_actividad=' + id_materia_fecha_actividad;\r\n    return this._httpClient.get(this.url + 'learning/fechaActividad/guardarCalificacionRubrica.php' + params);\r\n  }\r\n\r\n  consultaAlumno(id_rubrica, id_materia_fecha_actividad, jwt){\r\n    var params = \"?id_rubrica=\" + id_rubrica;\r\n    params += \"&jwt=\" + jwt;\r\n    params += \"&id_materia_fecha_actividad=\" + id_materia_fecha_actividad;\r\n\r\n    return this._httpClient.get(this.url + 'learning/celdaRubricas/consultaAlumno.php' + params);\r\n  }\r\n\r\n  creaRubricaJson(jwt, rubrica) {\r\n    let formData: FormData = new FormData();\r\n    formData.append('rubrica', JSON.stringify(rubrica));\r\n    formData.append('jwt', jwt);\r\n\r\n    return this._httpClient.post(this.url + 'learning/rubrica/cargaRubricaJson.php', formData);\r\n  }\r\n}\r\n","import { FormControl } from '@angular/forms';\r\nimport { Archivo } from 'src/app/services/archivos';\r\n\r\n\r\n\r\nexport function requiredFileType( type: number ) {\r\n  return function ( control: FormControl ) {\r\n\r\n    let archivo = Archivo;\r\n    let tipoArchivos;\r\n    if(type == 0){\r\n      type = archivo.length-1;\r\n      tipoArchivos = archivo[type].formatos;\r\n    }else{\r\n      tipoArchivos = archivo[type].formatos;\r\n    }\r\n\r\n    \r\n\r\n    \r\n    const file = control.value;\r\n    if ( file ) {\r\n      const archivo = file.name.split('.');\r\n      var longitud = archivo.length;      \r\n      const extension = file.name.split('.')[longitud-1].toLowerCase();\r\n      if ( tipoArchivos.indexOf(extension.toLowerCase()) == -1) {\r\n        return {\r\n          requiredFileType: true\r\n        };\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  };\r\n}","export const adminEditor = [\r\n    { name: 'document', items: [ 'Source', '-', 'Save', 'NewPage', 'Preview', 'Print', '-', 'Templates' ] },\r\n    { name: 'clipboard', items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },\r\n    { name: 'editing', items: [ 'Find', 'Replace', '-', 'SelectAll', '-', 'Scayt' ] },\r\n    { name: 'forms', items: [ 'Form', 'Checkbox', 'Radio', 'TextField', 'Textarea', 'Select', 'Button', 'ImageButton', 'HiddenField' ] },\r\n    '/',\r\n    { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat' ] },\r\n    { name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl', 'Language' ] },\r\n    { name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },\r\n    { name: 'insert', items: [ 'Image', 'Flash', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak', 'Iframe' ] },\r\n    '/',\r\n    { name: 'styles', items: [ 'Styles', 'Format', 'Font', 'FontSize' ] },\r\n    { name: 'colors', items: [ 'TextColor', 'BGColor' ] },\r\n    { name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] },\r\n    { name: 'about', items: [ 'About' ] }\r\n];","import { SafeHtml } from \"@angular/platform-browser\";\r\nimport { TrDatosPreguntas } from \"./trDatosPreguntas\";\r\nimport { CatModulos } from \"./catModulos\";\r\n\r\nexport class TrActividad{\r\n\r\n    public actividad_id: number;\r\n    public actividad_clave: string;\r\n    public actividad_nombre: string;\r\n    public contenido_pedagogico: string;\r\n    public instruccion: string;\r\n    public numero_mostrado: number;\r\n    public tipo_actividad_id: number;\r\n    public tipo_actividad_nombre: string;\r\n    public actividad_padre_id: string;\r\n\r\n    public dificultad_id: number;\r\n\r\n    public modulo_id: number;\r\n    \r\n    public fecha_inicio: any;\r\n    public fecha_fin: any;\r\n    // public fechaInicio : Array<CatModulos>;\r\n    // public fechaFin : Array<CatModulos>; \r\n    public ponderacion: string;\r\n    public metodo_resolver_id: number;\r\n    public importancia_actividad_id: number;\r\n    public num_intentos: number;\r\n    public num_total_preguntas: number;\r\n    public num_preguntas_mostrar: number;\r\n    public aleatorio: number;\r\n    public orden: number;\r\n    public estatus: number;\r\n    public tipo_calificacion: string;\r\n    public rubrica_id;\r\n\r\n    public unica: number;\r\n    public portafolio: string;\r\n\r\n    //elementos extra que no vienen en la base de datos\r\n\r\n    public instruccion_html: SafeHtml;\r\n    public editar: boolean;\r\n    public mostrarPreguntas: boolean = false;\r\n    public nuevaPregunta: boolean = false;\r\n    \r\n\r\n    \r\n    \r\n\r\n\r\n    public preguntas: Array<TrDatosPreguntas>;\r\n\r\n\r\n    \r\n\r\n}\r\n\r\n"],"sourceRoot":""}