{"version":3,"sources":["webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-arrastable/form-arrastable.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-arrastable/form-arrastable.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-arrastable/form-arrastable.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-datos-pregunta/form-datos-pregunta.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-datos-pregunta/form-datos-pregunta.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-datos-pregunta/form-datos-pregunta.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/form-multiple.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/form-multiple.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/form-multiple.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/imagen/imagen.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/imagen/imagen.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/imagen/imagen.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/texto/texto.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/texto/texto.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-multiple/texto/texto.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta-main/form-pregunta-main-routing.module.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta-main/form-pregunta-main.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta-main/form-pregunta-main.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta-main/form-pregunta-main.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta-main/form-pregunta-main.module.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta/form-pregunta.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta/form-pregunta.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-pregunta/form-pregunta.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-relacion/form-relacion.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-relacion/form-relacion.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-relacion/form-relacion.component.ts","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-zona-imagenes/form-zona-imagenes.component.html","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-zona-imagenes/form-zona-imagenes.component.scss","webpack:///./src/app/administracion/carga-actividades/asignatura/modulo/actividad/pregunta/form-zona-imagenes/form-zona-imagenes.component.ts","webpack:///./src/app/components/file-upload/file.upload.validators.ts","webpack:///./src/app/models/learning/trDatosPreguntas.ts","webpack:///./src/app/models/learning/trPregunta.ts","webpack:///./src/app/models/learning/trPreguntaOpcionMultiple.ts","webpack:///./src/app/models/reactiveEditor.ts","webpack:///./src/app/models/simpleEditor.ts"],"names":[],"mappings":"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","file":"form-pregunta-main-form-pregunta-main-module.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n    <form class=\\\"col\\\"  [formGroup]=\\\"preguntaArrastrableForm\\\" (ngSubmit)=\\\"enviarInformacionPregunta()\\\">\\r\\n  \\r\\n      <div class=\\\"container-fluid\\\"  formArrayName=\\\"items\\\" *ngFor=\\\"let item of preguntaArrastrableForm.get('items')['controls']; let i = index;\\\">\\r\\n        <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\r\\n          <div class=\\\"col-1\\\">\\r\\n            <br>\\r\\n            <h2 class=\\\"mt-2 p-1\\\">{{i + 1}}</h2>\\r\\n          </div>\\r\\n          <div class=\\\"col-10\\\">\\r\\n              <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'textoRespuesta' | translate}}:</label>\\r\\n              <input class=\\\"form-control\\\" formControlName=\\\"reactivo_desc\\\">\\r\\n              <span class=\\\"invalidText\\\" *ngIf=\\\"sf.controls[i].controls.reactivo_desc.invalid && sf.controls[i].controls.reactivo_desc.touched\\\">\\r\\n                  {{'fmErrText' | translate}}\\r\\n              </span>\\r\\n          </div>\\r\\n          <div class=\\\"col-1\\\">\\r\\n              <br>\\r\\n              <i *ngIf=\\\"i > 0\\\" class=\\\"fa fa-times fa-2x mt-2 p-1 cambiaCursor\\\" (click)=\\\"eliminarRespuesta(i)\\\"></i>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n            <button (click)=\\\"agregarRespuesta()\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\"><i class=\\\"fa fa-plus-square\\\"></i> {{'agregarRespuesta' | translate}}</button>\\r\\n        </div>\\r\\n        <div class=\\\"col-12\\\">\\r\\n            <button [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"submit\\\" class=\\\"btn btn-success pull-right\\\">{{'guardarTerminar' | translate}}</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n.cambiaCursor:hover {\\n  cursor: pointer;\\n  color: #dc3545; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tYXJyYXN0YWJsZS9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxzaGFyZWRcXHN0eWxlc1xcZm9ybXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2NhcmdhLWFjdGl2aWRhZGVzL2FzaWduYXR1cmEvbW9kdWxvL2FjdGl2aWRhZC9wcmVndW50YS9mb3JtLWFycmFzdGFibGUvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcYWRtaW5pc3RyYWNpb25cXGNhcmdhLWFjdGl2aWRhZGVzXFxhc2lnbmF0dXJhXFxtb2R1bG9cXGFjdGl2aWRhZFxccHJlZ3VudGFcXGZvcm0tYXJyYXN0YWJsZVxcZm9ybS1hcnJhc3RhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25COztBQ2hCRDtFQUNJLGdCQUFlO0VBQ2YsZUFBYyxFQUNqQiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2NhcmdhLWFjdGl2aWRhZGVzL2FzaWduYXR1cmEvbW9kdWxvL2FjdGl2aWRhZC9wcmVndW50YS9mb3JtLWFycmFzdGFibGUvZm9ybS1hcnJhc3RhYmxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIiwiQGltcG9ydCBcInNyYy9hcHAvc2hhcmVkL3N0eWxlcy9mb3Jtcy5jb21wb25lbnQuc2Nzc1wiO1xyXG4uY2FtYmlhQ3Vyc29yOmhvdmVye1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbn0iXX0= */\"","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\r\nimport { FormBuilder, FormArray, FormGroup, Validators } from '@angular/forms';\r\nimport { TrPreguntaOpcionMultiple } from 'src/app/models/learning/trPreguntaOpcionMultiple';\r\nimport { ArrastableService } from 'src/app/administracion/carga-actividades/services/arrastable.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { Usuario } from 'src/app/models/usuario';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-arrastable',\r\n  templateUrl: './form-arrastable.component.html',\r\n  styleUrls: ['./form-arrastable.component.scss']\r\n})\r\nexport class FormArrastableComponent implements OnInit {\r\n\r\n  newPregunta:TrPreguntaOpcionMultiple = new TrPreguntaOpcionMultiple;\r\n  preguntas: Array<TrPreguntaOpcionMultiple> = new Array<TrPreguntaOpcionMultiple>();\r\n\r\n  @Input() idPregunta;\r\n  @Output() successEvent = new EventEmitter<any>();\r\n  identity : Usuario;\r\n  tipoAdmin\r\n  jwt;\r\n\r\n  preguntaArrastrableForm: FormGroup;\r\n  items: FormArray;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _usuarioService: UsuarioService,\r\n    private _preguntaArrastrableService : ArrastableService,\r\n    ) { }\r\n\r\n    \r\n  get f() { return this.preguntaArrastrableForm.controls; }\r\n  get sf() { return this.preguntaArrastrableForm.controls.items}\r\n  ngOnInit() {\r\n    this.jwt = this._usuarioService.getJWT();\r\n    let identity = this._usuarioService.getIdentity();\r\n\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;\r\n\r\n    if(this.idPregunta !== undefined){\r\n      \r\n      this._preguntaArrastrableService.consultaRespuestas(this.idPregunta,this.jwt,null).subscribe(\r\n        response =>{\r\n          let react=response['reactivos'];\r\n            if(response && response['status']=='1'){\r\n              react.forEach(function (reactivo) {\r\n                this.agregarRespuesta(reactivo.reactivo_desc);\r\n              }.bind(this));\r\n              this.eliminarRespuesta(react.reactivo_desc=='1');\r\n            }\r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }\r\n    this.preguntaArrastrableForm = this.formBuilder.group({\r\n      items: this.formBuilder.array([ this.crearRespuesta() ])\r\n    });\r\n  }\r\n\r\n  agregarRespuesta(reactivo_desc = ''){\r\n    this.items = this.preguntaArrastrableForm.get('items') as FormArray;\r\n    this.items.push(this.crearRespuesta(reactivo_desc));\r\n  }\r\n\r\n  crearRespuesta(reactivo_desc = ''): FormGroup {\r\n    return this.formBuilder.group({\r\n      reactivo_desc: [reactivo_desc, Validators.required],\r\n    });\r\n  }\r\n\r\n  eliminarRespuesta(index){\r\n    this.items.removeAt(index);\r\n  }\r\n\r\n  enviarInformacionPregunta(){\r\n  // console.log(this.preguntaMultipleForm.get('reactivo_desc'));\r\n  if (this.preguntaArrastrableForm.invalid) {\r\n    Object.keys(this.preguntaArrastrableForm.controls).forEach( controlKey => {\r\n      this.preguntaArrastrableForm.controls[controlKey].markAsTouched();\r\n    });\r\n    return;\r\n   }\r\n\r\n   this._preguntaArrastrableService.modificaDragDrop(this.preguntaArrastrableForm,this.idPregunta,this.jwt).subscribe(\r\n    response =>{\r\n        if(response && response['status']){\r\n          alertify.success(response['msg'])\r\n          this.successEvent.emit({ status: response['status'] })\r\n        }else{\r\n          alertify.error(response['msg'])\r\n        }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n}\r\n","module.exports = \"\\r\\n  <form  [formGroup]=\\\"preguntaForm\\\" (ngSubmit)=\\\"enviarInformacionPregunta()\\\">    \\r\\n      <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <div class=\\\"form-group\\\">     \\r\\n              <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'tipoPregunta' | translate}}:</label>\\r\\n              <select  formControlName=\\\"tipoPregunta\\\"  class=\\\"form-control\\\"  >\\r\\n                <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n                <option  [value]=\\\"_tipoPregunta.tipo_pregunta_id\\\" *ngFor=\\\"let _tipoPregunta of tipoPregunta\\\">{{_tipoPregunta.tipo_pregunta_nombre}}</option>\\r\\n              </select>\\r\\n              <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoPregunta.invalid && f.tipoPregunta.touched\\\">\\r\\n                      {{'fmErrSelect' | translate}}\\r\\n              </span>\\r\\n          </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\" *ngIf=\\\"f.dificultad\\\">              \\r\\n            <div class=\\\"form-group \\\">         \\r\\n                <label class=\\\"control-label\\\" for=\\\"dificultad\\\">{{'dificultad' | translate}}:</label>\\r\\n                <select  formControlName=\\\"dificultad\\\"  class=\\\"form-control\\\"  >\\r\\n                <option hidden value=\\\"\\\" disabled  selected>{{'fmOptSelect' | translate}} </option>\\r\\n                <option  [value]=\\\"_dificultad.dificultad_id\\\" *ngFor=\\\"let _dificultad of dificultad\\\">{{_dificultad.dificultad_nombre}}</option>\\r\\n                </select>\\r\\n                <span class=\\\"invalidText\\\" *ngIf=\\\"f.dificultad.invalid && f.dificultad.touched\\\">\\r\\n                        {{'fmErrSelect' | translate}}\\r\\n                </span>\\r\\n            </div>     \\r\\n            <div class=\\\"form-group\\\">                               \\r\\n                <input class=\\\"form-control\\\" formControlName=\\\"orden\\\" placeholder=\\\"{{'orden' | translate}}\\\" type=\\\"number\\\" hidden>\\r\\n            </div>        \\r\\n          </div>\\r\\n        <div class=\\\"col\\\" *ngIf=\\\"f.ponderacion\\\" [hidden]=\\\"actividad.tipo_calificacion != 1\\\">\\r\\n          <div class=\\\"form-group\\\">                               \\r\\n            <label class=\\\"control-label\\\" for=\\\"ponderacion\\\">{{'ponderacion' | translate}} (max: {{ponderacionMax}}%):</label>\\r\\n            <input class=\\\"form-control\\\" formControlName=\\\"ponderacion\\\" placeholder=\\\"{{'ponderacion' | translate}}\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"{{ponderacionMax}}\\\" >\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.ponderacion.invalid && f.ponderacion.touched\\\">\\r\\n                (El máximo de ponderación no debe exceder el: {{ponderacionMax}}%) \\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col\\\" *ngIf=\\\"f.aleatorio\\\">\\r\\n        <div class=\\\"form-group\\\">        \\r\\n                  \\r\\n            <label class=\\\"control-label\\\" for=\\\"aleatorio\\\">{{'aleatorio' | translate}}:</label>\\r\\n            <br>\\r\\n            <label class=\\\"radio-inline\\\">\\r\\n              <input checked type=\\\"radio\\\"  formControlName=\\\"aleatorio\\\" value=\\\"1\\\"/>{{'si' | translate}}\\r\\n            </label>\\r\\n            <label class=\\\"radio-inline\\\">\\r\\n              <input  type=\\\"radio\\\"  formControlName=\\\"aleatorio\\\" value=\\\"0\\\"/>{{'no' | translate}}\\r\\n            </label>\\r\\n            <br>\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.aleatorio.invalid && f.aleatorio.touched\\\">\\r\\n              {{'fmErrSelect' | translate}}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\" *ngIf=\\\"f.retroalimentacion\\\">\\r\\n          <div class=\\\"col\\\">    \\r\\n              <label class=\\\"control-label\\\" for=\\\"aleatorio\\\">{{'retroalimentacion' | translate}}:</label>  \\r\\n              <textarea class=\\\"form-control\\\" formControlName=\\\"retroalimentacion\\\" ></textarea>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  \\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n          <button [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"submit\\\" class=\\\"btn btn-primary pull-right mt-3\\\">\\r\\n            <span *ngIf=\\\"datosPregunta.tipo_pregunta_id\\\">{{'fmEdit' | translate}}</span>\\r\\n            <span *ngIf=\\\"!datosPregunta.tipo_pregunta_id\\\">{{'fmSave' | translate}}</span>\\r\\n          </button>\\r\\n      </div>\\r\\n      </div>\\r\\n    </form>\\r\\n\\r\\n\\r\\n\\r\\n\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tZGF0b3MtcHJlZ3VudGEvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tZGF0b3MtcHJlZ3VudGEvZm9ybS1kYXRvcy1wcmVndW50YS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uZm9ybS1ncm91cHtcclxuIG1hcmdpbi1ib3R0b206IDBweDtcclxufVxyXG4uaW52YWxpZFRleHR7XHJcbiAgICBjb2xvcjogI2RjMzU0NTtcclxuICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDtcclxufVxyXG4ubmctaW52YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiAgI2RjMzU0NTsgXHJcbn1cclxuLm5nLXZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6IGdyZWVuOyBcclxufVxyXG5sYWJlbHtcclxuICAgIG1hcmdpbi10b3A6IDRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbiJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl, FormControl } from '@angular/forms';\r\nimport { PreguntaService } from 'src/app/administracion/carga-actividades/services/pregunta.service';\r\nimport { TrDatosPreguntas } from 'src/app/models/learning/trDatosPreguntas';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-datos-pregunta',\r\n  templateUrl: './form-datos-pregunta.component.html',\r\n  styleUrls: ['./form-datos-pregunta.component.scss']\r\n})\r\nexport class FormDatosPreguntaComponent implements OnInit {\r\n\r\n  @Input() datosPregunta : TrDatosPreguntas;\r\n  @Input() indexPregunta: number;\r\n  @Input() idModulo : number;\r\n  @Input() idActividad : number;\r\n  @Input() actividad: any;\r\n  ponderacionTotal : number = 100;\r\n  @Output() sucessEvent = new EventEmitter<any>();\r\n  tipoPregunta;\r\n  jwt;\r\n  preguntaForm: FormGroup;\r\n  dificultad;\r\n  idDatosPregunta;\r\n  disableTipoPregunta: boolean;\r\n  ponderacion: number;\r\n  ponderacionMax: number;\r\n  tipoAdmin;\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private formBuilder: FormBuilder,\r\n    private _preguntaService: PreguntaService\r\n  ) { }\r\n\r\n  get f() { return this.preguntaForm.controls; }\r\n\r\n  ngOnInit() {        \r\n    let tipoPregunta, orden; //es necesario declararla con un valor de lo contrario no manda información\r\n    this.ponderacionMax=this.ponderacionTotal;\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n\r\n    if (this.datosPregunta){ //si existe un valor de actividad tomo el id_actividad para su posterior uso      \r\n      this.idDatosPregunta = this.datosPregunta.datos_pregunta_id;\r\n      this.ponderacion= parseInt(this.datosPregunta.ponderacion);\r\n      tipoPregunta = this.datosPregunta.tipo_pregunta_id;\r\n      this.disableTipoPregunta = true;\r\n    }else{ //si no sólo declaro actividad como un elemento vacio, es necesario para el funcionamiento del formulario\r\n      this.datosPregunta = new TrDatosPreguntas();\r\n      tipoPregunta =  \"\";\r\n      this.ponderacion = 0;\r\n      this.disableTipoPregunta = false;\r\n    }\r\n    \r\n    this.jwt = this._usuarioService.getJWT();\r\n\r\n    this.preguntaForm = this.formBuilder.group({\r\n      tipoPregunta: [{value:tipoPregunta, disabled: this.disableTipoPregunta}, Validators.required],\r\n      orden: [orden],\r\n    });\r\n\r\n    this._preguntaService.consultaTipoPregunta(this.jwt,'2').subscribe(response =>{\r\n      if(response && response['status']){        \r\n        this.tipoPregunta = response['preguntas'];\r\n        if (this.datosPregunta.tipo_pregunta_id) {          \r\n          this.generateItems(this.datosPregunta.tipo_pregunta_id);          \r\n        }else{\r\n          this.valueChanges();\r\n        }\r\n      }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n\r\n    this._preguntaService.consultaDificultad(this.jwt).subscribe(response =>{\r\n      if(response && response['status']){\r\n        this.dificultad = response['dificultad'];\r\n      }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });  \r\n\r\n    //this._actividadService.consultaPreguntas().\r\n    this._preguntaService.sumaPonderacion(this.idActividad,this.jwt).subscribe(response =>{\r\n      if(response && response['status']){\r\n        this.ponderacionMax = this.ponderacionTotal - parseInt(response['ponderacionTotal']);\r\n        if(this.ponderacionMax < 0) this.ponderacionMax = 0; \r\n        this.ponderacionMax = (this.ponderacionMax) + (this.ponderacion);\r\n      }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n\r\n\r\n    this._preguntaService.preguntaEliminada.subscribe(\r\n      response=>{\r\n        let ponderacion = parseInt(response['ponderacion']);\r\n        this.ponderacionMax = this.ponderacionMax + ponderacion;\r\n      })\r\n  }\r\n\r\n  valueChanges(){\r\n    this.preguntaForm.get('tipoPregunta').valueChanges.subscribe(value => {\r\n      this.deleteControls();\r\n      this.generateItems(value);\r\n    })\r\n  }\r\n\r\n  deleteControls(){\r\n    let controls = ['dificultad', 'ponderacion', 'aleatorio', 'retroalimentacion'];\r\n    controls.forEach(control => {\r\n      if (this.preguntaForm.get(control)) {\r\n        this.preguntaForm.removeControl(control);\r\n      }\r\n    });\r\n  }\r\n\r\n  generateItems(value){    \r\n    let pregunta = this.tipoPregunta.find(r => r.tipo_pregunta_id == value);\r\n    let dificultad = 1;\r\n    let ponderacion = \"0\";\r\n    let aleatorio = 1;\r\n    let retroalimentacion = \"\";   \r\n    let validador = 'required' ;\r\n    if (this.datosPregunta.tipo_pregunta_id) {\r\n      dificultad = this.datosPregunta.dificultad_id;\r\n      ponderacion = this.datosPregunta.ponderacion;\r\n      aleatorio = this.datosPregunta.shuffle;\r\n      retroalimentacion = this.datosPregunta.retroalimentacion;\r\n    } \r\n    if (this.actividad.tipo_calificacion != \"1\") {\r\n      validador = 'null';\r\n    }\r\n    this.preguntaForm.addControl('ponderacion', new FormControl( {value: ponderacion, disabled: false }, Validators.compose([Validators.min(0), \r\n      (control: AbstractControl) => Validators.max(this.ponderacionMax)(control), Validators[validador]]) ));   \r\n    if (pregunta && pregunta.reactivos == '1') {\r\n      this.preguntaForm.addControl('dificultad', new FormControl( dificultad ));\r\n      this.preguntaForm.addControl('aleatorio', new FormControl( aleatorio, Validators.required ));\r\n      this.preguntaForm.addControl('retroalimentacion', new FormControl( retroalimentacion ));\r\n    }\r\n  }\r\n\r\n  enviarInformacionPregunta(){\r\n    \r\n    if (this.preguntaForm.invalid) {\r\n      Object.keys(this.preguntaForm.controls).forEach( controlKey => {\r\n        this.preguntaForm.controls[controlKey].markAsTouched();\r\n      });\r\n      return;\r\n    }\r\n\r\n    this._preguntaService.modificaPregunta(this.preguntaForm,this.idActividad,this.idDatosPregunta,this.jwt).subscribe(\r\n      response =>{\r\n        if(response && response['status']){          \r\n          alertify.success(response['msg'])          \r\n          let idTipoPregunta = this.preguntaForm.get('tipoPregunta').value;\r\n          let tipoPregunta = this.tipoPregunta.find( p => p.tipo_pregunta_id == idTipoPregunta);\r\n\r\n          \r\n          this.sucessEvent.emit({\r\n            'status': response['status'], \r\n            \"idDatosPregunta\": response['idDatosPregunta'],\r\n            \"idTipoPregunta\": tipoPregunta.tipo_pregunta_id,\r\n            \"reactivos\": tipoPregunta.reactivos,\r\n            \"datos\": this.preguntaForm.value\r\n          });\r\n            //si se insertó correctamente se le agrega la asignatura a la asignatura\r\n        }else{\r\n          alertify.error(response['msg'])\r\n        }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n\r\n  }\r\n}\r\n","module.exports = \"\\r\\n\\r\\n<form-multiple-texto *ngIf=\\\"tipo == '1' && bandera\\\" [numRespuestas]=\\\"numRespuestas\\\" [reactivos]=\\\"reactivos\\\" [idPregunta]=\\\"idPregunta\\\" [idActividad]=\\\"idActividad\\\" (successEvent)=\\\"enviaDatos($event)\\\"></form-multiple-texto>\\r\\n<form-multiple-imagen *ngIf=\\\"tipo == '2' && bandera\\\" [reactivos]=\\\"reactivos\\\"  [idPregunta]=\\\"idPregunta\\\" (successEvent)=\\\"enviaDatos($event)\\\"></form-multiple-imagen>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tbXVsdGlwbGUvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tbXVsdGlwbGUvZm9ybS1tdWx0aXBsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uZm9ybS1ncm91cHtcclxuIG1hcmdpbi1ib3R0b206IDBweDtcclxufVxyXG4uaW52YWxpZFRleHR7XHJcbiAgICBjb2xvcjogI2RjMzU0NTtcclxuICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDtcclxufVxyXG4ubmctaW52YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiAgI2RjMzU0NTsgXHJcbn1cclxuLm5nLXZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6IGdyZWVuOyBcclxufVxyXG5sYWJlbHtcclxuICAgIG1hcmdpbi10b3A6IDRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbiJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { MultipleService } from 'src/app/administracion/carga-actividades/services/multiple.service';\r\n\r\n@Component({\r\n  selector: 'form-multiple',\r\n  templateUrl: './form-multiple.component.html',\r\n  styleUrls: ['./form-multiple.component.scss']\r\n})\r\nexport class FormMultipleComponent implements OnInit {\r\n\r\n  @Input() idPregunta;\r\n  @Input() idActividad;\r\n  reactivos;\r\n  tipo;\r\n  jwt;\r\n  numRespuestas: number;\r\n  bandera: boolean = false;\r\n\r\n  @Output() successEvent = new EventEmitter<any>();\r\n\r\n  constructor(\r\n    private _multipleService: MultipleService,\r\n    private _usuarioService: UsuarioService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.jwt = this._usuarioService.getJWT();\r\n    this._multipleService.consultaMultiple(this.idPregunta,this.jwt,null).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.reactivos = response['reactivos'];\r\n        }\r\n        this.tipo = response['tipo'];\r\n        this._multipleService.consultaMateria(this.jwt, this.idPregunta).subscribe(response =>{\r\n          if(response && response['status']){\r\n            this.numRespuestas = response['numero_respuestas'];\r\n          }\r\n          this.bandera = true;\r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  enviaDatos(evt) {    \r\n    this.successEvent.emit(evt);\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <form class=\\\"col\\\"  [formGroup]=\\\"preguntaMultipleForm\\\" > \\r\\n    <div class=\\\"container-fluid\\\"  formArrayName=\\\"items\\\" *ngFor=\\\"let item of preguntaMultipleForm.get('items')['controls']; let i = index;\\\">\\r\\n      <form class=\\\"row\\\" [formGroupName]=\\\"i\\\" (ngSubmit)=\\\"enviarInformacionPregunta(i)\\\">\\r\\n        <div class=\\\"col-md-1\\\">\\r\\n            <input class=\\\"form-control\\\" formControlName=\\\"idReactivo\\\" type=\\\"hidden\\\"  >\\r\\n            <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'correcto' | translate}}</label>\\r\\n          <input class=\\\"form-control\\\" formControlName=\\\"ponderacion\\\" type=\\\"checkbox\\\"  >\\r\\n        </div>\\r\\n        <div class=\\\"col-md-5\\\" >\\r\\n            <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'archivoImagen' | translate}}:</label>\\r\\n            <div class=\\\"form-group text-center\\\">\\r\\n              <app-file-upload formControlName=\\\"imagen\\\"></app-file-upload>\\r\\n              <div class=\\\"invalid-feedback\\\" style=\\\"display: block\\\">\\r\\n                <ng-container *ngIf=\\\"hasError(i , 'imagen', 'required')\\\">{{'fmErrfileRequired' | translate}}</ng-container>\\r\\n                <ng-container *ngIf=\\\"hasError(i , 'imagen', 'requiredFileType')\\\">{{'fmErrfileImage' | translate}}</ng-container>\\r\\n              </div>\\r\\n            </div>\\r\\n            <app-archivo *ngIf=\\\"sf.controls[i].controls.url_imagen.value\\\" [urlBase]=\\\"sf.controls[i].controls.url_imagen.value\\\"></app-archivo>          \\r\\n            <input type=\\\"text\\\" formControlName=\\\"url_imagen\\\"  type=\\\"hidden\\\">\\r\\n        </div>  \\r\\n        <div class=\\\"col-md-5\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'retroalimentacion' | translate}}:</label>\\r\\n            <textarea class=\\\"form-control\\\" formControlName=\\\"retroalimentacion\\\"></textarea>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-1 text-center\\\">\\r\\n          <br>\\r\\n            <button [hidden]=\\\"tipoAdmin == 0\\\" [disabled]=\\\"sf.controls[i].invalid\\\" type=\\\"submit\\\" class=\\\"btn btn-success mt-2\\\"><i class=\\\"fa fa-save \\\" ></i> </button>\\r\\n            <button [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"button\\\" class=\\\"btn btn-danger mt-2\\\" (click)=\\\"confirmaRespuesta(i)\\\"><i class=\\\"fa fa-trash \\\"  ></i> </button>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        \\r\\n      </form>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-12\\\">\\r\\n          <button [hidden]=\\\"tipoAdmin == 0\\\" (click)=\\\"agregarRespuesta()\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\"><i class=\\\"fa fa-plus\\\"></i>{{'agregarRespuesta' | translate}}</button>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\">\\r\\n        <button [hidden]=\\\"tipoAdmin == 0\\\" (click)=\\\"finalizar()\\\" type=\\\"button\\\" \\r\\n          class=\\\"btn btn-success pull-right\\\">{{'Finalizar' | translate}}</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tbXVsdGlwbGUvaW1hZ2VuL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXHNoYXJlZFxcc3R5bGVzXFxmb3Jtcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNDLG1CQUFrQixFQUNsQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCw0QkFBMkIsRUFDOUI7O0FBQ0Q7RUFDSSxzQkFBc0IsRUFDekI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBZTtFQUNmLGlCQUFnQixFQUNuQiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2NhcmdhLWFjdGl2aWRhZGVzL2FzaWduYXR1cmEvbW9kdWxvL2FjdGl2aWRhZC9wcmVndW50YS9mb3JtLW11bHRpcGxlL2ltYWdlbi9pbWFnZW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvcm0tZ3JvdXB7XHJcbiBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuLmludmFsaWRUZXh0e1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm5nLWludmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogICNkYzM1NDU7IFxyXG59XHJcbi5uZy12YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiBncmVlbjsgXHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter, } from '@angular/core';\r\nimport { TrPreguntaOpcionMultiple } from 'src/app/models/learning/trPreguntaOpcionMultiple';\r\nimport { FormGroup, FormBuilder , FormArray, Validators } from '@angular/forms';\r\nimport { MultipleService } from 'src/app/administracion/carga-actividades/services/multiple.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-multiple-imagen',\r\n  templateUrl: './imagen.component.html',\r\n  styleUrls: ['./imagen.component.scss']\r\n})\r\nexport class ImagenComponent implements OnInit {\r\n\r\n  newPregunta:TrPreguntaOpcionMultiple = new TrPreguntaOpcionMultiple;\r\n  preguntas: Array<TrPreguntaOpcionMultiple> = new Array<TrPreguntaOpcionMultiple>();\r\n  \r\n\r\n  preguntaMultipleForm: FormGroup;\r\n  items: FormArray;\r\n  progress;\r\n  checkMultiple:boolean = false;\r\n  tipoAdmin;\r\n  urlImagen: string;\r\n\r\n  @Input() reactivos;\r\n  @Input() idPregunta;\r\n  @Output() successEvent = new EventEmitter<any>();\r\n\r\n  jwt;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _multipleService: MultipleService,\r\n    private _usuarioService: UsuarioService\r\n    ) { }\r\n\r\n  get f() { return this.preguntaMultipleForm.controls; }\r\n  get sf() { return this.preguntaMultipleForm.controls.items }\r\n\r\n  ngOnInit() {\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;    \r\n    this.jwt = this._usuarioService.getJWT();\r\n\r\n    this.preguntaMultipleForm = this.formBuilder.group({\r\n      items: this.formBuilder.array([ this.crearRespuesta() ])\r\n    });\r\n    \r\n    this._multipleService.consultaMultiple(this.idPregunta,this.jwt,null).subscribe(\r\n      response =>{\r\n        console.log(response)\r\n        if(response && response['status']){\r\n          this.reactivos = response['reactivos'];\r\n          if(response['url_imagen'])\r\n            this.urlImagen = response['url_imagen'];\r\n\r\n          this.reactivos.forEach(function(reactivo){\r\n            let ponderacion = reactivo.ponderacion == '100'? true : false;\r\n            let urlContenido = reactivo.contenido_reactivo != null ?  reactivo.contenido_reactivo : null;\r\n            \r\n            if (reactivo.contenido_reactivo != null){\r\n              this.checkMultiple = true;\r\n            } \r\n            console.log(this.checkMultiple);\r\n            this.agregarRespuesta(reactivo.reactivo_id, ponderacion,reactivo.retroalimentacion,urlContenido);\r\n\r\n          }.bind(this));\r\n          this.eliminarRespuesta(0);\r\n        }\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  agregarRespuesta(idReactivo = 0, ponderacion = '' , retroalimentacion = '',url_imagen = ''){\r\n    this.items = this.preguntaMultipleForm.get('items') as FormArray;\r\n    this.items.push(this.crearRespuesta(idReactivo,ponderacion,retroalimentacion,url_imagen));\r\n  }\r\n\r\n  crearRespuesta(idReactivo = 0, ponderacion = '', retroalimentacion = '',url_imagen = ''): FormGroup {\r\n    return this.formBuilder.group({\r\n      idReactivo: [idReactivo],\r\n      ponderacion: [ponderacion],\r\n      retroalimentacion: [retroalimentacion],\r\n      imagen: ['', Validators.compose([requiredFileType(0), Validators.required])],\r\n      url_imagen: [url_imagen]\r\n    });\r\n  }\r\n\r\n  eliminarRespuesta(index){\r\n    this.items.removeAt(index);\r\n  }\r\n\r\n  confirmaRespuesta(id){\r\n\r\n    alertify.confirm('Desea eliminar esta pregunta?',\r\n    function(){\r\n      const idReactivo = this.preguntaMultipleForm.get('items')['controls'][id].get('idReactivo').value;\r\n      this._multipleService.elimina(idReactivo,this.jwt).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              alertify.success(response['msg']);\r\n              this.eliminarRespuesta(id);\r\n            }\r\n            else{\r\n              alertify.success(response['msg']);\r\n            }\r\n    \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancel');\r\n    });\r\n        \r\n\r\n\r\n  }\r\n\r\n  hasErrorP(error: string ) {\r\n    const control = this.preguntaMultipleForm.get('imagen');\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n  hasError( index, field: string, error: string ) {\r\n    const control = this.preguntaMultipleForm.get('items')['controls'][index].get(field);\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  enviarInformacionPregunta(index){    \r\n    let form =this.preguntaMultipleForm.get('items')['controls'][index];\r\n    console.log(form)\r\n\r\n    this._multipleService.modificaMultipleImagen(form,this.idPregunta,this.jwt).subscribe(\r\n      response =>{\r\n        console.log(response)\r\n            if(response && response['status']){\r\n              alertify.success(response['msg'])\r\n              if(response['idReactivo']){\r\n                this.preguntaMultipleForm.get('items')['controls'][index].get('idReactivo').setValue(response['idReactivo']);\r\n              }\r\n            }else{\r\n              alertify.error(response['msg'])\r\n            }\r\n\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n  finalizar() {\r\n    this.successEvent.emit({ status: 1 });\r\n  }\r\n  \r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n\\r\\n  <form class=\\\"col\\\" [formGroup]=\\\"preguntaMultipleForm\\\" (ngSubmit)=\\\"enviarInformacionPregunta()\\\" >\\r\\n\\r\\n    <div *ngIf=\\\"numRespuestas\\\" class=\\\"alert alert-warning text-center mt-2 p-3\\\">\\r\\n      Esta pregunta ya ha sido contestada por {{numRespuestas}} alumnos, sólo es posible hacer edición\\r\\n      <br>\\r\\n      <button  type=\\\"button\\\" (click)=\\\"reasignarCalificacion()\\\" class=\\\"btn btn-warning\\\">Recalcular calificaciones</button>\\r\\n    </div>\\r\\n     \\r\\n    <div class=\\\"container-fluid mb-3\\\"  formArrayName=\\\"items\\\" *ngFor=\\\"let item of preguntaMultipleForm.get('items')['controls']; let i = index;\\\">\\r\\n      <form class=\\\"row\\\" [formGroupName]=\\\"i\\\" >\\r\\n        <div class=\\\"col-2 pt-7\\\">\\r\\n          <br>\\r\\n            <input class=\\\"form-control\\\" formControlName=\\\"idReactivo\\\" type=\\\"hidden\\\"  >\\r\\n            <b>{{'Respuesta correcta' | translate}}</b>\\r\\n            <br>\\r\\n            <input class=\\\"form-control\\\" formControlName=\\\"ponderacion\\\" type=\\\"checkbox\\\" style=\\\"display: block;\\\" >\\r\\n        </div>\\r\\n        <div class=\\\"col-9\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-12\\\" [hidden]=\\\" checkMultiple\\\">\\r\\n                <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'textoPregunta' | translate}}:</label>\\r\\n                <!--textarea class=\\\"form-control\\\" formControlName=\\\"respuesta\\\"></textarea-->\\r\\n                <ckeditor [config]=\\\"{\\r\\n                  toolbar: reactiveEditor,\\r\\n                  extraPlugins: ['uploadimage','justify'],\\r\\n                  filebrowserUploadUrl: 'http://plataforma.estudy.com/apiestudy/extras/archivo/carga_ckeditor.php'\\r\\n                  }\\\"\\r\\n                  (ready)=\\\"comienza($event)\\\" (blur)=\\\"getData($event,i)\\\"\\r\\n                   formControlName=\\\"respuesta\\\" name=\\\"ckeditor\\\"></ckeditor>\\r\\n                <span class=\\\"invalidText\\\" *ngIf=\\\"sf.controls[i].controls.respuesta.invalid && sf.controls[i].controls.respuesta.touched\\\">\\r\\n                    {{'fmErrText' | translate}}\\r\\n                </span>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n                <label><input formControlName=\\\"checkretro\\\" type=\\\"checkbox\\\"> ¿Agregar retroalimentación?</label>\\r\\n                <textarea  [hidden]=\\\"!sf.controls[i].controls.checkretro.value \\\" class=\\\"form-control\\\" formControlName=\\\"retroalimentacion\\\" placeholder=\\\"Agrega tu retroalimentación\\\"></textarea>\\r\\n            </div> \\r\\n          </div>\\r\\n        </div>\\r\\n        \\r\\n        <div class=\\\"col-1 text-center mt-2 pt-1\\\">\\r\\n            <br>\\r\\n            <button [hidden]=\\\"tipoAdmin == 0\\\" *ngIf=\\\"!numRespuestas && i > 0\\\" type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"confirmaEliminaRespuesta(i)\\\"><i class=\\\"fa fa-trash\\\"></i> </button>\\r\\n            <button [hidden]=\\\"tipoAdmin == 0\\\" *ngIf=\\\"numRespuestas\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"editaReactivo(i)\\\"><i class=\\\"fa fa-pencil\\\"></i> </button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"noSelectCheckbox\\\" class=\\\"alert alert-danger p-3 mt-3\\\">\\r\\n      Debes seleccionar al menos un reactivo que sea correcto\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n          <button [hidden]=\\\"tipoAdmin == 0\\\" (click)=\\\"agregarRespuesta()\\\" type=\\\"button\\\" class=\\\"btn btn-link mt-3\\\"><i class=\\\"fa fa-plus\\\"></i>{{'agregarRespuesta' | translate}}</button>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\">\\r\\n          <button [hidden]=\\\"tipoAdmin == 0\\\" *ngIf=\\\"!numRespuestas\\\" type=\\\"submit\\\" \\r\\n            class=\\\"btn btn-success pull-right mt-3\\\" [disabled]=\\\"preguntaMultipleForm.invalid\\\">{{'guardarTerminar' | translate}}</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tbXVsdGlwbGUvdGV4dG8vQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tbXVsdGlwbGUvdGV4dG8vdGV4dG8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvcm0tZ3JvdXB7XHJcbiBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuLmludmFsaWRUZXh0e1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm5nLWludmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogICNkYzM1NDU7IFxyXG59XHJcbi5uZy12YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiBncmVlbjsgXHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter, } from '@angular/core';\r\nimport { TrPreguntaOpcionMultiple } from 'src/app/models/learning/trPreguntaOpcionMultiple';\r\nimport { FormGroup, FormBuilder , FormArray, Validators } from '@angular/forms';\r\nimport { MultipleService } from 'src/app/administracion/carga-actividades/services/multiple.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n// import { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\nimport { reactiveEditor } from \"src/app/models/reactiveEditor\";\r\nimport { GLOBAL} from 'src/app/services/global';\r\n\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-multiple-texto',\r\n  templateUrl: './texto.component.html',\r\n  styleUrls: ['./texto.component.scss']\r\n})\r\nexport class MultipleTextoComponent implements OnInit {\r\n\r\n  newPregunta:TrPreguntaOpcionMultiple = new TrPreguntaOpcionMultiple;\r\n  preguntas: Array<TrPreguntaOpcionMultiple> = new Array<TrPreguntaOpcionMultiple>();\r\n\r\n  preguntaMultipleForm: FormGroup;\r\n  items: FormArray;\r\n  progress;\r\n  tipo;\r\n\r\n  urlImagen: string;\r\n  noSelectCheckbox: boolean = false;\r\n  reactiveEditor;\r\n\r\n  @Input() reactivos;\r\n  @Input() idPregunta;\r\n  @Input() numRespuestas;\r\n  @Input() idActividad;\r\n  @Output() successEvent = new EventEmitter<any>();\r\n  tipoAdmin;\r\n  jwt;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _multipleService: MultipleService,\r\n    private _usuarioService: UsuarioService\r\n  ) {\r\n    this.reactiveEditor = reactiveEditor;\r\n  }\r\n\r\n  get f() { return this.preguntaMultipleForm.controls; }\r\n  get sf() { return this.preguntaMultipleForm.controls.items; }\r\n\r\n  ngOnInit() {\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n    this.preguntaMultipleForm = this.formBuilder.group({\r\n      items: this.formBuilder.array([ this.crearRespuesta() ])\r\n    });\r\n    \r\n    if (this.reactivos) {\r\n      this.reactivos.forEach(function(reactivo){\r\n        let ponderacion = reactivo.ponderacion == '100'? true : false;\r\n        this.agregarRespuesta(reactivo.reactivo_id, ponderacion,reactivo.reactivo,reactivo.retroalimentacion);\r\n      }.bind(this));\r\n      this.eliminarRespuesta(0);\r\n    }\r\n    console.log(this.preguntaMultipleForm);\r\n    \r\n  }\r\n\r\n  agregarRespuesta(idReactivo = 0, ponderacion = '', respuesta= '', retroalimentacion = ''){\r\n    this.items = this.preguntaMultipleForm.get('items') as FormArray;\r\n    this.items.push(this.crearRespuesta(idReactivo,ponderacion,respuesta,retroalimentacion));\r\n  }\r\n\r\n  crearRespuesta(idReactivo = 0, ponderacion = '', respuesta= '', retroalimentacion = ''): FormGroup {\r\n    let checkRetro;\r\n    if(retroalimentacion ==''){\r\n      checkRetro = 0;\r\n    }else{\r\n      checkRetro = 1;\r\n    }\r\n\r\n    return this.formBuilder.group({\r\n      idReactivo: [idReactivo],\r\n      ponderacion: [ponderacion],\r\n      respuesta: [respuesta, Validators.required],\r\n      checkretro: [checkRetro],\r\n      retroalimentacion: [retroalimentacion],\r\n    });\r\n  }\r\n\r\n  eliminarRespuesta(index){\r\n    this.items.removeAt(index);\r\n  }\r\n\r\n  confirmaEliminaRespuesta(id){\r\n    alertify.confirm('Desea eliminar esta pregunta?',\r\n    function(){\r\n      this.eliminarRespuesta(id);\r\n    }.bind(this), function(){\r\n      alertify.error('Cancelado');\r\n    });\r\n  }\r\n\r\n  hasErrorP(error: string ) {\r\n    const control = this.preguntaMultipleForm.get('imagen');\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  hasError( index, field: string, error: string ) {\r\n    const control = this.preguntaMultipleForm.get('items')['controls'][index].get(field);\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  enviarInformacionPregunta(){\r\n    let form = this.preguntaMultipleForm;\r\n    let checkbox = 0;\r\n\r\n    form.value.items.forEach(item => {\r\n      if (item.ponderacion) {\r\n        checkbox++\r\n      }\r\n    });\r\n    \r\n    if (checkbox > 0) {  \r\n      this._multipleService.modificaMultiple(form,this.idPregunta,this.jwt).subscribe(\r\n        response =>{\r\n          console.log(response)\r\n              if(response && response['status']){\r\n                alertify.success(response['msg']).dismissOthers();\r\n                this.noSelectCheckbox = false;\r\n                this.successEvent.emit({ status: response['status'] })\r\n              }else{\r\n                alertify.error(response['msg'])\r\n              }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n    }else {\r\n      this.noSelectCheckbox = true;\r\n    }\r\n  }\r\n\r\n  editaReactivo(index){\r\n    alertify.confirm('Editar reactivo','¿Deseas editar la información de este reactivo?',\r\n    function(){\r\n      let reactivo = this.preguntaMultipleForm.value.items[index];\r\n      this._multipleService.editaReactivoTexto(this.jwt, reactivo).subscribe(response =>{\r\n        console.log(response)\r\n        if(response && response['status']){\r\n          alertify.success(response['msg']).dismissOthers();\r\n        }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancelado');\r\n    });    \r\n  }\r\n\r\n  reasignarCalificacion(){\r\n    alertify.confirm('Recalcular calificaciones','Estás a punto de recalcular las calificaciones de esta actividad con las ponderaciones actuales ¿Deseas continuar?',\r\n    function(){\r\n      this._multipleService.reasignaCalificacionPreguntaOM(this.idPregunta,this.idActividad).subscribe(\r\n        response=>{\r\n          if(response && response['status']){\r\n            alertify.success(response['msg']).dismissOthers();\r\n          }else{\r\n            alertify.error(response['msg']).dismissOthers();\r\n          }\r\n        },error=>{\r\n          console.log(error)\r\n        }\r\n      )\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancelado');\r\n    });  \r\n  }\r\n\r\n  \r\n  getData(event: any,index) {\r\n    this.preguntaMultipleForm.get('items')['controls'][index].controls['respuesta'].setValue(event.editor.getData());    \r\n  }\r\n\r\n  comienza(event){\r\n    let url = GLOBAL.url;\r\n    let urlAssets = GLOBAL.urlAssets;\r\n\r\n    let jwt = this._usuarioService.getJWT();\r\n    let id = \"\"+this.idPregunta+\"\";\r\n\r\n    event.editor.on( 'fileUploadRequest', function( evt ) {\r\n      var fileLoader = evt.data.fileLoader,\r\n      formData = new FormData(),\r\n      xhr = fileLoader.xhr;\r\n\r\n      xhr.open('POST', url +'extras/archivo/carga_ckeditor.php', true);\r\n      //xhr.setRequestHeader('Content-type', \"multipart/form-data\");\r\n      formData.append('jwt', jwt);\r\n      formData.append('nom_carpeta','reactivos_pregunta');\r\n      formData.append('id', id );\r\n      formData.append('file', fileLoader.file, fileLoader.fileName);\r\n      fileLoader.xhr.send( formData );\r\n      evt.stop();\r\n      // Prevented the default behavior.\r\n    }, null, null, 4 );\r\n\r\n    event.editor.on( 'fileUploadResponse', function( evt ) {\r\n      // Prevent the default response handler.\r\n      evt.stop();\r\n  \r\n      // Get XHR and response.\r\n      var data = evt.data,\r\n        xhr = data.fileLoader.xhr,\r\n        response = xhr.responseText.split( '|' );\r\n        console.log(response)\r\n        \r\n      if ( response[1] ) {\r\n        // An error occurred during upload.          \r\n        data.message = response[1];\r\n        evt.cancel();\r\n      }else {\r\n        var msg = JSON.parse(response[0]);\r\n        console.log(response[0])\r\n        console.log(msg);\r\n        data.url = urlAssets + msg.url;\r\n      }\r\n    });\r\n  }\r\n  \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormPreguntaMainComponent } from './form-pregunta-main.component';\r\n\r\nconst routes: Routes = [ {\r\n  path: '',\r\n  component: FormPreguntaMainComponent,\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class FormPreguntaMainRoutingModule { }\r\n","module.exports = \"<div class=\\\"list-group\\\"  >\\r\\n  <div class=\\\"list-group-item\\\">\\r\\n    <h4>{{title}} </h4>\\r\\n    <ngb-tabset #t=\\\"ngbTabset\\\">\\r\\n      <ngb-tab  title=\\\"{{'DatosPrincipal' | translate }}\\\" >\\r\\n          <ng-template ngbTabContent>\\r\\n              <form-datos-pregunta  *ngIf=\\\"tokenDatosPregunta\\\"\\r\\n              [actividad]=\\\"actividad\\\"\\r\\n              [idActividad]=\\\"idActividad\\\"\\r\\n              [datosPregunta]=\\\"datosPregunta\\\"\\r\\n              (sucessEvent)=\\\"siguientePregunta($event)\\\">\\r\\n            </form-datos-pregunta>\\r\\n          </ng-template>\\r\\n      </ngb-tab>\\r\\n      <ngb-tab  id=\\\"tab-pregunta2\\\" title=\\\"{{'DatosContenido' | translate }}\\\" [disabled]=\\\"!idDatosPregunta\\\" >\\r\\n        <ng-template ngbTabContent>\\r\\n            <form-pregunta *ngIf=\\\"tokenDatosPregunta\\\"\\r\\n            [datosPregunta]=\\\"datosPregunta\\\" \\r\\n            (sucessEvent)=\\\"finalizarGuardado($event)\\\" ></form-pregunta>\\r\\n        </ng-template>\\r\\n      </ngb-tab>    \\r\\n      \\r\\n      <ngb-tab  id=\\\"tab-pregunta3\\\" title=\\\"{{'DatosEspecifico' | translate }}\\\" [disabled]=\\\"!idDatosPregunta || !idPregunta\\\"  >\\r\\n          <ng-template ngbTabContent>\\r\\n              <div *ngIf=\\\"datosPregunta && datosPregunta.reactivos == '0'\\\" class=\\\"row\\\">\\r\\n                <div class=\\\"col\\\">\\r\\n                  <br>\\r\\n                  <h4 class=\\\"text-center\\\">Este tipo de pregunta no tiene reactivos.</h4>\\r\\n                  <br>\\r\\n                </div>\\r\\n              </div>\\r\\n              <form-multiple  [idActividad]=\\\"idActividad\\\"  [idPregunta]=\\\"idPregunta\\\" *ngIf=\\\"idTipoPregunta == 2\\\" (successEvent)=\\\"reactivosGuardados($event)\\\"></form-multiple>\\r\\n              <form-relacion [idPregunta]=\\\"idPregunta\\\" *ngIf=\\\"idTipoPregunta == 3\\\" (successEvent)=\\\"reactivosGuardados($event)\\\"></form-relacion>\\r\\n              <form-zona-imagenes [idPregunta]=\\\"idPregunta\\\" *ngIf=\\\"idTipoPregunta == 4\\\" (successEvent)=\\\"reactivosGuardados($event)\\\"></form-zona-imagenes>\\r\\n              <form-arrastable [idPregunta]=\\\"idPregunta\\\" *ngIf=\\\"idTipoPregunta == 5\\\" (successEvent)=\\\"reactivosGuardados($event)\\\"></form-arrastable>\\r\\n\\r\\n          </ng-template>\\r\\n      </ngb-tab>\\r\\n\\r\\n    </ngb-tabset>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2NhcmdhLWFjdGl2aWRhZGVzL2FzaWduYXR1cmEvbW9kdWxvL2FjdGl2aWRhZC9wcmVndW50YS9mb3JtLXByZWd1bnRhLW1haW4vZm9ybS1wcmVndW50YS1tYWluLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { NgbTabset } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { CatModulos } from 'src/app/models/learning/catModulos';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PreguntaService } from 'src/app/administracion/carga-actividades/services/pregunta.service';\r\nimport { Location } from '@angular/common';\r\nimport { ActividadService } from 'src/app/administracion/carga-actividades/services/actividad.service';\r\n@Component({\r\n  selector: 'form-pregunta-main',\r\n  templateUrl: './form-pregunta-main.component.html',\r\n  styleUrls: ['./form-pregunta-main.component.scss']\r\n})\r\nexport class FormPreguntaMainComponent implements OnInit {\r\n  \r\n  @ViewChild('t') t: NgbTabset;\r\n  idActividad;\r\n\r\n  @Output() sucessEvent = new EventEmitter<any>();\r\n  @Output() backEvent = new EventEmitter<any>();\r\n\r\n  jwt : string;\r\n  Modulo: Array<CatModulos> = new Array<CatModulos>();\r\n\r\n  idDatosPregunta;\r\n  idTipoPregunta;\r\n  idPregunta;\r\n  datosPregunta;\r\n  tokenDatosPregunta = false;\r\n  ponderacion;\r\n\r\n  title;\r\n  actividad: any;\r\n\r\n  constructor(\r\n    private _usuarioService : UsuarioService,\r\n    private _preguntaService : PreguntaService,\r\n    private _route: ActivatedRoute,\r\n    private router: Router,\r\n    private _actividadService: ActividadService\r\n  ) { }\r\n\r\n  ngOnInit() {    \r\n    \r\n    this.idDatosPregunta = this._route.snapshot.params['id'];    \r\n    this.idActividad = this._route.snapshot.parent.parent.params['id'];\r\n    if(!this.idDatosPregunta){\r\n      this.title='Nueva pregunta'\r\n    }\r\n    this.jwt = this._usuarioService.getJWT();\r\n\r\n    this._actividadService.consultaActividad(this.idActividad,this.jwt).subscribe(\r\n      response =>{        \r\n        if(response && response['status']){\r\n          this.actividad = response['actividad'][0];\r\n          if(this.idDatosPregunta){\r\n            this._preguntaService.consulta(this.idDatosPregunta,this.jwt).subscribe(\r\n              response=>{\r\n                if(response && response['status']){\r\n                  this.datosPregunta = response['pregunta'];\r\n                  this.idTipoPregunta = this.datosPregunta.tipo_pregunta_id;\r\n                  this.idPregunta = this.datosPregunta.pregunta_id;\r\n                  this.tokenDatosPregunta = true;\r\n                }\r\n              },error=>{\r\n                console.log(error)\r\n              }\r\n            )\r\n            this.ponderacion;\r\n          }else{\r\n            this.datosPregunta = null;\r\n            this.tokenDatosPregunta = true;\r\n          }\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n    });  \r\n  }\r\n\r\n  siguientePregunta(event){           \r\n    if(event.status){\r\n      let tab = 'tab-pregunta2';\r\n      if(event.idDatosPregunta){\r\n        this.sucessEvent.emit({ 'status': 1 });\r\n        this.idDatosPregunta = event.idDatosPregunta;\r\n        this.idTipoPregunta = event.idTipoPregunta;        \r\n      }\r\n      if (event.datos) {\r\n        let datos = event.datos;\r\n        if (this.datosPregunta) {\r\n          if (this.datosPregunta.ponderacion) this.datosPregunta.ponderacion = parseFloat(datos.ponderacion).toFixed(2)\r\n          if (this.datosPregunta.dificultad) this.datosPregunta.dificultad = datos.dificultad\r\n          if (this.datosPregunta.aleatorio) this.datosPregunta.aleatorio = datos.aleatorio\r\n          if (this.datosPregunta.retroalimentacion) this.datosPregunta.retroalimentacion = datos.retroalimentacion  \r\n        }else{\r\n          this.datosPregunta = {};\r\n          this.datosPregunta.datos_pregunta_id = event.idDatosPregunta\r\n          this.datosPregunta.tipo_pregunta_id = event.idTipoPregunta\r\n          this.datosPregunta.ponderacion = parseFloat(datos.ponderacion).toFixed(2)\r\n          this.datosPregunta.dificultad_id = datos.dificultad\r\n          this.datosPregunta.shuffle = datos.aleatorio\r\n          this.datosPregunta.retroalimentacion = datos.retroalimentacion\r\n          this.datosPregunta.reactivos = event.reactivos;\r\n        }        \r\n      }\r\n      setTimeout(() => {        \r\n        this.t.select(tab);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  finalizarGuardado(event){    \r\n    console.log(event)\r\n    if(event.status){\r\n      if(event.idPregunta){\r\n        \r\n        this.idPregunta = event.idPregunta;\r\n        \r\n      }\r\n      let reactivos = parseInt(this.datosPregunta.reactivos)\r\n      if (reactivos == 1) {\r\n        \r\n        setTimeout(() => {\r\n          this.t.select('tab-pregunta3');\r\n        }, 100);\r\n      }else {            \r\n        \r\n        this.router.navigate(['./'],{ relativeTo: this._route.parent.parent });\r\n\r\n      }\r\n    }\r\n  }\r\n  \r\n  reactivosGuardados(evt: any) {    \r\n    this.router.navigate(['./'],{ relativeTo: this._route.parent.parent });\r\n  }\r\n    \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormPreguntaMainComponent } from './form-pregunta-main.component';\r\nimport { FormDatosPreguntaComponent } from '../form-datos-pregunta/form-datos-pregunta.component';\r\nimport { FormPreguntaComponent } from '../form-pregunta/form-pregunta.component';\r\nimport { FormMultipleComponent } from '../form-multiple/form-multiple.component';\r\nimport { FormRelacionComponent } from '../form-relacion/form-relacion.component';\r\nimport { FormZonaImagenesComponent } from '../form-zona-imagenes/form-zona-imagenes.component';\r\nimport { FormArrastableComponent } from '../form-arrastable/form-arrastable.component';\r\nimport { MultipleTextoComponent } from '../form-multiple/texto/texto.component';\r\nimport { ImagenComponent } from '../form-multiple/imagen/imagen.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FileUploadModule } from 'src/app/components/file-upload/file-upload.module';\r\nimport { ArchivoModule } from 'src/app/components/archivo/archivo.module';\r\nimport { CKEditorModule } from 'ckeditor4-angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\nimport { FormPreguntaMainRoutingModule } from './form-pregunta-main-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FormPreguntaMainComponent,  \r\n    FormDatosPreguntaComponent,\r\n    FormPreguntaComponent,\r\n    FormMultipleComponent,\r\n    FormRelacionComponent,\r\n    FormZonaImagenesComponent,\r\n    FormArrastableComponent,\r\n    MultipleTextoComponent,\r\n    ImagenComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormPreguntaMainRoutingModule,\r\n    DragDropModule,\r\n    NgbModule,\r\n    FileUploadModule,\r\n    ArchivoModule,\r\n    CKEditorModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    LanguageTranslationModule\r\n  ]\r\n})\r\nexport class FormPreguntaMainModule { }\r\n","module.exports = \"<form  [formGroup]=\\\"preguntaForm\\\" (ngSubmit)=\\\"enviarInformacionPregunta()\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n        <label class=\\\"control-label\\\" for=\\\"nombre_ciclo\\\"> {{'instruccion' | translate}}:</label>\\r\\n        <!-- <ckeditor   [config]=\\\"{allowedContent : true }\\\"  formControlName=\\\"instruccion\\\"  name=\\\"ckeditor\\\"></ckeditor><br>     -->\\r\\n        <ckeditor [config]=\\\"{\\r\\n            allowedContent : true,\\r\\n            extraPlugins: 'uploadimage',\\r\\n            filebrowserUploadUrl: 'http://plataforma.estudy.com/apiestudy/extras/archivo/carga_ckeditor.php'\\r\\n          }\\\"   \\r\\n          formControlName=\\\"instruccion\\\" name=\\\"ckeditor\\\"\\r\\n          (ready)=\\\"comienza($event)\\\"></ckeditor>\\r\\n        <span class=\\\"invalidText\\\" *ngIf=\\\"f.instruccion.invalid && f.instruccion.touched\\\">\\r\\n          {{'fmErrText' | translate}}\\r\\n        </span>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'contenidoPedagogico' | translate}}:</label>\\r\\n              <app-file-upload formControlName=\\\"contenido\\\" ></app-file-upload>\\r\\n              <div class=\\\"invalid-feedback\\\" style=\\\"display: block\\\">\\r\\n                <ng-container *ngIf=\\\"hasError( 'required')\\\">{{'fmErrfileRequired' | translate}}</ng-container>\\r\\n                <ng-container *ngIf=\\\"hasError( 'requiredFileType')\\\">{{'fmErrfileDocument' | translate}}</ng-container>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n              <div>\\r\\n                <app-archivo *ngIf=\\\"contenidoPregunta.contenido\\\" [urlBase]=\\\"contenidoPregunta.contenido\\\"></app-archivo>\\r\\n              </div>\\r\\n              <div>\\r\\n                <button [hidden]=\\\"tipoAdmin == 0\\\" *ngIf=\\\"contenidoPregunta.contenido\\\" class=\\\"btn btn-danger\\\" type=\\\"button\\\" (click)=\\\"eliminaContenido()\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button>\\r\\n              </div>\\r\\n          </div>         \\r\\n        </div>\\r\\n        <div class=\\\"col-md-12\\\" *ngIf=\\\"idTipoPregunta == '11'\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'numArchivos' | translate}}:</label>\\r\\n            <select class=\\\"form-control\\\"  formControlName=\\\"numArchivos\\\">\\r\\n              <option value=\\\"1\\\"> 1 </option>\\r\\n              <option value=\\\"2\\\"> 2 </option>\\r\\n              <option value=\\\"3\\\"> 3 </option>\\r\\n              <option value=\\\"4\\\"> 4 </option>\\r\\n              <option value=\\\"5\\\"> 5 </option>\\r\\n          </select>\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.numArchivos.invalid && f.numArchivos.touched\\\">\\r\\n                {{'fmErrText' | translate}}\\r\\n            </span>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'idFormato' | translate}}:</label>\\r\\n              <select class=\\\"form-control\\\"  formControlName=\\\"idFormato\\\">\\r\\n                <option  [value]=\\\"_formato.cat_formato_id\\\" *ngFor=\\\"let _formato of formato\\\">{{_formato.tipo_formato}} ( {{_formato.tipo_extension}} )</option>\\r\\n            </select>\\r\\n              <span class=\\\"invalidText\\\" *ngIf=\\\"f.idFormato.invalid && f.idFormato.touched\\\">\\r\\n                  {{'fmErrText' | translate}}\\r\\n              </span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--div class=\\\"col-md-12\\\" *ngIf=\\\"idTipoPregunta == '2'\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'tipo' | translate}}:</label>\\r\\n                <div class=\\\"form-group\\\">                          \\r\\n              <label class=\\\"radio-inline\\\">\\r\\n                <input  type=\\\"radio\\\"  formControlName=\\\"tipo\\\" value=\\\"1\\\" />{{'texto' | translate}}\\r\\n              </label>\\r\\n              <label class=\\\"radio-inline\\\">\\r\\n                <input  type=\\\"radio\\\"  formControlName=\\\"tipo\\\" value=\\\"2\\\"/>{{'imagen' | translate}}\\r\\n              </label>\\r\\n              <br>\\r\\n              <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipo.invalid && f.tipo.touched\\\">\\r\\n                {{'fmErrSelect' | translate}}\\r\\n              </span>\\r\\n            </div>\\r\\n          </div-->\\r\\n        <div class=\\\"col-md-12\\\" *ngIf=\\\"idTipoPregunta == '5'\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'orientacion' | translate}}:</label>\\r\\n              <div class=\\\"form-group\\\">                          \\r\\n            <label class=\\\"radio-inline\\\">\\r\\n              <input checked type=\\\"radio\\\"  formControlName=\\\"orientacion\\\" value=\\\"1\\\"/>{{'Vertical' | translate}}\\r\\n            </label>\\r\\n            <label class=\\\"radio-inline\\\">\\r\\n              <input  type=\\\"radio\\\"  formControlName=\\\"orientacion\\\" value=\\\"0\\\"/>{{'Horizontal' | translate}}\\r\\n            </label>\\r\\n            <br>\\r\\n            <span class=\\\"invalidText\\\" *ngIf=\\\"f.orientacion.invalid && f.orientacion.touched\\\">\\r\\n              {{'fmErrSelect' | translate}}\\r\\n            </span>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-12\\\" *ngIf=\\\"idTipoPregunta == '6'\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-4\\\">\\r\\n            <p><b>{{'_primeraPregunta' | translate}}</b></p>\\r\\n            <div class=\\\"form-group\\\" >\\r\\n              <ckeditor [config]=\\\"{toolbar: simpleEditor}\\\" formControlName=\\\"pregunta1\\\" name=\\\"pregunta1\\\" id=\\\"pregunta1\\\"></ckeditor>\\r\\n            </div>\\r\\n            <!-- <div  *ngIf=\\\"edicion\\\" class=\\\" alert alert-info\\\" [innerHTML]=\\\"pregunta1\\\" >\\r\\n            </div> -->\\r\\n          </div>\\r\\n          \\r\\n          <div class=\\\"col-md-4\\\">\\r\\n              <p><b>{{'_segundaPregunta' | translate}}</b></p>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <ckeditor [config]=\\\"{toolbar: simpleEditor}\\\" formControlName=\\\"pregunta2\\\" name=\\\"pregunta2\\\" id=\\\"pregunta2\\\"></ckeditor>\\r\\n            </div>\\r\\n            <!-- <div  *ngIf=\\\"edicion\\\" class=\\\"alert alert-info\\\" [innerHTML]=\\\"pregunta2\\\" >\\r\\n            </div> -->\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-4\\\">\\r\\n            <p><b>{{'_terceraPregunta' | translate}}</b></p>\\r\\n            <div class=\\\"form-group\\\" >\\r\\n              <ckeditor [config]=\\\"{toolbar: simpleEditor}\\\" formControlName=\\\"pregunta3\\\" name=\\\"pregunta3\\\" id=\\\"pregunta3\\\"></ckeditor>\\r\\n            </div>\\r\\n            <!-- <div *ngIf=\\\"edicion\\\" class=\\\"alert alert-info\\\" [innerHTML]=\\\"pregunta3\\\" >                \\r\\n            </div> -->\\r\\n          </div>\\r\\n        </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n              <button  [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"submit\\\" class=\\\"btn btn-primary pull-right mt-2\\\">{{'fmSave' | translate}} <i *ngIf=\\\"cargando\\\" class=\\\"fa fa-spin fa-spinner\\\" aria-hidden=\\\"true\\\"></i></button>\\r\\n          </div>\\r\\n          </div>\\r\\n</form>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tcHJlZ3VudGEvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25CIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tcHJlZ3VudGEvZm9ybS1wcmVndW50YS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4uZm9ybS1ncm91cHtcclxuIG1hcmdpbi1ib3R0b206IDBweDtcclxufVxyXG4uaW52YWxpZFRleHR7XHJcbiAgICBjb2xvcjogI2RjMzU0NTtcclxuICAgIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDtcclxufVxyXG4ubmctaW52YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiAgI2RjMzU0NTsgXHJcbn1cclxuLm5nLXZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6IGdyZWVuOyBcclxufVxyXG5sYWJlbHtcclxuICAgIG1hcmdpbi10b3A6IDRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbiJdfQ== */\"","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\nimport { PreguntaService } from 'src/app/administracion/carga-actividades/services/pregunta.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { TrPregunta } from 'src/app/models/learning/trPregunta';\r\nimport { GLOBAL} from 'src/app/services/global';\r\nimport {simpleEditor} from 'src/app/models/simpleEditor';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'form-pregunta',\r\n  templateUrl: './form-pregunta.component.html',\r\n  styleUrls: ['./form-pregunta.component.scss']\r\n})\r\nexport class FormPreguntaComponent implements OnInit {\r\n\r\n  jwt;\r\n  preguntaForm: FormGroup;\r\n  @Input() datosPregunta;\r\n  idDatosPregunta;\r\n  idTipoPregunta;\r\n  cargando;\r\n  \r\n\r\n  @Output() sucessEvent = new EventEmitter<any>();\r\n\r\n  contenidoPregunta:TrPregunta = new TrPregunta();\r\n\r\n  idPregunta;\r\n  formato;\r\n  tipoAdmin;\r\n  simpleEditor = simpleEditor;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _preguntaService: PreguntaService,\r\n    private _usuarioService: UsuarioService,\r\n  ) { }\r\n\r\n  get f() { return this.preguntaForm.controls; }\r\n\r\n  \r\n  hasError(  error: string ) {\r\n    const control = this.preguntaForm.get('contenido');\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.idDatosPregunta = this.datosPregunta.datos_pregunta_id;\r\n    this.idTipoPregunta = this.datosPregunta.tipo_pregunta_id;\r\n    \r\n    this.jwt = this._usuarioService.getJWT();\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n    let elements = {\r\n      instruccion: ['', Validators.required],\r\n      contenido: ['',requiredFileType(0)]\r\n    };\r\n\r\n    if(this.idTipoPregunta == '2'){      \r\n      elements['tipo'] = ['1',Validators.required];\r\n     }\r\n\r\n    if(this.idTipoPregunta == '5'){      \r\n      elements['orientacion'] = ['',Validators.required];\r\n     }\r\n\r\n     if(this.idTipoPregunta == '6'){      \r\n      elements['pregunta1'] = ['',Validators.required];\r\n      elements['pregunta2'] = ['',Validators.required];\r\n      elements['pregunta3'] = ['',Validators.required];\r\n     }\r\n\r\n    /*if(this.idTipoPregunta == '7'){\r\n      \r\n      \r\n       elements['momento'] = ['',Validators.required];\r\n       \r\n    }*/\r\n\r\n    if(this.idTipoPregunta == '11'){    \r\n\r\n\r\n      elements['numArchivos'] = ['',Validators.required];\r\n      elements['idFormato'] = [this.formato,Validators.required];\r\n   }\r\n\r\n    \r\n   this._preguntaService.consultaFormatos(this.jwt).subscribe(\r\n    response =>{\r\n        if(response && response['status']){\r\n          this.formato = response['formatos'];\r\n        }\r\n    })        \r\n    this.preguntaForm = this.formBuilder.group(elements);\r\n    \r\n    this.consultaPregunta();\r\n  }\r\n\r\n  consultaPregunta(){\r\n    this._preguntaService.consultaContenidoPregunta(this.idDatosPregunta,this.idTipoPregunta,this.jwt).subscribe(\r\n      response =>{\r\n        console.log(response)\r\n        if(response && response['status']){\r\n          this.contenidoPregunta = response['pregunta'][0]; \r\n          this.idPregunta  = this.contenidoPregunta.pregunta_id;   \r\n          this.preguntaForm.get('instruccion').setValue(this.contenidoPregunta.pregunta);\r\n          if(this.idTipoPregunta == '2'){       \r\n            this.preguntaForm.get('tipo').setValue(\"1\");\r\n         }\r\n      /*    if(this.idTipoPregunta == '7'){    \r\n            \r\n            this.preguntaForm.get('momento').setValue(this.contenidoPregunta.momento);\r\n         }*/\r\n          if(this.idTipoPregunta == '11'){    \r\n            this.preguntaForm.get('numArchivos').setValue(this.contenidoPregunta.num_archivos);\r\n            this.preguntaForm.get('idFormato').setValue(this.contenidoPregunta.cat_formato_id);\r\n         }\r\n         if(this.idTipoPregunta == '5'){       \r\n          this.preguntaForm.get('orientacion').setValue(this.contenidoPregunta.orientacion);\r\n       }\r\n       if(this.idTipoPregunta == '6'){    \r\n        this.preguntaForm.get('pregunta1').setValue(this.contenidoPregunta.pregunta1);\r\n        this.preguntaForm.get('pregunta2').setValue(this.contenidoPregunta.pregunta2);\r\n        this.preguntaForm.get('pregunta3').setValue(this.contenidoPregunta.pregunta3);  \r\n     }\r\n        }  \r\n      },\r\n      error =>{\r\n        console.log(error)\r\n      });\r\n  }\r\n\r\n  eliminaContenido(){\r\n    this._preguntaService.eliminaArchivo(this.jwt, this.idPregunta,this.idTipoPregunta).subscribe(\r\n      response =>{\r\n        console.log(response);\r\n            if(response && response['status']){\r\n              console.log(response);\r\n              this.consultaPregunta();\r\n              alertify.success(response['msg'])\r\n\r\n            }else{alertify.error(response['msg'])}\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n  }\r\n\r\n\r\n  \r\n  enviarInformacionPregunta(){\r\n    this.cargando = true;\r\n    if (this.preguntaForm.invalid) {\r\n      this.cargando = false;  \r\n      Object.keys(this.preguntaForm.controls).forEach( controlKey => {\r\n        this.preguntaForm.controls[controlKey].markAsTouched();\r\n      });\r\n      return;\r\n    }\r\n\r\n    this._preguntaService.modificaContenidoPregunta(this.preguntaForm,this.idDatosPregunta,this.idPregunta,this.idTipoPregunta,this.jwt).subscribe(\r\n      response =>{\r\n            if(response && response['status']){\r\n              this.cargando = false;  \r\n              alertify.success(response['msg'])\r\n              this.sucessEvent.emit(\r\n                {\r\n                  'status': response['status'],\r\n                  'idPregunta' : response['idPregunta']\r\n\r\n                });//si se insertó correctamente se le agrega la asignatura a la asignatura\r\n            }else{\r\n              alertify.error(response['msg'])\r\n\r\n            }\r\n\r\n    },error =>{\r\n      console.log(<any>error)\r\n    });\r\n   \r\n  }\r\n\r\n  comienza(event){\r\n\r\n    let self = this;\r\n    let url = GLOBAL.url;\r\n    let urlAssets = GLOBAL.urlAssets;\r\n\r\n    let jwt = this.jwt;\r\n    let idDatosPregunta = this.idDatosPregunta\r\n\r\n    event.editor.on( 'fileUploadRequest', function( evt ) {\r\n      var fileLoader = evt.data.fileLoader,\r\n      formData = new FormData(),\r\n      xhr = fileLoader.xhr;\r\n\r\n      xhr.open('POST',url +'extras/archivo/carga_ckeditor.php', true);\r\n      //xhr.setRequestHeader('Content-type', \"multipart/form-data\");\r\n      formData.append('jwt', jwt);\r\n      formData.append('id', idDatosPregunta);\r\n      formData.append('nom_carpeta', 'pregunta');\r\n      formData.append('file', fileLoader.file, fileLoader.fileName);\r\n      \r\n      fileLoader.xhr.send( formData );\r\n      evt.stop();\r\n      // Prevented the default behavior.\r\n    }, null, null, 4 );\r\n\r\n    event.editor.on( 'fileUploadResponse', function( evt ) {\r\n      // Prevent the default response handler.\r\n      evt.stop();\r\n  \r\n      // Get XHR and response.\r\n      var data = evt.data,\r\n        xhr = data.fileLoader.xhr,\r\n        response = xhr.responseText.split( '|' );\r\n        \r\n        \r\n      if ( response[1] ) {\r\n        // An error occurred during upload.          \r\n        data.message = response[1];\r\n        evt.cancel();\r\n      }else {\r\n        var msg = JSON.parse(response[0]);\r\n\r\n        setTimeout(() => {\r\n          self.getData(event);\r\n          console.log(self.preguntaForm.value);\r\n          \r\n        }, 10);\r\n        data.url = urlAssets + msg.url;\r\n      }\r\n    });\r\n  }\r\n\r\n  getData(event: any) {\r\n    this.preguntaForm.controls['instruccion'].setValue(event.editor.getData());    \r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col\\\">\\r\\n    <br>\\r\\n    <p>{{ 'instruccionRelacion' | translate }}</p>\\r\\n  </div>    \\r\\n</div> \\r\\n<form class=\\\"row\\\"  [formGroup]=\\\"preguntaMultipleForm\\\" (ngSubmit)=\\\"enviarInformacionPregunta()\\\">\\r\\n  <div class=\\\"container-fluid\\\"  formArrayName=\\\"items\\\" *ngFor=\\\"let item of preguntaMultipleForm.get('items')['controls']; let i = index;\\\">\\r\\n    \\r\\n    <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\r\\n      <div class=\\\"col-12\\\">\\r\\n        <p>Escribe la pregunta con su respectiva respuesta <b>Sólo puedes relacionar una respuesta por pregunta</b></p>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{i+1}} - {{'Pregunta' | translate}}: </label>\\r\\n          <!--input class=\\\"form-control\\\" formControlName=\\\"columna_a\\\"-->\\r\\n          <ckeditor [config]=\\\"{\\r\\n            toolbar: reactiveEditor,\\r\\n            extraPlugins: ['uploadimage','justify'],\\r\\n            filebrowserUploadUrl: 'http://plataforma.estudy.com/apiestudy/extras/archivo/carga_ckeditor.php'\\r\\n            }\\\"\\r\\n            (ready)=\\\"comienza($event)\\\" (blur)=\\\"getData($event,i)\\\"\\r\\n             formControlName=\\\"columna_a\\\" name=\\\"columna_a\\\"></ckeditor>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"sf.controls[i].controls.columna_a.invalid && sf.controls[i].controls.columna_a.touched\\\">\\r\\n              {{'fmErrText' | translate}}\\r\\n          </span>\\r\\n      </div>\\r\\n      <div class=\\\"col\\\">\\r\\n          <label class=\\\"control-label\\\" for=\\\"tipo_pregunta\\\">{{'Respuesta' | translate}}:</label>\\r\\n          <!--input class=\\\"form-control\\\" formControlName=\\\"columna_b\\\"-->\\r\\n          <ckeditor [config]=\\\"{\\r\\n            toolbar: reactiveEditor,\\r\\n            extraPlugins: ['uploadimage','justify'],\\r\\n            filebrowserUploadUrl: 'http://plataforma.estudy.com/apiestudy/extras/archivo/carga_ckeditor.php'\\r\\n            }\\\"\\r\\n            (ready)=\\\"comienza($event)\\\" (blur)=\\\"getData($event,i)\\\"\\r\\n             formControlName=\\\"columna_b\\\" name=\\\"columna_b\\\"></ckeditor>\\r\\n          <span class=\\\"invalidText\\\" *ngIf=\\\"sf.controls[i].controls.columna_b.invalid && sf.controls[i].controls.columna_b.touched\\\">\\r\\n              {{'fmErrText' | translate}}\\r\\n          </span>\\r\\n      </div>\\r\\n      <div class=\\\"col-1\\\">\\r\\n          <br>\\r\\n          <i *ngIf=\\\"i > 0\\\" class=\\\"fa fa-times fa-2x cambiaCursor pt-2 mt-1\\\" (click)=\\\"eliminarRespuesta(i)\\\" ></i>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-12\\\">\\r\\n      <button (click)=\\\"agregarRespuesta()\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\"><i class=\\\"fa fa-plus-square\\\"></i> {{'agregarRespuesta' | translate}}</button>\\r\\n  </div>\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <button [hidden]=\\\"tipoAdmin == 0\\\" type=\\\"submit\\\" class=\\\"btn btn-success pull-right\\\" [disabled]=\\\"preguntaMultipleForm.invalid\\\">{{'guardarTerminar' | translate}}</button>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n.cambiaCursor:hover {\\n  color: #dc3545;\\n  cursor: pointer; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tcmVsYWNpb24vQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcc2hhcmVkXFxzdHlsZXNcXGZvcm1zLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9hZG1pbmlzdHJhY2lvbi9jYXJnYS1hY3RpdmlkYWRlcy9hc2lnbmF0dXJhL21vZHVsby9hY3RpdmlkYWQvcHJlZ3VudGEvZm9ybS1yZWxhY2lvbi9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxhZG1pbmlzdHJhY2lvblxcY2FyZ2EtYWN0aXZpZGFkZXNcXGFzaWduYXR1cmFcXG1vZHVsb1xcYWN0aXZpZGFkXFxwcmVndW50YVxcZm9ybS1yZWxhY2lvblxcZm9ybS1yZWxhY2lvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNDLG1CQUFrQixFQUNsQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCw0QkFBMkIsRUFDOUI7O0FBQ0Q7RUFDSSxzQkFBc0IsRUFDekI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBZTtFQUNmLGlCQUFnQixFQUNuQjs7QUNoQkQ7RUFDSSxlQUFjO0VBQ2QsZ0JBQWUsRUFDbEIiLCJmaWxlIjoic3JjL2FwcC9hZG1pbmlzdHJhY2lvbi9jYXJnYS1hY3RpdmlkYWRlcy9hc2lnbmF0dXJhL21vZHVsby9hY3RpdmlkYWQvcHJlZ3VudGEvZm9ybS1yZWxhY2lvbi9mb3JtLXJlbGFjaW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIiwiQGltcG9ydCBcInNyYy9hcHAvc2hhcmVkL3N0eWxlcy9mb3Jtcy5jb21wb25lbnQuc2Nzc1wiO1xyXG4uY2FtYmlhQ3Vyc29yOmhvdmVye1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn0iXX0= */\"","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\r\nimport { FormBuilder, FormArray, FormGroup, Validators } from '@angular/forms';\r\nimport { TrPreguntaOpcionMultiple } from 'src/app/models/learning/trPreguntaOpcionMultiple';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { RelacionService } from 'src/app/administracion/carga-actividades/services/relacion.service';\r\ndeclare var alertify;\r\nimport { reactiveEditor } from \"src/app/models/reactiveEditor\";\r\nimport { GLOBAL } from \"src/app/services/global\";\r\n\r\n@Component({\r\n  selector: 'form-relacion',\r\n  templateUrl: './form-relacion.component.html',\r\n  styleUrls: ['./form-relacion.component.scss']\r\n})\r\nexport class FormRelacionComponent implements OnInit {\r\n\r\n  newPregunta:TrPreguntaOpcionMultiple = new TrPreguntaOpcionMultiple;\r\n  preguntas: Array<TrPreguntaOpcionMultiple> = new Array<TrPreguntaOpcionMultiple>();\r\n\r\n  @Input() idPregunta;\r\n  @Output() successEvent = new EventEmitter<any>();\r\n\r\n  jwt;\r\n  tipoAdmin;\r\n  preguntaMultipleForm: FormGroup;\r\n  items: FormArray;\r\n  reactiveEditor;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _usuarioService: UsuarioService,\r\n    private _relacionService : RelacionService,\r\n\r\n    ) {\r\n      this.reactiveEditor = reactiveEditor;\r\n     }\r\n\r\n  get f() { return this.preguntaMultipleForm.controls; }\r\n  get sf() { return this.preguntaMultipleForm.controls.items}\r\n \r\n  ngOnInit() {\r\n\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n    if(this.idPregunta !== undefined){\r\n      this._relacionService.consultaRelacion(this.idPregunta,this.jwt).subscribe(\r\n        response =>{\r\n          let react=response['reactivos'];\r\n            if(response && response['status']=='1'){\r\n              react.forEach(function (reactivo) {\r\n                this.agregarRespuesta(reactivo.columna_a_desc,reactivo.columna_b_desc);\r\n              }.bind(this));\r\n              this.eliminarRespuesta(react.columna_a_respuesta=='1');\r\n            }\r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }\r\n\r\n    this.preguntaMultipleForm = this.formBuilder.group({\r\n      items: this.formBuilder.array([ this.crearRespuesta() ])\r\n    });\r\n  }\r\n\r\n  \r\n  agregarRespuesta(columna_a = '', columna_b = ''){\r\n    this.items = this.preguntaMultipleForm.get('items') as FormArray;\r\n    this.items.push(this.crearRespuesta(columna_a,columna_b));\r\n  }\r\n\r\n  crearRespuesta(columna_a = '', columna_b = ''): FormGroup {\r\n    return this.formBuilder.group({\r\n      columna_a: [columna_a, Validators.required],\r\n      columna_b: [columna_b, Validators.required]\r\n    });\r\n  }\r\n\r\n  eliminarRespuesta(index){\r\n    this.items.removeAt(index);\r\n  }\r\n\r\n  enviarInformacionPregunta(){\r\n  // console.log(this.preguntaMultipleForm.get('items'));\r\n  if (this.preguntaMultipleForm.invalid) {\r\n    Object.keys(this.preguntaMultipleForm.controls).forEach( controlKey => {\r\n      this.preguntaMultipleForm.controls[controlKey].markAsTouched();\r\n    });\r\n    return;\r\n   }\r\n\r\n   this._relacionService.modificaRelacion(this.preguntaMultipleForm,this.idPregunta,this.jwt).subscribe(\r\n    response =>{\r\n        if(response && response['status']){\r\n          alertify.success(response['msg'])\r\n          this.successEvent.emit(\r\n            { 'status': response['status'], \"idPregunta\": this.idPregunta });//si se insertó correctamente se le agrega la asignatura a la asignatura\r\n        }else{\r\n          alertify.error(response['msg'])\r\n        }\r\n},error =>{\r\n  console.log(<any>error)\r\n});\r\n  }\r\n\r\n  comienza(event){\r\n    let url = GLOBAL.url;\r\n    let urlAssets = GLOBAL.urlAssets;\r\n\r\n    let jwt = this._usuarioService.getJWT();\r\n    let id = \"\"+this.idPregunta+\"\";\r\n\r\n    event.editor.on( 'fileUploadRequest', function( evt ) {\r\n      var fileLoader = evt.data.fileLoader,\r\n      formData = new FormData(),\r\n      xhr = fileLoader.xhr;\r\n\r\n      xhr.open('POST', url +'extras/archivo/carga_ckeditor.php', true);\r\n      //xhr.setRequestHeader('Content-type', \"multipart/form-data\");\r\n      formData.append('jwt', jwt);\r\n      formData.append('nom_carpeta','reactivos_pregunta');\r\n      formData.append('id', id );\r\n      formData.append('file', fileLoader.file, fileLoader.fileName);\r\n      fileLoader.xhr.send( formData );\r\n      evt.stop();\r\n      // Prevented the default behavior.\r\n    }, null, null, 4 );\r\n\r\n    event.editor.on( 'fileUploadResponse', function( evt ) {\r\n      // Prevent the default response handler.\r\n      evt.stop();\r\n  \r\n      // Get XHR and response.\r\n      var data = evt.data,\r\n        xhr = data.fileLoader.xhr,\r\n        response = xhr.responseText.split( '|' );\r\n        console.log(response)\r\n        \r\n      if ( response[1] ) {\r\n        // An error occurred during upload.          \r\n        data.message = response[1];\r\n        evt.cancel();\r\n      }else {\r\n        var msg = JSON.parse(response[0]);\r\n        console.log(response[0])\r\n        console.log(msg);\r\n        data.url = urlAssets + msg.url;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col col-xl-12 col-lg-12\\\">\\r\\n        <!-- <div class=\\\"row\\\"> -->\\r\\n        <form [formGroup]=\\\"inputForm\\\" (ngSubmit)=\\\"enviarRespuestas()\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <label>{{'Labelimagen' | translate }}</label>\\r\\n                <app-file-upload formControlName=\\\"imagen\\\" ></app-file-upload>\\r\\n                <div class=\\\"invalid-feedback\\\" style=\\\"display: block\\\">\\r\\n                  <ng-container *ngIf=\\\"hasError( 'required')\\\">{{'fmErrfileRequired' | translate}}</ng-container>\\r\\n                  <ng-container *ngIf=\\\"hasError( 'requiredFileType')\\\">{{'fmErrfileImage' | translate}}</ng-container>\\r\\n                </div>\\r\\n              </div>\\r\\n          </div>\\r\\n          <div formArrayName=\\\"items\\\" *ngFor=\\\"let item of inputForm.get('items')['controls']; let i = index;\\\">\\r\\n            <div class=\\\"row\\\" [formGroupName]=\\\"i\\\">\\r\\n              <div class=\\\"col-10\\\">\\r\\n                <div class=\\\"form-group \\\">\\r\\n                  <label>{{'respuestaZona' | translate}} {{i + 1}}</label><br>\\r\\n                  <input formControlName=\\\"input\\\" class=\\\"form-control\\\" placeholder=\\\"Ingresa respuesta\\\">\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"col-1\\\">\\r\\n                  <div class=\\\"form-group \\\">\\r\\n                    <label>{{'color' | translate}}:</label><br>\\r\\n                    <input formControlName=\\\"color\\\" placeholder=\\\"Ingresa respuesta\\\" type=\\\"color\\\" class=\\\"mt-2\\\">\\r\\n                  </div>\\r\\n                </div>\\r\\n              <div class=\\\"col-1\\\">\\r\\n                  <br>\\r\\n                  <i *ngIf=\\\"i > 0\\\" class=\\\"fa fa-times fa-2x cambiaCursor pt-2 mt-1\\\" (click)=\\\"deleteItem(i)\\\"></i>        \\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <button type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"addItem(0)\\\"><i class=\\\"fa fa-plus-square\\\"></i> Agregar</button> \\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <button [hidden]=\\\"tipoAdmin == 0\\\" [disabled]=\\\"inputForm.invalid\\\" type=\\\"submit\\\" class=\\\"btn btn-success pull-right\\\">Enviar</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div> \\r\\n    </div>\\r\\n    <div class=\\\"row container-cards\\\" *ngIf=\\\"showCards\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-3 mt-3\\\" *ngFor=\\\"let respuesta of respuestas; let i = index\\\">\\r\\n              <div class=\\\"card text-black p-2\\\" [style.borderColor]=\\\"respuesta.color\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-1 mt-3\\\">\\r\\n                    <h3>{{i + 1}}</h3>\\r\\n                </div>       \\r\\n                <div class=\\\"col\\\" disabled>     \\r\\n                  <blockquote class=\\\" mb-0\\\">\\r\\n                    <small>{{respuesta.input}}</small>\\r\\n                  </blockquote>\\r\\n                </div>            \\r\\n                </div>\\r\\n              </div> \\r\\n            </div> \\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row text-center\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <canvas #myCanvas id=\\\"canvas\\\" (mousedown)=\\\"mouseDown($event)\\\" (mouseup)=\\\"mouseUp($event)\\\" [hidden]=\\\"hideCanvas\\\"></canvas>\\r\\n      </div>\\r\\n    </div>  \\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <button [hidden]=\\\"hideCanvas || tipoAdmin == 0\\\" class=\\\"btn btn-danger btn-lg\\\" type=\\\"button\\\" (click)=\\\"cleanCanvas()\\\">Borrar</button>   \\r\\n        <button [hidden]=\\\"hideCanvas || tipoAdmin == 0\\\" class=\\\"btn btn-primary btn-lg pull-right\\\" type=\\\"button\\\" (click)=\\\"guardarCanvas()\\\">Guardar</button>         \\r\\n      </div>    \\r\\n    </div> \\r\\n    <br>\\r\\n    <div class=\\\"row justify-content-md-center\\\">\\r\\n        <canvas #myImage ></canvas>\\r\\n      <!-- <img #myImage [src]=\\\"imgURL\\\" [hidden]=\\\"hideImage\\\" alt=\\\"Imagen\\\"> -->\\r\\n    </div>\\r\\n      \\r\\n\\r\\n\\r\\n\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n#canvas {\\n  cursor: crosshair; }\\n\\n.container-cards {\\n  margin-bottom: 10px; }\\n\\n.cambiaCursor:hover {\\n  cursor: pointer;\\n  color: #dc3545; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tem9uYS1pbWFnZW5lcy9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxzaGFyZWRcXHN0eWxlc1xcZm9ybXMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2NhcmdhLWFjdGl2aWRhZGVzL2FzaWduYXR1cmEvbW9kdWxvL2FjdGl2aWRhZC9wcmVndW50YS9mb3JtLXpvbmEtaW1hZ2VuZXMvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcYWRtaW5pc3RyYWNpb25cXGNhcmdhLWFjdGl2aWRhZGVzXFxhc2lnbmF0dXJhXFxtb2R1bG9cXGFjdGl2aWRhZFxccHJlZ3VudGFcXGZvcm0tem9uYS1pbWFnZW5lc1xcZm9ybS16b25hLWltYWdlbmVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0MsbUJBQWtCLEVBQ2xCOztBQUNEO0VBQ0ksZUFBYztFQUNkLDRCQUEyQixFQUM5Qjs7QUFDRDtFQUNJLHNCQUFzQixFQUN6Qjs7QUFDRDtFQUNJLG9CQUFtQixFQUN0Qjs7QUFDRDtFQUNJLGdCQUFlO0VBQ2YsaUJBQWdCLEVBQ25COztBQ2ZEO0VBQ0ksa0JBQWlCLEVBQ3BCOztBQUNEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUNEO0VBQ0ksZ0JBQWU7RUFDZixlQUFjLEVBQ2pCIiwiZmlsZSI6InNyYy9hcHAvYWRtaW5pc3RyYWNpb24vY2FyZ2EtYWN0aXZpZGFkZXMvYXNpZ25hdHVyYS9tb2R1bG8vYWN0aXZpZGFkL3ByZWd1bnRhL2Zvcm0tem9uYS1pbWFnZW5lcy9mb3JtLXpvbmEtaW1hZ2VuZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvcm0tZ3JvdXB7XHJcbiBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuLmludmFsaWRUZXh0e1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm5nLWludmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogICNkYzM1NDU7IFxyXG59XHJcbi5uZy12YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiBncmVlbjsgXHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcblxyXG4iLCJAaW1wb3J0IFwic3JjL2FwcC9zaGFyZWQvc3R5bGVzL2Zvcm1zLmNvbXBvbmVudC5zY3NzXCI7XHJcblxyXG4jY2FudmFze1xyXG4gICAgY3Vyc29yOiBjcm9zc2hhaXI7XHJcbn1cclxuLmNvbnRhaW5lci1jYXJkc3tcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuLmNhbWJpYUN1cnNvcjpob3ZlcntcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG59Il19 */\"","import { Component, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { FormBuilder, FormGroup, FormArray, Validators } from '@angular/forms';\r\nimport { requiredFileType } from 'src/app/components/file-upload/file.upload.validators';\r\nimport { ZonaImagenesService } from 'src/app/administracion/carga-actividades/services/zona-imagenes.service';\r\nimport { randomColor } from 'randomcolor';\r\nimport { GLOBAL } from 'src/app/services/global';\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'form-zona-imagenes',\r\n  templateUrl: './form-zona-imagenes.component.html',\r\n  styleUrls: ['./form-zona-imagenes.component.scss']\r\n})\r\nexport class FormZonaImagenesComponent implements OnInit{\r\n\r\n  jwt: string;\r\n  url: string;\r\n  public imagePath;\r\n  imgURL: any;\r\n  public message: string;\r\n  width: number = 0;\r\n  height: number = 0; \r\n  size: any; \r\n  imgFile: any;\r\n\r\n  color: string;\r\n  canvas: HTMLCanvasElement;\r\n  x;\r\n  y;\r\n  w;\r\n  h;\r\n  drag: boolean = false;\r\n  showContainer: boolean = true;\r\n  showCards: boolean = false;\r\n  hideCanvas: boolean = true;\r\n  hideImage: boolean = true;\r\n\r\n  indexRespuestas: number;\r\n  seleccion: number;\r\n  \r\n  arrayCanvas = [];\r\n  arrayRespuestas = [];\r\n\r\n  inputForm: FormGroup;\r\n  items: FormArray;\r\n\r\n  respuestas;\r\n  bandera: number = 0;\r\n  tipoAdmin;\r\n  context: CanvasRenderingContext2D;\r\n  reactivos;\r\n  datosImagen;\r\n  flag: boolean = true;\r\n\r\n  @ViewChild(\"myCanvas\") myCanvas;\r\n  @ViewChild(\"myImage\") myImage;\r\n\r\n  @Input() idPregunta;\r\n  @Output() successEvent = new EventEmitter<any>();\r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private _zonaImagenesService: ZonaImagenesService,\r\n    private formBuilder: FormBuilder\r\n    ) { \r\n  }\r\n\r\n  get f() { return this.inputForm.controls; }\r\n  get sf() { return this.inputForm.controls.items}\r\n\r\n  ngOnInit() {\r\n    let identity = this._usuarioService.getIdentity();\r\n    if(identity.administrador)\r\n      this.tipoAdmin = identity.administrador.edicion;\r\n    else\r\n      this.tipoAdmin =1;;\r\n\r\n    this.url = GLOBAL.urlAssets;\r\n    this.canvas = this.myCanvas.nativeElement;\r\n    this.inputForm = this.formBuilder.group({\r\n      imagen: ['', [requiredFileType(0),Validators.required]],\r\n      items: this.formBuilder.array([ this.createItem(0) ])\r\n    });  \r\n    this.getDatos();\r\n    this.indexRespuestas = 0;\r\n  }\r\n\r\n  getDatos(){\r\n    this._zonaImagenesService.consultaZonaImagenes(this.idPregunta, this.jwt, 0).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.reactivos = response['reactivos'];\r\n          this.respuestas = this.reactivos;\r\n          this.datosImagen = response['contenidoPregunta'];\r\n          this.inputForm.get('imagen').clearValidators();\r\n          this.inputForm.get('imagen').updateValueAndValidity();\r\n          this.deleteItem(0);\r\n          for (let i = 0; i < this.reactivos.length; i++) {\r\n            this.addItem(this.reactivos[i].color, this.reactivos[i].reactivo_desc);\r\n            this.respuestas[i]['input'] = this.reactivos[i].reactivo_desc;\r\n          }          \r\n          this.seleccion = this.reactivos.length;\r\n          this.preview(1,'');          \r\n        }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });   \r\n  }\r\n  // getRandomColor() {\r\n  //   var letters = 'BCDEF'.split('');\r\n  //   var color = '#';\r\n  //   for (var i = 0; i < 6; i++ ) {\r\n  //       color += letters[Math.floor(Math.random() * letters.length)];\r\n  //   }\r\n  //   return color;\r\n  // }\r\n  \r\n  createItem(id, text = ''): FormGroup {\r\n    let color = randomColor();\r\n    if (id != 0) {\r\n      color = id;\r\n    }\r\n    return this.formBuilder.group({\r\n      input: [text, Validators.required],\r\n      color: color,\r\n      posX: [],\r\n      posY: [],\r\n      ancho: [],\r\n      alto: []\r\n    });\r\n  }  \r\n  \r\n  addItem(id, text = ''): void {\r\n    this.items = this.inputForm.get('items') as FormArray;\r\n    this.items.push(this.createItem(id, text));\r\n  }\r\n\r\n  deleteItem(index){\r\n    this.items = this.inputForm.get('items') as FormArray;\r\n    this.items.removeAt(index);\r\n  }\r\n\r\n  hasError(error: string) {\r\n    const control = this.inputForm.get('imagen');\r\n    return control.dirty && control.hasError(error);\r\n  }\r\n\r\n  enviarRespuestas(){\r\n    //this.showDrop = true;\r\n    //this.showContainer = false;\r\n    this.flag = true;\r\n    if (this.inputForm.get('imagen').value) {\r\n      this.preview(0, this.inputForm.get('imagen').value);\r\n    }else{\r\n      this.preview(2, '');\r\n    }\r\n    setTimeout(()=> {\r\n    if (this.bandera == 1) {\r\n      this.respuestas = this.inputForm.value.items;\r\n      this.seleccion = this.inputForm.value.items.length;\r\n      this.cleanCanvas();\r\n      alertify.success('Paso 1 completado').dismissOthers();      \r\n    }\r\n    },100);\r\n  }\r\n\r\n  guardarCanvas(){\r\n    if (this.indexRespuestas == this.seleccion) {  \r\n      this.flag = false;                \r\n      //this.hideCanvas = true;\r\n      //this.showCards = true;\r\n      //this.hideImage = false;\r\n      //this.drawSelections();\r\n      alertify.confirm('¿Deseas guardar los elementos con su correspondiente imagen?',\r\n      function(){\r\n        this._zonaImagenesService.modificaZona(this.inputForm,this.width,this.height,this.idPregunta,this.jwt).subscribe(\r\n          response =>{\r\n              if(response && response['status']){                \r\n                this.selecciones = 0;\r\n                alertify.success(response['msg']).dismissOthers();\r\n                this.successEvent.emit({status: response['status']})\r\n              }\r\n              else{\r\n                alertify.success(response['msg']).dismissOthers();\r\n              }\r\n          },error =>{\r\n            console.log(<any>error)\r\n          });\r\n      }.bind(this),\r\n      function(){\r\n        alertify.error('Cancel').dismissOthers();\r\n      });\r\n    }else{\r\n      alertify.error('El número de selecciones debe coincidir con el número de respuestas')\r\n    }\r\n  }\r\n\r\n  drawSelections(){\r\n    var ClientRect = this.myImage.nativeElement.getBoundingClientRect();        \r\n    for (let i = 0; i < this.arrayCanvas.length; i++) {\r\n      this.x = Math.round(ClientRect.left) + this.arrayCanvas[i].pointX;\r\n      this.y = Math.round(ClientRect.top) + this.arrayCanvas[i].pointY;      \r\n      this.w = this.arrayCanvas[i].width;\r\n      this.h = this.arrayCanvas[i].height;       \r\n      var ctx = this.myImage.nativeElement.getContext('2d');\r\n      ctx.restore(); \r\n      ctx.lineWidth = 15;\r\n      ctx.strokeStyle = 'rgba(255, 0, 0, 0)';\r\n      ctx.strokeRect(this.x, this.y, this.w, this.h);\r\n      //ctx.stroke();\r\n      ctx.save();   \r\n      ctx.clip();  \r\n    }\r\n  }\r\n \r\n  preview(id, evt) {\r\n    let image = evt;\r\n    let canvas = this.myCanvas.nativeElement;\r\n    let context = canvas.getContext('2d');\r\n    context.clearRect(0 , 0, canvas.width, canvas.height);    \r\n    if (id == 0) {\r\n    this.imgFile = image;\r\n    this.size = image.size;\r\n    let reader = new FileReader;\r\n    reader.onload = () => { // when file has loaded\r\n      this.imgURL = reader.result;   \r\n      var img = new Image();\r\n \r\n      img.onload = () => {\r\n        if (img.width > 800) {\r\n          this.imgURL = null;\r\n          this.bandera = 0;\r\n          this.hideCanvas = true;\r\n          this.showCards = false;\r\n          this.inputForm.controls['imagen'].setErrors({'incorrect': true});\r\n          alertify.error(\"Ancho máximo de la imagen es de 800px\").dismissOthers();\r\n        }else{\r\n          this.bandera = 1;\r\n          this.showCards = true;\r\n          this.width = img.width;\r\n          this.height = img.height;\r\n          canvas.width = img.width;\r\n          canvas.height = img.height;\r\n          canvas.style.background = \"url(\"+this.imgURL+\")\";\r\n          this.hideCanvas = false;\r\n          // context.drawImage(img, 0 , 0);       \r\n        }   \r\n      };\r\n      img.src = reader.result.toString(); // This is the data URL\r\n    };\r\n \r\n    reader.readAsDataURL(image);\r\n    }else if (id != 0) {\r\n      this.bandera = 1;\r\n      this.showCards = true;\r\n      this.width = this.datosImagen.imagen_ancho;\r\n      this.height = this.datosImagen.imagen_alto;\r\n      canvas.width = this.datosImagen.imagen_ancho;\r\n      canvas.height = this.datosImagen.imagen_alto;\r\n      canvas.style.background = \"url(\"+this.url + this.datosImagen.imagen+\")\";\r\n      this.hideCanvas = false;\r\n      if (id == 1) {\r\n        this.respuestas.forEach(r => {\r\n          this.arrayCanvas.push({pointX: r.posicion_x, pointY: r.posicion_y, width: r.ancho, height: r.alto, color: r.color});\r\n          this.drawRectangleSelected(r);\r\n        });\r\n      }\r\n     \r\n    }\r\n    // this.imgType.nativeElement.value = \"\"; \r\n   }       \r\n\r\n  mouseDown(evt: any){\r\n    if(this.seleccion > 0 && this.flag) {\r\n      var ClientRect = this.canvas.getBoundingClientRect();\r\n      this.x = Math.round(evt.clientX - ClientRect.left);\r\n      this.y = Math.round(evt.clientY - ClientRect.top);\r\n      this.drag = true;\r\n    }else{\r\n      alertify.error('No puedes hacer más selecciones').dismissOthers();\r\n    }\r\n   }\r\n\r\n  mouseUp(evt: any){\r\n    var ClientRect = this.canvas.getBoundingClientRect();\r\n    if (this.drag) {\r\n      this.w = Math.round(evt.clientX - ClientRect.left) - this.x;\r\n      this.h = Math.round(evt.clientY - ClientRect.top) - this.y;\r\n      const randomHsl = Math.random() * 360;\r\n      this.drag = false;\r\n      // console.log(this.inputForm.get('items')['controls'][this.indexRespuestas].get('color').value)\r\n      let color = this.inputForm.get('items')['controls'][this.indexRespuestas].get('color').value;\r\n      this.inputForm.get('items')['controls'][this.indexRespuestas].get('posX').setValue(this.x);\r\n      this.inputForm.get('items')['controls'][this.indexRespuestas].get('posY').setValue(this.y);\r\n      this.inputForm.get('items')['controls'][this.indexRespuestas].get('ancho').setValue(this.w);\r\n      this.inputForm.get('items')['controls'][this.indexRespuestas].get('alto').setValue(this.h);\r\n\r\n      this.drawRectangle(evt,color);\r\n      this.arrayCanvas.push({pointX: this.x, pointY: this.y, width: this.w, height: this.h, color: 'hsla('+ randomHsl +', 100%, 50%, 1)'});\r\n\r\n      this.indexRespuestas++;\r\n      if (this.indexRespuestas == this.seleccion) {\r\n        this.flag = false;\r\n        alertify.success('Se ha alcanzado el límite de selecciones').dismissOthers();\r\n      }    \r\n    }\r\n  }\r\n\r\n  drawRectangle(evt: any, color, id = 0){\r\n    var ctx = this.canvas.getContext('2d');\r\n    ctx.clearRect(this.x, this.y, this.w, this.h);\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = color;\r\n    ctx.setLineDash([6]);\r\n    ctx.strokeRect(this.x, this.y, this.w, this.h);   \r\n  }  \r\n\r\n  drawRectangleSelected(data) {\r\n    this.x = data.posicion_x;      \r\n    this.y = data.posicion_y;\r\n    this.w = data.ancho;\r\n    this.h = data.alto;\r\n    this.inputForm.get('items')['controls'][this.indexRespuestas].get('posX').setValue(this.x);\r\n    this.inputForm.get('items')['controls'][this.indexRespuestas].get('posY').setValue(this.y);\r\n    this.inputForm.get('items')['controls'][this.indexRespuestas].get('ancho').setValue(this.w);\r\n    this.inputForm.get('items')['controls'][this.indexRespuestas].get('alto').setValue(this.h);\r\n    this.drawRectangle(data, data.color)\r\n    this.indexRespuestas++;\r\n    if (this.indexRespuestas == this.seleccion) {\r\n      this.flag = false;\r\n      // alertify.success('Se ha alcanzado el límite de selecciones').dismissOthers();\r\n    }   \r\n  }\r\n\r\n  cleanCanvas(){\r\n    let canvas = this.myCanvas.nativeElement;\r\n    let context = canvas.getContext('2d');\r\n    context.clearRect(0 , 0, canvas.width, canvas.height);   \r\n    this.arrayCanvas = [];\r\n    this.indexRespuestas = 0;\r\n    this.flag = true;\r\n    this.inputForm.get('items').value.forEach((value, i) => {\r\n      this.inputForm.get('items')['controls'][i].get('posX').setValue(null);\r\n      this.inputForm.get('items')['controls'][i].get('posY').setValue(null);\r\n      this.inputForm.get('items')['controls'][i].get('ancho').setValue(null);\r\n      this.inputForm.get('items')['controls'][i].get('alto').setValue(null);\r\n    });\r\n  }\r\n\r\n  getColor(color){ \r\n    this.color = color;\r\n    this.drag = true;\r\n  }\r\n\r\n  drawCircle(evt: any){\r\n    if (this.drag) {      \r\n    //  var canvas = <HTMLCanvasElement> document.getElementById('canvas');\r\n      var imageCanvas = this.myImage.nativeElement;\r\n      var ClientRect = imageCanvas.getBoundingClientRect();\r\n      let x = Math.round(evt.clientX - ClientRect.left);\r\n      let y = Math.round(evt.clientY - ClientRect.top);\r\n      var ctx = imageCanvas.getContext('2d');\r\n      \r\n      ctx.beginPath();\r\n      ctx.setLineDash([0]);\r\n      ctx.arc(x, y, 15, 0, 2 * Math.PI);\r\n      ctx.strokeStyle = 'black';\r\n      ctx.fillStyle = this.color;\r\n      ctx.fill();\r\n      ctx.stroke();   \r\n      this.drag = false;\r\n    }\r\n  }\r\n   \r\n}\r\n","import { FormControl } from '@angular/forms';\r\nimport { Archivo } from 'src/app/services/archivos';\r\n\r\n\r\n\r\nexport function requiredFileType( type: number ) {\r\n  return function ( control: FormControl ) {\r\n\r\n    let archivo = Archivo;\r\n    let tipoArchivos;\r\n    if(type == 0){\r\n      type = archivo.length-1;\r\n      tipoArchivos = archivo[type].formatos;\r\n    }else{\r\n      tipoArchivos = archivo[type].formatos;\r\n    }\r\n\r\n    \r\n\r\n    \r\n    const file = control.value;\r\n    if ( file ) {\r\n      const archivo = file.name.split('.');\r\n      var longitud = archivo.length;      \r\n      const extension = file.name.split('.')[longitud-1].toLowerCase();\r\n      if ( tipoArchivos.indexOf(extension.toLowerCase()) == -1) {\r\n        return {\r\n          requiredFileType: true\r\n        };\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  };\r\n}","import { SafeHtml } from \"@angular/platform-browser\";\r\nimport { TrPreguntaOpcionMultiple } from \"./trPreguntaOpcionMultiple\";\r\n\r\nexport class TrDatosPreguntas{\r\n\r\n    public datos_pregunta_id: number;\r\n\r\n    public contenido: string;\r\n    public tipo_pregunta_id: number;\r\n\r\n    public dificultad_id: number;\r\n\r\n    public actividad_id: number;\r\n    \r\n    public ponderacion: string;\r\n    public shuffle: number;\r\n    public orden: number;\r\n    public retroalimentacion: string;\r\n    public estatus: string;\r\n\r\n    //elementos extra que no vienen en la base de datos\r\n    public contenido_html: SafeHtml;\r\n    public activo: boolean;\r\n    public nuevaPregunta: boolean = false;\r\n    public editar:boolean = false;\r\n    public valor: string = \"\";    \r\n    public calificacion: number = null;\r\n\r\n\r\n    public preguntasMultiple: Array<TrPreguntaOpcionMultiple>;\r\n\r\n    public pregunta_id;\r\n    \r\n    public incompleto: boolean = false;\r\n\r\n\r\n\r\n}\r\n\r\n","\r\nexport class TrPregunta{\r\n    public pregunta_id: number;\r\n    public datos_pregunta_id: number;\r\n    public pregunta: string;\r\n    public contenido: string;\r\n    public estatus: string;\r\n\r\n    public momento: number;\r\n    public num_archivos: number;\r\n    public cat_formato_id: number;\r\n    public orientacion: number;\r\n    public tipo: number\r\n\r\n    public pregunta1: string;\r\n    public pregunta2: string;\r\n    public pregunta3: string;\r\n\r\n    public url_archivo: string;\r\n    public urlExt: boolean;\r\n\r\n}\r\n","\r\nexport class TrPreguntaOpcionMultiple{\r\n    public respuesta_id: number;\r\n\r\n    public respuesta: string;\r\n    public ponderacion: string;\r\n    public retroalimentacion: string;\r\n    public estatus: string;\r\n\r\n}\r\n","export const reactiveEditor = [\r\n    ['Styles','Format','Font','FontSize'],\r\n    //['Bold','Italic','Underline','StrikeThrough','-','Undo','Redo','-','Cut','Copy','Paste','Find','Replace','-','Outdent','Indent','-','Print'],\r\n    ['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],\r\n    ['Image','Table','-','TextColor','BGColor'],\r\n    //['Format','Font','FontSize'],\r\n    ['Italic']\r\n ];","export const simpleEditor = [\r\n    //['Styles''Format''Font','FontSize'],\r\n    //['Bold','Italic','Underline','StrikeThrough','-','Undo','Redo','-','Cut','Copy','Paste','Find','Replace','-','Outdent','Indent','-','Print'],\r\n    //['NumberedList','BulletedList','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],\r\n    //['Image','Table','-','Link','Flash','Smiley','TextColor','BGColor']\r\n    ['Format','Font','FontSize'],\r\n    ['Bold','Italic','Underline','StrikeThrough','-','Outdent','Indent','-','NumberedList','BulletedList','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','Table','Link','Smiley','TextColor','BGColor']\r\n ];"],"sourceRoot":""}