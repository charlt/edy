{"version":3,"sources":["webpack:///./src/app/administracion/pagos/suscripcion/generar-pago/generar-pago-routing.module.ts","webpack:///./src/app/administracion/pagos/suscripcion/generar-pago/generar-pago.component.html","webpack:///./src/app/administracion/pagos/suscripcion/generar-pago/generar-pago.component.scss","webpack:///./src/app/administracion/pagos/suscripcion/generar-pago/generar-pago.component.ts","webpack:///./src/app/administracion/pagos/suscripcion/generar-pago/generar-pago.module.ts"],"names":[],"mappings":"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","file":"generar-pago-generar-pago-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { GenerarPagoComponent } from './generar-pago.component';\r\n\r\nconst routes: Routes = [{\r\n  path : '',\r\n  component : GenerarPagoComponent\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class GenerarPagoRoutingModule { }\r\n","module.exports = \"\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <h4>{{title}}</h4>\\r\\n    <p>Selecciona los meses que deseas que el sistema aplique el pago</p>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-12 editar-ciclo\\\"> \\r\\n    <form class=\\\"row\\\" [formGroup]=\\\"generarPagoForm\\\" (ngSubmit)=\\\"enviarInformacion()\\\">\\r\\n\\r\\n  <div class=\\\"col-md-4\\\">              \\r\\n    <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\" for=\\\"beca\\\">Selecciona el mes:</label>\\r\\n      <select class=\\\"form-control\\\"  formControlName=\\\"mes\\\">\\r\\n        <option hidden value=\\\"\\\" disabled selected>{{'fmOptSelect' | translate}} </option>\\r\\n        <option value=\\\"1\\\">Enero</option>\\r\\n        <option value=\\\"2\\\">Febrero</option>\\r\\n        <option value=\\\"3\\\">Marzo</option>\\r\\n        <option value=\\\"4\\\">Abril</option>\\r\\n        <option value=\\\"5\\\">Mayo</option>\\r\\n        <option value=\\\"6\\\">Junio</option>\\r\\n        <option value=\\\"7\\\">Julio</option>        \\r\\n        <option value=\\\"8\\\">Agosto</option>\\r\\n        <option value=\\\"9\\\">Septiembre</option>\\r\\n        <option value=\\\"10\\\">Octubre</option>\\r\\n        <option value=\\\"11\\\">Noviembre</option>\\r\\n        <option value=\\\"12\\\">Diciembre</option>\\r\\n     </select>\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.mes.invalid && f.mes.touched\\\">\\r\\n        {{'fmErrSelect' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-4\\\">\\r\\n    <div class=\\\"form-group\\\">                               \\r\\n      <label class=\\\"control-label\\\" for=\\\"beca\\\">Selecciona el año:</label>\\r\\n      <select class=\\\"form-control\\\"  formControlName=\\\"anio\\\">\\r\\n        <option hidden value=\\\"\\\" disabled selected>{{'fmOptSelect' | translate}} </option>\\r\\n        <option value=\\\"2019\\\">2019</option>\\r\\n        <option value=\\\"2020\\\">2020</option>\\r\\n        <option value=\\\"2021\\\">2021</option>\\r\\n        <option value=\\\"2022\\\">2022</option>\\r\\n        <option value=\\\"2023\\\">2023</option>\\r\\n        <option value=\\\"2024\\\">2024</option>\\r\\n        <option value=\\\"2025\\\">2025</option>\\r\\n        <option value=\\\"2026\\\">2026</option>        \\r\\n        <option value=\\\"2027\\\">2027</option>\\r\\n        <option value=\\\"2028\\\">2028</option>\\r\\n        <option value=\\\"2029\\\">2029</option>\\r\\n     </select>\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.anio.invalid && f.anio.touched\\\">\\r\\n        {{'fmErrSelect' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-md-4\\\">\\r\\n    <div class=\\\"form-group mb-2\\\">\\r\\n      <label class=\\\"control-label\\\">Pago</label><br>\\r\\n      <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n        <input type=\\\"radio\\\" id=\\\"colegiatura1\\\" formControlName=\\\"tipoPago\\\" class=\\\"custom-control-input\\\" value=\\\"1\\\">\\r\\n        <label class=\\\"custom-control-label\\\" for=\\\"colegiatura1\\\">Reinscripción</label>\\r\\n      </div>\\r\\n      <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n        <input type=\\\"radio\\\" id=\\\"colegiatura\\\" formControlName=\\\"tipoPago\\\" class=\\\"custom-control-input\\\" value=\\\"2\\\" >\\r\\n        <label class=\\\"custom-control-label\\\" for=\\\"colegiatura\\\">Colegiatura</label>\\r\\n      </div>\\r\\n      <br>\\r\\n      <span class=\\\"invalidText\\\" *ngIf=\\\"f.tipoPago.invalid && f.tipoPago.touched\\\">\\r\\n        {{'fmErrSelect' | translate}}\\r\\n      </span>\\r\\n    </div>\\r\\n                                                                                                                                \\r\\n    <button  type=\\\"submit\\\" class=\\\"btn btn-primary pull-right mt-1\\\">{{'fmSave' | translate}}</button>\\r\\n    <div class=\\\"resultado-datos-ciclo margin-top\\\" ></div>      \\r\\n  </div>  \\r\\n  </form>\\r\\n  </div>\\r\\n  <div class=\\\"col-12 mt-4\\\">\\r\\n    <div class=\\\"table-responsive\\\">\\r\\n      <table class=\\\"table table-border\\\">\\r\\n        <thead class=\\\"bg-light\\\">\\r\\n          <tr>\\r\\n            <th>Tipo</th>\\r\\n            <th>Mes</th>\\r\\n            <th>Año</th>\\r\\n            <th>Monto</th>\\r\\n            <th>Eliminar</th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody *ngIf=\\\"Pagos\\\">\\r\\n          <tr *ngFor=\\\"let pago of Pagos; let i = index;\\\">\\r\\n            <td>\\r\\n              <span *ngIf=\\\"pago.tipo == 1\\\" >Reinscripción</span>\\r\\n              <span *ngIf=\\\"pago.tipo == 2\\\" >Colegiatura</span>\\r\\n              <span *ngIf=\\\"pago.tipo == 3\\\" >Inscripcion</span>\\r\\n\\r\\n            </td>\\r\\n            <td><span *ngIf=\\\"pago.mes\\\">{{pago.mesNombre}}</span></td>\\r\\n            <td><span *ngIf=\\\"pago.anio && pago.anio != '0' \\\">{{pago.anio}}</span></td>\\r\\n            <td>\\r\\n              <span *ngIf=\\\"pago.tipo == 1\\\" >{{pago.monto_reinscripcion}}</span>\\r\\n              <span *ngIf=\\\"pago.tipo == 2\\\" >{{pago.monto_colegiatura}}</span>\\r\\n              <span *ngIf=\\\"pago.tipo == 3\\\" >{{pago.monto_inscripcion}}</span>\\r\\n\\r\\n            </td>\\r\\n            <td><button class=\\\"btn btn-danger\\\" (click)=\\\"eliminar(pago.pago_id,index)\\\"><i class=\\\"fa fa-trash\\\"></i></button></td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n        <tbody *ngIf=\\\"!Pagos\\\">\\r\\n          <tr>\\r\\n            <td class=\\\"text-center\\\" colspan=\\\"12\\\">No se encontró información</td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n  </div>\\r\\n  \"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vcGFnb3Mvc3VzY3JpcGNpb24vZ2VuZXJhci1wYWdvL0M6XFx4YW1wcDFcXGh0ZG9jc1xcZXN0dWR5X25ld1xcZnJvbnRFc3R1ZHkvc3JjXFxhcHBcXHNoYXJlZFxcc3R5bGVzXFxmb3Jtcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNDLG1CQUFrQixFQUNsQjs7QUFDRDtFQUNJLGVBQWM7RUFDZCw0QkFBMkIsRUFDOUI7O0FBQ0Q7RUFDSSxzQkFBc0IsRUFDekI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxnQkFBZTtFQUNmLGlCQUFnQixFQUNuQiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL3BhZ29zL3N1c2NyaXBjaW9uL2dlbmVyYXItcGFnby9nZW5lcmFyLXBhZ28uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmZvcm0tZ3JvdXB7XHJcbiBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuLmludmFsaWRUZXh0e1xyXG4gICAgY29sb3I6ICNkYzM1NDU7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm5nLWludmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogICNkYzM1NDU7IFxyXG59XHJcbi5uZy12YWxpZC5uZy10b3VjaGVke1xyXG4gICAgYm9yZGVyLWNvbG9yOiBncmVlbjsgXHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tdG9wOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PagoService } from '../../services/pago.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'app-generar-pago',\r\n  templateUrl: './generar-pago.component.html',\r\n  styleUrls: ['./generar-pago.component.scss']\r\n})\r\nexport class GenerarPagoComponent implements OnInit {\r\n\r\n  id_suscripcion;\r\n  suscripcion;\r\n  descuentos = [];\r\n  title;\r\n\r\n  generarPagoForm:FormGroup;\r\n  Pagos: any;\r\n  meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', \r\n    'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\r\n\r\n  constructor(\r\n    private _pagoService: PagoService,\r\n    private route: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router\r\n  ) { \r\n    this.id_suscripcion  = this.route.snapshot.paramMap.get('id');\r\n    this.title = \"Generar pago\";\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.consulta();\r\n    this._pagoService.consultaSuscripcion(this.id_suscripcion).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.suscripcion = response['suscripcion'];\r\n          this.title = this.title + ' para '+this.suscripcion.nombre_suscripcion;\r\n          \r\n        }else{\r\n          \r\n        }\r\n          \r\n      },error=>{\r\n        console.log(error)\r\n      }\r\n    );\r\n\r\n    this._pagoService.catDescuentos().subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.descuentos = response['descuentos'];\r\n        }else{\r\n          this.descuentos = [];\r\n        }\r\n          \r\n      },error=>{\r\n        console.log(error)\r\n      }\r\n    );\r\n\r\n    this.generarPagoForm = this.formBuilder.group({\r\n      // nivelCiclo:  ['', Validators.required],  \r\n       mes: ['', Validators.required],\r\n       anio: ['2020', Validators.required],\r\n       tipoPago: ['',Validators.required]\r\n     });\r\n  }\r\n\r\n  get f() { return this.generarPagoForm.controls; }\r\n\r\n  enviarInformacion(){\r\n    // stop here if form is invalid\r\n    if (this.generarPagoForm.invalid) {\r\n      Object.keys(this.generarPagoForm.controls).forEach( controlKey => {\r\n        this.generarPagoForm.controls[controlKey].markAsTouched();\r\n      });\r\n      return;\r\n    }\r\n\r\n    var duplicados = this.Pagos.filter(function(suscripcion){\r\n      console.log(suscripcion.anio,suscripcion.mes,suscripcion.tipo)\r\n      return suscripcion.anio == this.generarPagoForm.get('anio').value && suscripcion.mes == this.generarPagoForm.get('mes').value && suscripcion.tipo == this.generarPagoForm.get('tipoPago').value\r\n    }.bind(this))\r\n\r\n\r\n    if(duplicados.length){\r\n      alertify.error('Este registro ya existe')\r\n    }else{\r\n  \r\n      alertify.confirm('', '¿Deseas generar el pago este mes?', \r\n      function(){\r\n        this._pagoService.guardarSuscripcionPago(this.generarPagoForm , this.id_suscripcion  ).subscribe(\r\n          response =>{\r\n              if(response && response['status']){\r\n                alertify.success(response['msg'])\r\n                this.consulta();\r\n              }else{\r\n                alertify.error(response['msg'])\r\n    \r\n              }\r\n    \r\n          },error =>{\r\n            console.log(<any>error)\r\n          });\r\n      }.bind(this),\r\n      function(){\r\n        alertify.error('Cancelado');\r\n      });\r\n    }\r\n  }\r\n\r\n  consulta() {\r\n    this._pagoService.consultaPagosGenerados(this.id_suscripcion).subscribe(\r\n      response =>{        \r\n          if(response && response['status']){\r\n            this.Pagos = response['pagos'];\r\n            this.Pagos.forEach(pagos => {\r\n              pagos.mesNombre = this.meses[parseInt(pagos.mes) - 1];\r\n              \r\n            });\r\n            console.log(this.Pagos);\r\n          }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n\r\n    \r\n  eliminar(id, index) {\r\n    alertify.confirm('¿deseas eliminar el pago?',\r\n      function () {\r\n        this._pagoService.eliminaSuscripcionPago(id).subscribe(\r\n          response => {\r\n            if (response && response['status']) {\r\n              this.Pagos.splice(index, 1);\r\n              alertify.success(response['msg']);\r\n            }\r\n            else {\r\n              alertify.success(response['msg']);\r\n            }\r\n\r\n          }, error => {\r\n            console.log(<any>error)\r\n          });\r\n      }.bind(this),\r\n      function () {\r\n        alertify.error('Cancel');\r\n      });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { GenerarPagoRoutingModule } from './generar-pago-routing.module';\r\nimport { GenerarPagoComponent } from './generar-pago.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FormModule } from 'src/app/administracion/form/form.module';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\n\r\n@NgModule({\r\n  declarations: [GenerarPagoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    GenerarPagoRoutingModule,\r\n    FormModule,\r\n    ReactiveFormsModule,\r\n    LanguageTranslationModule\r\n  ]\r\n})\r\nexport class GenerarPagoModule { }\r\n"],"sourceRoot":""}