{"version":3,"sources":["webpack:///./src/app/inscripcion/inscripcion.service.ts","webpack:///./src/app/inscripcion/pagos/pagos-routing.module.ts","webpack:///./src/app/inscripcion/pagos/pagos.component.html","webpack:///./src/app/inscripcion/pagos/pagos.component.scss","webpack:///./src/app/inscripcion/pagos/pagos.component.ts","webpack:///./src/app/inscripcion/pagos/pagos.module.ts"],"names":[],"mappings":"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","file":"inscripcion-pagos-pagos-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { GLOBAL }  from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InscripcionService {\r\n\r\n  public url: string;\r\n\r\n\r\n  constructor(\r\n    private _http: Http,\r\nprivate _httpClient: HttpClient\r\n  ){\r\n    this.url = GLOBAL.url;\r\n   }\r\n   \r\n   consultaAspirante( id_aspirante){\r\n    var params = '?id_aspirante=' + id_aspirante;\r\n\r\n    return this._httpClient.get(this.url +'seguimiento/aspirante/consulta.php'+params);\r\n  }\r\n\r\n\r\n   insertaRegistro(signupForm, color, tipo){\r\n    let formData: FormData = new FormData();\r\n    formData.append('nombre', signupForm.get('nombre').value); \r\n    formData.append('primer_apellido', signupForm.get('primer_apellido').value); \r\n    formData.append('segundo_apellido', signupForm.get('segundo_apellido').value); \r\n    formData.append('email', signupForm.get('email').value); \r\n    formData.append('celular', signupForm.get('numero').value); \r\n    //formData.append('clave_aspirante', signupForm.get('claveElector').value);\r\n    formData.append('carrera_id', signupForm.get('carrera').value);  \r\n    formData.append('curp', signupForm.get('curp').value); \r\n    formData.append('promocion', signupForm.get('codPromo').value); \r\n    formData.append('color',color); \r\n    \r\n    if (tipo == 0) {\r\n      return this._httpClient.post(this.url +'seguimiento/aspirante/registro.php',formData);\r\n    }else if (tipo == 1) {\r\n      return this._httpClient.post(this.url +'asesor/aspirante/registro.php',formData);\r\n    }\r\n  }\r\n\r\n\r\n  validaCodigo(codigo){\r\n    var params = '?clave_promocion=' + codigo;\r\n    // params += '&id_aspirante=' + id_aspirante;\r\n\r\n    return this._httpClient.get(this.url +'seguimiento/promocion/consultaClave.php'+params);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PagosComponent } from './pagos.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PagosComponent\r\n  }];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PagosRoutingModule { }\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"pasoActual > 3\\\">\\r\\n    <div class=\\\"col-12 alert alert-success text-center\\\" role=\\\"alert\\\">\\r\\n      <h1><i class=\\\"fa fa-check\\\"></i></h1>\\r\\n      <h4>Paso completado exitosamente</h4>\\r\\n      <p></p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\" *ngIf=\\\"pasoActual <= 2\\\">\\r\\n    <div class=\\\"col-12 alert alert-danger text-center\\\" role=\\\"alert\\\">\\r\\n      Para continuar, debes terminar el bloque anterior.\\r\\n    </div>\\r\\n  </div>\\r\\n  <div  *ngIf=\\\"pasoActual == 3\\\" class=\\\"row d-flex justify-content-center \\\" >\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <h4>{{title}}</h4>\\r\\n      <p>Selecciona la opción de plan de pago</p>\\r\\n    </div>\\r\\n    <div [hidden]=\\\"selectedSuscripcion && selectedSuscripcion.suscripcion_id != _suscripcion.suscripcion_id\\\" class=\\\" text-center col-xs-12 col-sm-12 col-md-6 \\\" *ngFor=\\\"let _suscripcion of suscripcion\\\"  >\\r\\n      <div class=\\\"text-center jumbotron m-7\\\" style=\\\"cursor: pointer;\\\" (click)=\\\"seleccionaPlan(_suscripcion)\\\">\\r\\n          <i class=\\\"fa fa-credit-card fa-3x\\\" style=\\\"color:#002144\\\" aria-hidden=\\\"true\\\"></i><br>\\r\\n          <a>{{_suscripcion.nombre_suscripcion}}</a>  \\r\\n          <br>\\r\\n      </div>\\r\\n      <p [innerHTML]=\\\"_suscripcion.descripcion_suscripcion\\\"></p>\\r\\n      <h6><a *ngIf=\\\"selectedSuscripcion\\\" href=\\\"javascript:void(0)\\\" (click)=\\\"cancelaPlan()\\\">Selecciona otro plan de pago</a></h6>\\r\\n\\r\\n    </div>\\r\\n    \\r\\n    <div class=\\\"col-xs-12 col-sm-12 col-md-8 text-center\\\" *ngIf=\\\"selectedSuscripcion\\\" >\\r\\n      <button class=\\\"btn btn-success\\\" (click)=\\\"confirmaPlan()\\\">Seleccionar plan de pago</button>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luc2NyaXBjaW9uL3BhZ29zL3BhZ29zLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PagoService } from 'src/app/administracion/pagos/services/pago.service';\r\nimport { AlumnoService } from 'src/app/services/alumno.service';\r\nimport { Router } from '@angular/router';\r\nimport { InscripcionService } from '../inscripcion.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\n\r\ndeclare var alertify;\r\n@Component({\r\n  selector: 'app-pagos',\r\n  templateUrl: './pagos.component.html',\r\n  styleUrls: ['./pagos.component.scss']\r\n})\r\nexport class PagosComponent implements OnInit {\r\n  \r\n  title;\r\n  suscripcion;\r\n  selectedSuscripcion : any = null;\r\n  pasoActual;\r\n  idAspirante;\r\n  idCarrera;\r\n  nombreCarrera;\r\n  planPago;\r\n  \r\n\r\n  constructor(\r\n    private _pagoService: PagoService,\r\n    private _alumnoService: AlumnoService,\r\n    private _usuarioService: UsuarioService,\r\n    private _inscripcionService: InscripcionService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.title = \"Pago en línea\";\r\n\r\n    this.idAspirante = parseInt(this._usuarioService.getIdentity().persona_id);\r\n\r\n\r\n    this._inscripcionService.consultaAspirante(this.idAspirante).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.idCarrera = response['aspirante'].carrera_id;\r\n          this.nombreCarrera = response['aspirante'].carrera;\r\n          this.pasoActual = response['aspirante'].paso;\r\n\r\n          this._pagoService.consultaAlumnoInscripcion(this.idAspirante).subscribe(\r\n            response =>{\r\n              if(response && response['status']){\r\n                {\r\n                  let idSolicitudPago = response['inscripcion'][0].solicitud_pago_id;\r\n                  this.router.navigate(['/inscripcion/realizar-pago/'+idSolicitudPago])\r\n                }\r\n                \r\n              }\r\n            },error =>{\r\n              console.log(error)\r\n            }\r\n          )\r\n      \r\n        this._pagoService.catSuscripcion(this.idCarrera).subscribe(\r\n          response =>{\r\n            if(response && response['status']){\r\n              this.suscripcion =  response['suscripcion'];\r\n              if(this.suscripcion.length == 1){\r\n                this.selectedSuscripcion = this.suscripcion[0];\r\n              }\r\n            }\r\n\r\n          },error =>{\r\n            console.log(error)\r\n          }\r\n        );\r\n\r\n        }\r\n      },error =>{\r\n        console.log(error);\r\n      }\r\n    )\r\n\r\n\r\n\r\n  }\r\n\r\n  seleccionaPlan(suscripcion){\r\n    this.selectedSuscripcion = suscripcion;\r\n  }\r\n\r\n  cancelaPlan(){\r\n    this.selectedSuscripcion = null;\r\n  }\r\n\r\n  confirmaPlan(){\r\n    this._alumnoService.seleccionaPlan(this.selectedSuscripcion.suscripcion_id).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          let idSolicitudPago = response['idSolicitudPago'];\r\n          if(idSolicitudPago == '0'){\r\n            this.pasoActual = 4;\r\n          }else{\r\n            this.router.navigate(['/inscripcion/realizar-pago/'+idSolicitudPago+'/'])\r\n          }\r\n          alertify.success(response['msg']);\r\n        }\r\n      },error => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PagosRoutingModule } from './pagos-routing.module';\r\nimport { PagosComponent } from './pagos.component';\r\n\r\n@NgModule({\r\n  declarations: [PagosComponent],\r\n  imports: [\r\n    CommonModule,\r\n    PagosRoutingModule\r\n  ]\r\n})\r\nexport class PagosModule { }\r\n"],"sourceRoot":""}