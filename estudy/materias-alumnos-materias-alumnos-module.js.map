{"version":3,"sources":["webpack:///./src/app/administracion/alumno/materias-alumnos/materias-alumnos-routing.module.ts","webpack:///./src/app/administracion/alumno/materias-alumnos/materias-alumnos.component.html","webpack:///./src/app/administracion/alumno/materias-alumnos/materias-alumnos.component.scss","webpack:///./src/app/administracion/alumno/materias-alumnos/materias-alumnos.component.ts","webpack:///./src/app/administracion/alumno/materias-alumnos/materias-alumnos.module.ts"],"names":[],"mappings":"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","file":"materias-alumnos-materias-alumnos-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MateriasAlumnosComponent } from './materias-alumnos.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MateriasAlumnosComponent\r\n}\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class MateriasAlumnosRoutingModule { }\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n        <h4>{{title}}</h4>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n        <app-encabezado-persona [idPersona]=\\\"idAlumno\\\" [idRol]=\\\"'2'\\\"></app-encabezado-persona>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n        <!-- <button class=\\\"btn btn-success\\\" (click)=\\\"agregarMateria(content)\\\">Agregar asignatura</button><br> -->\\r\\n        <div class=\\\"btn-group\\\" role=\\\"group\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"agregarMateria(content)\\\">Agregar asignatura</button><br>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" [ngClass]=\\\"tipoConsulta == 1 ? 'active':''\\\" (click)=\\\"_tipoConsulta(1);\\\">Activas</button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" [ngClass]=\\\"tipoConsulta == 2 ? 'active':''\\\" (click)=\\\"_tipoConsulta(2);\\\">Inactivas</button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" [ngClass]=\\\"tipoConsulta == 3 ? 'active':''\\\" (click)=\\\"_tipoConsulta(3);\\\">Todas</button>\\r\\n        </div>\\r\\n        <table class=\\\"table table-striped  table-bordered\\\" style=\\\"margin-top: 1%;\\\">\\r\\n            <thead>\\r\\n                <tr>\\r\\n                    <th>Nombre</th>\\r\\n                    <th>Grupo</th>\\r\\n                    <th>Tipo</th>\\r\\n                    <th>Estatus</th>\\r\\n                    <th>Calificación</th>\\r\\n                    <th>Reiniciar materia</th>\\r\\n                    <th>Eliminar</th>\\r\\n                </tr>\\r\\n            </thead>\\r\\n            <tbody *ngIf=\\\"materias\\\">\\r\\n                <tr *ngFor=\\\"let materia of materias\\\">\\r\\n                    <td>{{materia.asignatura}}</td>\\r\\n                    <td><a href=\\\"javascript:void()\\\"\\r\\n                            [routerLink]=\\\"['../../../../../../admin/grupo/calificaciones/'+materia.asignatura_grupo_id]\\\">{{materia.nombre_grupo}}</a>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <div class=\\\"form-group \\\" rel=\\\"1\\\">\\r\\n                            <select class=\\\"form-control\\\" [(ngModel)]=\\\"materia.tipo_materia_id\\\" (change)=\\\"cambiaTipoMateria(materia.tipo_materia_id, materia.materia_id)\\\">\\r\\n                                <option hidden value='' disabled>Selecciona una opción</option>\\r\\n                                <option [value]=\\\"tipo.tipo_materia_id\\\" *ngFor=\\\"let tipo of tiposMaterias\\\">{{tipo.descripcion_tipo_materia}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                        <div class=\\\"form-group \\\" rel=\\\"1\\\">\\r\\n                            <select class=\\\"form-control\\\" [(ngModel)]=\\\"materia.estatus_materia_id\\\"\\r\\n                                (change)=\\\"cambiaEstatus(materia.materia_id, materia.estatus_materia_id)\\\">\\r\\n                                <option hidden value='so' disabled>Selecciona una opción</option>\\r\\n                                <option [value]=\\\"estatus.estatus_materia_id\\\" *ngFor=\\\"let estatus of _estatus\\\">\\r\\n                                    {{estatus.descripcion_estatus_materia}}</option>\\r\\n                            </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"text-center\\\">{{materia.calificacion}}</td>\\r\\n                    <td class=\\\"text-center\\\"><button class=\\\"btn btn-primary\\\"\\r\\n                            (click)=\\\"reiniciarMateria(materia.materia_id)\\\"><i class=\\\"fa fa-refresh\\\"\\r\\n                                aria-hidden=\\\"true\\\"></i></button></td>\\r\\n                    <td class=\\\"text-center\\\"><button class=\\\"btn btn-danger\\\" (click)=\\\"eliminar(materia.materia_id)\\\"><i\\r\\n                                class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n            <tbody *ngIf=\\\"!materias\\\">\\r\\n                <tr>\\r\\n                    <td colspan=\\\"20\\\" class=\\\"text-center p-3\\\">\\r\\n                        <span>No se encontró información</span>\\r\\n                    </td>\\r\\n                </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n    <ng-template #content let-modal>\\r\\n        <div class=\\\"modal-header\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"close()\\\">\\r\\n                <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n            </button>\\r\\n        </div>\\r\\n        <div class=\\\"modal-body\\\">\\r\\n            <app-consulta-asignatura [nivel]=\\\"4\\\" [tipo]=\\\"'small'\\\" (sucessEvent)=\\\"obtieneAsignatura($event)\\\">\\r\\n            </app-consulta-asignatura>\\r\\n            <div *ngIf=\\\"grupos && guarda\\\" class=\\\"form-group \\\" rel=\\\"1\\\">\\r\\n                <label class=\\\"control-label\\\" for=\\\"\\\">5. Grupo</label>\\r\\n                <select class=\\\"form-control\\\" [(ngModel)]=\\\"asignatura_grupo_id\\\">\\r\\n                    <option value=\\\"\\\" hidden disabled selected>Selecciona una opción</option>\\r\\n                    <option [value]=\\\"grupo.asignatura_grupo_id\\\" *ngFor=\\\"let grupo of grupos\\\">{{grupo.grupo}}</option>\\r\\n                </select>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n            <button [disabled]=\\\"!asignatura_grupo_id || !guarda\\\" type=\\\"button\\\" class=\\\"btn btn-success\\\"\\r\\n                (click)=\\\"guardarAsignatura()\\\">Guardar</button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-dark\\\" (click)=\\\"close()\\\">Salir</button>\\r\\n        </div>\\r\\n    </ng-template>\\r\\n</div>\"","module.exports = \".boton {\\n  margin-top: 2.3%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vYWx1bW5vL21hdGVyaWFzLWFsdW1ub3MvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcYWRtaW5pc3RyYWNpb25cXGFsdW1ub1xcbWF0ZXJpYXMtYWx1bW5vc1xcbWF0ZXJpYXMtYWx1bW5vcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFnQixFQUNuQiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL2FsdW1uby9tYXRlcmlhcy1hbHVtbm9zL21hdGVyaWFzLWFsdW1ub3MuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm90b257XHJcbiAgICBtYXJnaW4tdG9wOiAyLjMlO1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { MateriasAlumnosService } from './materias-alumnos.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { CatalogoService } from 'src/app/services/catalogo.service';\r\nimport { AsignaturaGrupoService } from '../../grupo/service/asignatura-grupo.service';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'app-materias-alumnos',\r\n  templateUrl: './materias-alumnos.component.html',\r\n  styleUrls: ['./materias-alumnos.component.scss']\r\n})\r\nexport class MateriasAlumnosComponent implements OnInit {\r\n  jwt;\r\n  title;\r\n  id_rol;\r\n  grupos;\r\n  _estatus;\r\n  materias;\r\n  idAlumno;\r\n  tipoEstatus = 'so';\r\n  selectedAlumno;\r\n  idOrdenAsignatura;\r\n  aviso = 'Sin fechas asignadas';\r\n  asignatura_grupo_id = \"\";\r\n  asignaturaSelected;\r\n  guarda=false;\r\n  tipoConsulta = 3;\r\n  tiposMaterias;\r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private _materiasAlumnosService: MateriasAlumnosService,\r\n    private route: ActivatedRoute,\r\n    private _modalService: NgbModal,\r\n    private _catalogoService: CatalogoService,\r\n    private _asignaturaGrupoService: AsignaturaGrupoService\r\n  ){\r\n    this.title = \"Consulta de asignaturas\";\r\n    this._usuarioService.pushBreadcum(this.title,\"materiasAlumno\",1);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.idAlumno = this.route.snapshot.params['id'];\r\n    this.consultaEstatus();\r\n    this.consultaMaterias();\r\n    this.consultaTipoMateria();\r\n  }\r\n\r\n  consultaTipoMateria(){\r\n    this._asignaturaGrupoService.consultaTipoMaterias().subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.tiposMaterias = response['tipoMateria'];\r\n          } \r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  cambiaTipoMateria(tipo_materia_id, materia_id){\r\n    this._asignaturaGrupoService.cambiaTipoMateria(tipo_materia_id, materia_id).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          alertify.success(response['msg']);\r\n        }else{\r\n          alertify.error(response['msg']);\r\n        }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  consultaEstatus(){\r\n    this._catalogoService.consultaEstatusMateria().subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this._estatus = response['estatus']\r\n          } \r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  cambiaEstatus(id_materia, id_estatus){\r\n    this._materiasAlumnosService.cambiaEstatusMaterias(id_materia, id_estatus).subscribe(\r\n      response =>{\r\n          if(response && response['status']){\r\n            alertify.success(response['msg']);\r\n          }else alertify.error(response['msg']);\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  consultaMaterias(){\r\n    this.materias='';\r\n    if(this.materias) this.materias = null\r\n    this._materiasAlumnosService.consultaMaterias(this.idAlumno, this.tipoConsulta).subscribe(\r\n      response =>{\r\n          if(response && response['status']){\r\n              this.materias = response['materias'];\r\n              this.materias.forEach(_materia => {\r\n                if(_materia.fecha_inicio && _materia.fecha_fin){\r\n                  _materia.fecha_inicio = new Date(_materia.fecha_inicio*1000);\r\n                  _materia.fecha_fin = new Date(_materia.fecha_fin*1000);\r\n                }else{\r\n                  _materia.fecha_fin = null;\r\n                  _materia.fecha_inicio = null;\r\n                }\r\n                if(!_materia.calificacion)_materia.calificacion = \"S/C\"\r\n              });              \r\n          } \r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  reiniciarMateria(materia_id){\r\n  alertify.confirm('', '¿Deseas reiniciar la materia?', function(){\r\n    this._materiasAlumnosService.reiniciarMateria(materia_id).subscribe(\r\n      response =>{\r\n          if(response && response['status']){\r\n            alertify.success(response['msg']);\r\n          }else{\r\n            alertify.error(response['msg']);\r\n          } \r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n    }.bind(this),\r\n    function(){\r\n        alertify.error('Cancelado');\r\n    }).set('labels', {ok:'Sí', cancel:'No'}); \r\n  }\r\n\r\n  eliminar(materia_id){\r\n    alertify.confirm('', '¿Deseas eliminar la materia?', function(){\r\n      this._materiasAlumnosService.eliminaMateria(materia_id).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              alertify.success(response['msg']);\r\n              this.consultaMaterias(this.idAlumno);\r\n            }else{\r\n              alertify.error(response['msg']);\r\n            } \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n      }.bind(this),\r\n      function(){\r\n          alertify.error('Cancelado');\r\n      }).set('labels', {ok:'Sí', cancel:'No'}); \r\n    }\r\n\r\n    consutaGrupo(){\r\n      this._materiasAlumnosService.consultaGrupo(this.idOrdenAsignatura).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.grupos = response['grupos'];\r\n            } \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }\r\n\r\n    agregarMateria(content){\r\n      this._modalService.open(content, {backdrop : 'static',keyboard : false, size: 'lg'});\r\n    }\r\n\r\n    _tipoConsulta(tipo){\r\n      this.tipoConsulta = tipo\r\n      this.consultaMaterias();\r\n    }\r\n\r\n    close(){\r\n      this._modalService.dismissAll();\r\n      this.grupos=\"\";\r\n      this.asignatura_grupo_id = \"\";\r\n    }\r\n\r\n    obtieneAsignatura(event){\r\n      this.idOrdenAsignatura = event.idOrdenAsignatura;\r\n      this.asignaturaSelected = event.idAsignatura;\r\n      if (this.asignaturaSelected){\r\n        if(this.materias && this.materias.length){\r\n          this.materias.forEach(materia => {\r\n            if (this.asignaturaSelected == materia.asignatura_id) {\r\n              this.guarda = false;\r\n              alertify.error('Materia ya asignada a este alumno');\r\n            }else{\r\n              this.guarda= true;\r\n            }\r\n          });\r\n        }else{\r\n          this.guarda= true;\r\n        }\r\n        \r\n      }\r\n      this.grupos = [];\r\n      this.consutaGrupo();\r\n    }\r\n\r\n    guardarAsignatura(){\r\n      this._materiasAlumnosService.agregaMateria(this.idAlumno, this.asignatura_grupo_id).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.consultaMaterias();\r\n              this._modalService.dismissAll();\r\n              alertify.success(response['msg'])\r\n            }else alertify.error(response['msg']) \r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MateriasAlumnosRoutingModule } from './materias-alumnos-routing.module';\r\nimport { MateriasAlumnosComponent } from './materias-alumnos.component';\r\nimport { EncabezadoPersonaModule } from 'src/app/components/encabezado-persona/encabezado-persona.module';\r\nimport { ConsultaAsignaturaModule } from 'src/app/components/consultaAsignatura/consulta-asignatura.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [MateriasAlumnosComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MateriasAlumnosRoutingModule,\r\n    EncabezadoPersonaModule,\r\n    ConsultaAsignaturaModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class MateriasAlumnosModule { }\r\n"],"sourceRoot":""}