{"version":3,"sources":["webpack:///./src/app/administracion/migracion/migracion-routing.module.ts","webpack:///./src/app/administracion/migracion/migracion.component.html","webpack:///./src/app/administracion/migracion/migracion.component.scss","webpack:///./src/app/administracion/migracion/migracion.component.ts","webpack:///./src/app/administracion/migracion/migracion.module.ts","webpack:///./src/app/administracion/migracion/migracion.service.ts","webpack:///./src/app/components/file-upload/file.upload.validators.ts","webpack:///./src/app/services/archivos.ts"],"names":[],"mappings":"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","file":"migracion-migracion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MigracionComponent } from './migracion.component';\r\n\r\nconst routes: Routes = [{path: '',component: MigracionComponent}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class MigracionRoutingModule { }\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-6\\\">\\r\\n    <form [formGroup]=\\\"layoutForm\\\">\\r\\n      <app-file-upload formControlName=\\\"contenido\\\"></app-file-upload>\\r\\n    </form><br>\\r\\n    <button class=\\\"btn btn-success pull-right\\\" (click)=\\\"enviar()\\\" [disabled]=\\\"bloqueo\\\">Enviar archivo</button>\\r\\n  </div>\\r\\n</div><br>\\r\\n<div *ngIf=\\\"bloqueo == true\\\" class=\\\"col-md-6 text-center\\\">\\r\\n  <i class=\\\"fa fa-spin fa-spinner\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  <p>Procesando información, por favor espere.</p>\\r\\n</div>\\r\\n<div *ngIf=\\\"botones == true\\\" class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <div class=\\\"btn-group\\\" role=\\\"group\\\" aria-label=\\\"Basic example\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/admin']\\\">Menú</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/admin/alumno']\\\">Alumnos</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/admin/docente']\\\">Docentes</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/admin/plan-estudios']\\\">Planes de estudio</button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL21pZ3JhY2lvbi9taWdyYWNpb24uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { requiredFileType } from '../../components/file-upload/file.upload.validators';\r\nimport { MigracionService } from './migracion.service';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'app-migracion',\r\n  templateUrl: './migracion.component.html',\r\n  styleUrls: ['./migracion.component.scss']\r\n})\r\nexport class MigracionComponent implements OnInit {\r\n  layoutForm: FormGroup;\r\n  bloqueo = false;\r\n  botones = false;\r\n  \r\n\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private _migracionService: MigracionService\r\n  ){\r\n\r\n   }\r\n\r\n  get f() { return this.layoutForm.controls; }\r\n\r\n  ngOnInit(){\r\n    this.layoutForm = this.formBuilder.group({\r\n      contenido: ['',requiredFileType(1)]\r\n    });\r\n  }\r\n\r\n  enviar(){\r\n    alertify.confirm('', '¿Estás seguro que deseas cotinuar?', function(){\r\n      this.bloqueo = true;\r\n      this._migracionService.layout(this.layoutForm).subscribe(\r\n        response =>{\r\n            if(response && response['status']){\r\n              this.bloqueo = false;\r\n              this.botones= true;\r\n              alertify.success(response['msg'])\r\n              this.layoutForm.get('contenido').setValue('')\r\n            }else{\r\n              this.bloqueo = false;\r\n              alertify.error(response['msg'])\r\n            }\r\n        },error =>{\r\n          console.log(<any>error)\r\n        });\r\n      }.bind(this),\r\n      function(){\r\n          alertify.error('Cancelado');\r\n      }).set('labels', {ok:'Sí', cancel:'No'});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MigracionRoutingModule } from './migracion-routing.module';\r\nimport { MigracionComponent } from './migracion.component';\r\nimport { FileUploadModule } from 'src/app/components/file-upload/file-upload.module';\r\n\r\n@NgModule({\r\n  declarations: [MigracionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MigracionRoutingModule,\r\n    FileUploadModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class MigracionModule { }","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MigracionService {\r\n  url: string;\r\n\r\n  constructor(\r\n    private _http: Http,\r\n    private _httpClient: HttpClient\r\n  ){\r\n    this.url = GLOBAL.url;\r\n   }\r\n\r\n   layout(archivo){\r\n    let formData: FormData = new FormData(); \r\n    formData.append('documento', archivo.get('contenido').value);\r\n    \r\n    var fd = new FormData();\r\n\r\n    return this._httpClient.post(this.url +'extras/excel/layout.php',formData);\r\n  }  \r\n}\r\n","import { FormControl } from '@angular/forms';\r\nimport { Archivo } from 'src/app/services/archivos';\r\n\r\n\r\n\r\nexport function requiredFileType( type: number ) {\r\n  return function ( control: FormControl ) {\r\n\r\n    let archivo = Archivo;\r\n    let tipoArchivos;\r\n    if(type == 0){\r\n      type = archivo.length-1;\r\n      tipoArchivos = archivo[type].formatos;\r\n    }else{\r\n      tipoArchivos = archivo[type].formatos;\r\n    }\r\n\r\n    \r\n\r\n    \r\n    const file = control.value;\r\n    if ( file ) {\r\n      const archivo = file.name.split('.');\r\n      var longitud = archivo.length;      \r\n      const extension = file.name.split('.')[longitud-1].toLowerCase();\r\n      if ( tipoArchivos.indexOf(extension.toLowerCase()) == -1) {\r\n        return {\r\n          requiredFileType: true\r\n        };\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  };\r\n}","/* variable sincronizada con la base de de estudydg.cat_formatos */\r\nexport var Archivo =  [\r\n  {  id: 1,nombre: \"Imagen\",formatos : \"jpg,jpeg,png,gif\"},\r\n  {  id: 2,nombre: \"Documento\",formatos : \"txt,doc,docx,pdf,odt\"},\r\n  {  id: 3,nombre: \"Presentación \",formatos : \"pptx,ppsx,pptm,ppt,pps,potx,ppam\"},\r\n  {  id: 4,nombre: \"Hoja de cálculo \",formatos : \"xlsx,xlsm,xlsb,xltx,xls,csv\"},\r\n  {  id: 5,nombre: \"Audio\",formatos : \"mp3,m4a,mp4,wav,wma\"},\r\n  {  id: 6,nombre: \"Video\",formatos : \"avi,mp4,m4v,mov,mpg,mpeg,swf\"},\r\n  {  id: 100,nombre: \"Archivo\",formatos : \"txt,doc,docx,odt,ppt,pdf,pps,jpg,jpeg,png,gif,jfif,pptx,pptm,ppt,potx,ppam,xlsx,xlsm,xlsb,xltx,XLR,mp3,m4a,mp4,wav,wma,avi,mp4, m4v, mov,mpg,mpeg,swf,wmv,zip,rar\"},\r\n];\r\n"],"sourceRoot":""}