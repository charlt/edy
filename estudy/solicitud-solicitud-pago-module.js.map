{"version":3,"sources":["webpack:///./src/app/administracion/pagos/alumnos/solicitud/solicitud-pago.module.ts","webpack:///./src/app/administracion/pagos/alumnos/solicitud/solicitud-routing.module.ts","webpack:///./src/app/administracion/pagos/alumnos/solicitud/solicitud.component.html","webpack:///./src/app/administracion/pagos/alumnos/solicitud/solicitud.component.scss","webpack:///./src/app/administracion/pagos/alumnos/solicitud/solicitud.component.ts"],"names":[],"mappings":"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","file":"solicitud-solicitud-pago-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SolicitudRoutingModule } from './solicitud-routing.module';\r\nimport { SolicitudComponent } from './solicitud.component';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\nimport { EncabezadoPersonaModule } from 'src/app/components/encabezado-persona/encabezado-persona.module';\r\n\r\n@NgModule({\r\n  declarations: [SolicitudComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SolicitudRoutingModule,\r\n    LanguageTranslationModule,\r\n    EncabezadoPersonaModule\r\n  ],\r\n  exports:[\r\n    SolicitudComponent\r\n  ]\r\n})\r\nexport class SolicitudModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SolicitudComponent as SolicitudPagoComponent  } from './solicitud.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SolicitudPagoComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SolicitudRoutingModule { }\r\n","module.exports = \"<app-encabezado-persona [idPersona]=\\\"idAlumno\\\" \\r\\n[idRol]=\\\"2\\\"></app-encabezado-persona>\\r\\n<h5 class=\\\"mt-3\\\">Pagos del alumno </h5>\\r\\n<a [routerLink]=\\\"['/admin/solicitud-pagos/nueva-colegiatura/'+idAlumno]\\\" class=\\\"btn btn-success m-3\\\"><i class=\\\"fa fa-plus\\\"></i> Agregar pago de colegiatura/reinscripción</a>\\r\\n<a [routerLink]=\\\"['/admin/solicitud-pagos/nuevo-producto/'+idAlumno]\\\" class=\\\"btn btn-success m-3\\\"><i class=\\\"fa fa-plus\\\"></i> Agregar pago de producto/servicio</a>\\r\\n\\r\\n<table class=\\\"table\\\">\\r\\n  <thead>\\r\\n    <tr>\\r\\n      <th scope=\\\"col\\\">Pago</th>\\r\\n      <th scope=\\\"col\\\">Monto</th>\\r\\n      <th scope=\\\"col\\\">Estatus del pago</th>\\r\\n      <th scope=\\\"col\\\">Fecha del pago</th>\\r\\n      <th scope=\\\"col\\\">Forma de pago</th>\\r\\n      <th scope=\\\"col\\\">Descuento</th>\\r\\n      <th scope=\\\"col\\\">Total a pagar</th>\\r\\n      <th scope=\\\"col\\\">Observación</th>\\r\\n      <th scope=\\\"col\\\">Ficha de pago</th>\\r\\n      <!--th scope=\\\"col\\\">Editar</th-->\\r\\n      <th scope=\\\"col\\\">Eliminar</th>\\r\\n    </tr>\\r\\n  </thead>\\r\\n  <tbody>\\r\\n    <tr *ngIf=\\\"pagos.length == 0\\\">\\r\\n      <td colspan=\\\"12\\\" class=\\\"text-center\\\">{{'trNotFound' | translate}}</td>\\r\\n    </tr>\\r\\n    <tr *ngFor=\\\"let pago of pagos; let i = index\\\">\\r\\n      <td>{{pago.nombre_pago}}</td>\\r\\n      <td>{{pago.monto}}</td>\\r\\n      <td>\\r\\n        <button [routerLink]=\\\"['/admin/solicitud-pagos/estatus-pago/'+pago.solicitud_pago_id]\\\" class=\\\"btn \\\" [ngClass]=\\\"{'btn-outline-success': pago.estatus_solicitud_pago_id == 3,'btn-outline-warning': pago.estatus_solicitud_pago_id == 2 ,'btn-outline-danger': pago.estatus_solicitud_pago_id == 1}\\\">{{pago.desc_estatus_solicitud_pago}}</button>\\r\\n      </td>\\r\\n      <td><span *ngIf=\\\"pago.fecha_pago && pago.fecha_pago != '0000-00-00 00:00:00'\\\">{{pago.fecha_pago | date:\\\"dd/MM/yyy hh:mm:a\\\"}}</span></td>\\r\\n      <td>{{pago.desc_forma_pago}}</td>\\r\\n      <td>\\r\\n        <span class=\\\"badge badge-success m-1\\\" *ngIf=\\\"pago.beca > 0 \\\">Beca (${{pago.beca}})</span><br>\\r\\n        <span class=\\\"badge badge-success m-1\\\" *ngIf=\\\"pago.descuento_id\\\">\\r\\n          {{pago.desc_descuento}}\\r\\n          (<span *ngIf=\\\"pago.valor == 1\\\"> $ </span>\\r\\n          {{pago.descuento}}\\r\\n          <span *ngIf=\\\"pago.valor == 2\\\"> % </span>)\\r\\n        </span>\\r\\n        <span class=\\\"badge m-1\\\" [ngClass]=\\\"pago.porcentaje < 0 ? 'badge-danger' : 'badge-success'\\\" *ngIf=\\\"pago.porcentaje != 0 \\\">\\r\\n          <span  *ngIf=\\\"pago.porcentaje < 0\\\">Recargo ${{pago.porcentaje * -1}} </span>\\r\\n          <span *ngIf=\\\"pago.porcentaje > 0\\\">Pronto pago ${{pago.porcentaje}} </span>\\r\\n        </span> <br>\\r\\n\\r\\n              \\r\\n      </td>\\r\\n      <td>{{pago.monto_final}}</td>\\r\\n      <td>{{pago.observacion}}</td>\\r\\n      <td><a *ngIf=\\\"pago.estatus_solicitud_pago_id == '3'\\\" [href]=\\\"url +'pagos/docs/ficha.php?id_solicitud_pago='+pago.solicitud_pago_id\\\"  target=\\\"_blank\\\" class=\\\"btn btn-success\\\"><i class=\\\"fa fa-file-pdf-o\\\"></i></a></td>\\r\\n      <!--td><a [routerLink]=\\\"['/admin/solicitud-pagos/edita/'+pago.solicitud_pago_id]\\\" class=\\\"btn btn-info\\\"><i class=\\\"fa fa-pencil\\\"></i></a></td-->\\r\\n      <td><button (click)=\\\"eliminar(pago.solicitud_pago_id, i)\\\" class=\\\"btn btn-danger\\\"><i class=\\\"fa fa-trash\\\"></i></button></td>    \\r\\n    </tr>\\r\\n    \\r\\n  </tbody>\\r\\n</table>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluaXN0cmFjaW9uL3BhZ29zL2FsdW1ub3Mvc29saWNpdHVkL3NvbGljaXR1ZC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PagoService } from '../../services/pago.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { GLOBAL } from 'src/app/services/global';\r\n\r\ndeclare var alertify;\r\n\r\n@Component({\r\n  selector: 'app-solicitud',\r\n  templateUrl: './solicitud.component.html',\r\n  styleUrls: ['./solicitud.component.scss']\r\n})\r\nexport class SolicitudComponent implements OnInit {\r\n\r\n  idAlumno;\r\n  pagos = [];\r\n  title;\r\n  url = GLOBAL.url;\r\n\r\n  constructor(\r\n    private _pagoService : PagoService,\r\n    private route : ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.title = \"Pagos del alumno\";\r\n    this.idAlumno = this.route.snapshot.paramMap.get('id');\r\n\r\n\r\n\r\n    \r\n    this._pagoService.consultaPagosAlumno(this.idAlumno).subscribe(\r\n      response =>{\r\n        if(response && response['status']){\r\n          this.pagos = response['pagos'];\r\n     \r\n        }else{\r\n          this.pagos = [];\r\n        }\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  \r\n  eliminar(id_solicitud_pago, index) {    \r\n    alertify.confirm('Eliminar pago', '¿Deseas eliminar el pago del alumnos?',\r\n    function(){\r\n      this._pagoService.eliminaSolicitudPago( id_solicitud_pago).subscribe(response =>{  \r\n        if(response && response['status']) {\r\n          this.pagos.splice(index,1);\r\n          alertify.success(response['msg']).dismissOthers();\r\n        }else{\r\n          alertify.error(response['msg']).dismissOthers();\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n      });\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancel');\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}