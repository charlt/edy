{"version":3,"sources":["webpack:///./src/app/administracion/alumno/services/alumno.service.ts","webpack:///./src/app/administracion/tickets/servicios/tickets.service.ts","webpack:///./src/app/components/tickets/tickets-routing.module.ts","webpack:///./src/app/components/tickets/tickets.component.html","webpack:///./src/app/components/tickets/tickets.component.scss","webpack:///./src/app/components/tickets/tickets.component.ts","webpack:///./src/app/components/tickets/tickets.module.ts","webpack:///./src/app/learning/tickets/nuevo/nuevo.component.html","webpack:///./src/app/learning/tickets/nuevo/nuevo.component.scss","webpack:///./src/app/learning/tickets/nuevo/nuevo.component.ts","webpack:///./src/app/learning/tickets/tickets-routing.module.ts","webpack:///./src/app/learning/tickets/tickets.component.html","webpack:///./src/app/learning/tickets/tickets.component.scss","webpack:///./src/app/learning/tickets/tickets.component.ts","webpack:///./src/app/learning/tickets/tickets.module.ts"],"names":[],"mappings":"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","file":"src-app-learning-tickets-tickets-module.js","sourcesContent":["import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\n\r\nimport { GLOBAL } from '../../../services/global';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlumnoService {\r\n  public url: string;\r\n  public activaConsulta= new EventEmitter();\r\n\r\n  constructor(\r\n    private _http: Http,\r\n    private _httpClient: HttpClient\r\n  ) {\r\n    this.url = GLOBAL.url;\r\n  }\r\n\r\n  consultaEspNotas(id_alumno){\r\n    var params = '?alumno_id=' + id_alumno;\r\n    return this._httpClient.get(this.url + 'controlEscolar/alumno/consultaNotasAlumno.php' + params);\r\n  }\r\n\r\n  consultaAlumnoCarrera(id_alumno){\r\n    var params = '?id_alumno=' + id_alumno;\r\n    return this._httpClient.get(this.url + 'controlEscolar/administracionAlumno/consultaOfertaAlumno.php' + params);\r\n  }\r\n\r\n  insertaOferta(id_alumno, id_plan_orden, campus_id){\r\n    let formData: FormData = new FormData();\r\n    formData.append('alumno_id', id_alumno);\r\n    formData.append('id_plan_orden', id_plan_orden);\r\n    formData.append('campus_id', campus_id);\r\n    return this._httpClient.post(this.url + 'controlEscolar/administracionAlumno/agregaOferta.php', formData);\r\n  }\r\n\r\n  eliminaOferta(id_plan_orden, id_alumno){\r\n    var params = '?id_plan_orden=' + id_plan_orden;\r\n        params += '&alumno_id=' + id_alumno;\r\n    return this._httpClient.get(this.url + 'controlEscolar/administracionAlumno/eliminaOferta.php' + params);\r\n  }\r\n\r\n  consultaTicketsHeader(id_ticket) {\r\n    var params = '?id_ticket=' + id_ticket;\r\n    // params += '&id_rol=' + 2;\r\n\r\n    return this._httpClient.get(this.url + 'controlEscolar/tickets/consultaTicket.php' + params);\r\n  }\r\n\r\n  consultaAccesos(id_persona) {\r\n    var params = '?id_persona=' + id_persona;\r\n\r\n    return this._httpClient.get(this.url + 'general/usuario/consultaAccesos.php' + params);\r\n  }\r\n\r\n  consultaTicketAlumno(id_persona, id_rol) {\r\n    var params = '?id_persona=' + id_persona;\r\n    params += '&id_rol=' + id_rol;\r\n\r\n    return this._httpClient.get(this.url + 'general/tickets/consultaUsuario.php' + params);\r\n  }\r\n\r\n\r\n\r\n  consultaEspecifica(id, jwt) {\r\n    var params = '?id_alumno=' + id;\r\n    return this._httpClient.get(this.url + '/controlEscolar/alumno/consulta.php' + params);\r\n  }\r\n\r\n  elimina(id, jwt) {\r\n    var params = '?id_alumno=' + id;\r\n    return this._httpClient.get(this.url + 'controlEscolar/alumno/elimina.php' + params);\r\n  }\r\n\r\n  modificaAlumnoOld(alumno, jwt, id_alumno) {\r\n\r\n    let formData: FormData = new FormData();\r\n    // console.log(alumno)\r\n    formData.append('alumno_nombre', alumno.get('nombreAlumno').value);\r\n    formData.append('alumno_primer_apellido', alumno.get('apPatAlumno').value);\r\n    formData.append('alumno_segundo_apellido', alumno.get('apMatAlumno').value);\r\n    formData.append('clave_alumno', alumno.get('claveAlumno').value);\r\n    formData.append('sexo_id', alumno.get('sexoAlumno').value);\r\n    formData.append('fecha_nacimiento', alumno.get('nacimientoAlumno').value);\r\n    formData.append('correo', alumno.get('correoAlumno').value);\r\n    formData.append('telefono_1', alumno.get('tel1Alumno').value);\r\n    formData.append('telefono_2', alumno.get('tel2Alumno').value);\r\n    formData.append('celular', alumno.get('celularAlumno').value);\r\n    formData.append('rfc', alumno.get('rfcAlumno').value);\r\n    formData.append('curp', alumno.get('curpAlumno').value);\r\n    formData.append('cedula_profesional', alumno.get('cedulaAlumno').value);\r\n\r\n    var fd = new FormData();\r\n\r\n    if (id_alumno == null) {// INSERTA UN NUEVO REGISTRO\r\n      return this._httpClient.post(this.url + 'controlEscolar/alumno/crea.php', formData);\r\n    } else {\r\n      formData.append('alumno_id', id_alumno);\r\n      return this._httpClient.post(this.url + 'controlEscolar/alumno/edita.php', formData);\r\n    }\r\n  }\r\n\r\n  consultaAlumno(jwt, id_rol, busqueda, min, max, tipoForm) {\r\n    var params = '?busqueda=' + busqueda;\r\n    params += '&tipo_busqueda=' + tipoForm;\r\n    params += '&id_rol=' + id_rol;\r\n    params += '&min=' + min;\r\n    params += '&max=' + max;\r\n    return this._httpClient.get(this.url + '/controlEscolar/alumno/busqueda_alumno.php' + params);\r\n  }\r\n\r\n  consultaCurp(curp, jwt) {\r\n    var params = '?curp=' + curp;\r\n\r\n    return this._httpClient.get(this.url + '/controlEscolar/alumno/consulta_curp.php' + params);\r\n  }\r\n\r\n  consultaCedula(id_alumno, jwt) {\r\n    var params = '?id_alumno=' + id_alumno;\r\n\r\n    return this._httpClient.get(this.url + '/controlEscolar/alumno/consulta.php' + params);\r\n  }\r\n\r\n\r\n  modificaAlumno(cedulaForm, jwt, id) {\r\n    let formData: FormData = new FormData();\r\n    formData.append('cedula_profesional', '');\r\n    formData.append('clave_alumno', cedulaForm.get('clave').value);\r\n    formData.append('id_persona', id);\r\n    var fd = new FormData();\r\n\r\n    return this._httpClient.post(this.url + 'controlEscolar/alumno/creaSimple.php', formData);\r\n  }\r\n\r\n  cambiaOferta(jwt, id_plan_orden, alumno_id) {\r\n    var params = '?id_plan_orden=' + id_plan_orden;\r\n    params += '&alumno_id=' + alumno_id;\r\n\r\n    return this._httpClient.get(this.url + 'controlEscolar/administracionAlumno/cambiaOferta.php' + params);\r\n  }\r\n\r\n  getTotalAlumnos(jwt) {\r\n    return this._httpClient.get(this.url + 'controlEscolar/alumno/totalAlumnos.php');\r\n  }\r\n\r\n  getMatricula(jwt) {\r\n    return this._httpClient.get(this.url + 'controlEscolar/matricula/consulta.php');\r\n  }\r\n\r\n  getSituacion(jwt) {\r\n    return this._httpClient.get(this.url + 'catalogosCE/situacionAlumno.php');\r\n  }\r\n\r\n  creaAlumno(jwt, form) {\r\n    let formData: FormData = new FormData();\r\n    for (let [name, value] of form) {\r\n      if (name == 'envia_correo') {\r\n        if (value == false || value == 'false') {\r\n          value = 0;\r\n        } else if (value == true || value == 'true') {\r\n          value = 1;\r\n        }\r\n      }\r\n      formData.append(name, value);\r\n    }\r\n    formData.append('nombre_usuario', '');\r\n    formData.append('password', '');\r\n\r\n    return this._httpClient.post(this.url + 'controlEscolar/alumno/crea.php', formData);\r\n  }\r\n\r\n  cambiaSituacion( form, id_alumno,id_area) {\r\n    let formData: FormData = new FormData();\r\n    formData.append('estatus', form.situacion);\r\n    formData.append('id_alumno', id_alumno);\r\n    formData.append('id_area', id_area);\r\n    formData.append('observacion', form.observacion? form.observacion: '');\r\n\r\n    return this._httpClient.post(this.url + 'controlEscolar/administracionAlumno/cambiaSituacionAlumno.php', formData);\r\n  }\r\n\r\n  rollBack(id_usuario){\r\n    let formData: FormData = new FormData();\r\n    formData.append('id_usuario', id_usuario);\r\n\r\n    return this._httpClient.post(this.url + 'controlEscolar/alumno/rollbackAspirante.php', formData);\r\n  }\r\n\r\n  getPendientes() {\r\n    let params = new HttpParams();\r\n    return this._httpClient.get(this.url + 'controlEscolar/pendientes/alumnos.php', {params: params});\r\n  }\r\n \r\n  busquedaFiltro(filtros, inicio, fin) {\r\n    let params = new HttpParams() \r\n      .set('min', inicio)\r\n      .set('max', fin);\r\n\r\n    filtros.forEach(filtro => {\r\n      params = params.set(filtro.key, filtro.value);\r\n    });\r\n\r\n    return this._httpClient.get(this.url + 'controlEscolar/alumno/busquedaAlumnoFiltro.php', {params: params})\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { GLOBAL } from \"src/app/services/global\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TicketsService {\r\n\r\n  url: string = GLOBAL.url;\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) { }\r\n\r\n  getConteoTickets() {\r\n    return this.httpClient.get(this.url + 'controlEscolar/tickets/conteoEstatusTicket.php');\r\n  }\r\n\r\n  consultaTipoTicket() {\r\n    return this.httpClient.get(this.url + '/catalogosCE/consultaTipoTiket.php');\r\n  }\r\n\r\n  consultaTicket(id_estatus) {\r\n    let params = new HttpParams()\r\n      .set('id_estatus_ticket', id_estatus);\r\n    \r\n    return this.httpClient.get(this.url + 'controlEscolar/tickets/consultaPorEstatus.php', { params: params });\r\n  }\r\n\r\n  consultaPorTicket(id_ticket) {\r\n    let params = new HttpParams()\r\n      .set('id_ticket', id_ticket);\r\n\r\n    return this.httpClient.get(this.url + 'controlEscolar/tickets/consultaTicket.php', { params: params });\r\n  }\r\n\r\n  consultaRespuestas(id_ticket) {\r\n    let params = new HttpParams()\r\n      .set('id_ticket', id_ticket);\r\n\r\n    return this.httpClient.get(this.url + 'controlEscolar/tickets/consultaRespuestas.php', { params: params });\r\n  }\r\n\r\n  guardarRespuesta(id_ticket, form) {    \r\n    let formData = new FormData();\r\n      formData.append('id_ticket', id_ticket);\r\n      formData.append('texto', form.texto);\r\n\r\n    return this.httpClient.post(this.url + 'controlEscolar/tickets/creaRespuesta.php', formData);\r\n  }\r\n\r\n  guardaTicketCorreccion(form, idPersona, idRol, idRolUsuario) {\r\n    let formData: FormData = new FormData();    \r\n    formData.append('asunto_ticket', form.asunto);\r\n    formData.append('descripcion_ticket', form.mensaje);\r\n    formData.append('id_tipo_ticket', form.tipoTicket);\r\n    if (idRol == 1) {\r\n      formData.append('id_persona', idPersona);\r\n      formData.append('id_rol', idRolUsuario);\r\n      formData.append('id_area', '1');\r\n      formData.append('id_rol_admin', idRol);\r\n      return this.httpClient.post(this.url + 'controlEscolar/tickets/crearNotificacion.php', formData);\r\n    }else if (idRol == 2) {\r\n      return this.httpClient.post(this.url + 'controlEscolar/tickets/crearTicket.php', formData);\r\n    }\r\n  }\r\n\r\n  ticketVisto(id_ticket){\r\n\r\n    var params = '?id_ticket='+id_ticket;\r\n  \r\n    return this.httpClient.get(this.url +'general/tickets/ticketVisto.php'+params);\r\n  }\r\n\r\n  cerrarTicket(id_ticket) {\r\n    let formData = new FormData();\r\n      formData.append('id_ticket', id_ticket);\r\n    return this.httpClient.post(this.url +'controlEscolar/tickets/cerrarTicket.php', formData);\r\n  }\r\n\r\n  eliminarTicket(id_ticket) {\r\n    let formData = new FormData();\r\n      formData.append('id_ticket', id_ticket);\r\n    return this.httpClient.post(this.url +'controlEscolar/tickets/eliminarTicket.php', formData);\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TicketsComponent } from './tickets.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: TicketsComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TicketsRoutingModule { }\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n    \\r\\n    <div class=\\\"container p-4 border rounded\\\" *ngIf=\\\"Ticket\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n        <h5> {{Ticket.asunto_ticket}}</h5>\\r\\n        <p>{{Ticket.descripcion_ticket}}</p> \\r\\n        </div>\\r\\n      </div>\\r\\n      <!-- <div class=\\\"py-2\\\" *ngIf=\\\"Respuestas\\\">\\r\\n        <b>Respuestas:</b>\\r\\n        <div *ngFor=\\\"let respuesta of Respuestas\\\">\\r\\n          <div class=\\\"alert alert-secondary\\\" role=\\\"alert\\\" *ngIf=\\\"respuesta.rol_id == 2\\\">\\r\\n            <small class=\\\"pull-right\\\">{{respuesta.fecha_creacion | date: 'dd/MM/yyyy hh:mm a'}}</small>\\r\\n            <p class=\\\"m-0 p-0\\\">{{respuesta.texto}}</p>\\r\\n          </div>\\r\\n          <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\" *ngIf=\\\"respuesta.rol_id == 1\\\">\\r\\n            <small class=\\\"pull-right\\\">{{respuesta.fecha_creacion | date: 'dd/MM/yyyy hh:mm a'}}</small>\\r\\n            <p class=\\\"m-0 p-0\\\">{{respuesta.texto}}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div> -->\\r\\n      <div class=\\\"py-2\\\" *ngIf=\\\"Respuestas\\\">\\r\\n        <b>Respuestas:</b>\\r\\n        <div *ngFor=\\\"let respuesta of Respuestas\\\">\\r\\n          <div class=\\\"alert\\\" [ngClass]=\\\"((idRol == 2 || idRol == 4) && respuesta.rol_id == 1)? \\r\\n            'alert-secondary': ((idRol == 2 && respuesta.rol_id == 2) || idRol == 4 && respuesta.rol_id == 4)? 'alert-primary' : ''\\\" role=\\\"alert\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-12 my-0 py-0\\\">\\r\\n                <small class=\\\"m-0 p-0 pull-right\\\">{{respuesta.fecha_creacion | date: 'dd/MM/yyyy hh:mm a'}}</small>\\r\\n              </div>\\r\\n              <div class=\\\"col-12 my-0 py-0\\\">\\r\\n                <p class=\\\"m-0 p-0\\\">{{respuesta.texto}}</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <label *ngIf=\\\"!responder\\\"><input type=\\\"checkbox\\\" [(ngModel)]=\\\"responder\\\" [value]=\\\"1\\\" >Responder:</label>\\r\\n      <label *ngIf=\\\"responder\\\">Responder:</label>\\r\\n      <div class=\\\"mb-5 pb-1\\\" *ngIf=\\\"responder\\\">\\r\\n        <form [formGroup]=\\\"ticketsForm\\\" (ngSubmit)=\\\"guardaRespuesta()\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              \\r\\n              <textarea formControlName=\\\"texto\\\" placeholder=\\\"Escribe texto\\\" class=\\\"form-control\\\" rows=\\\"5\\\"></textarea>\\r\\n            </div>\\r\\n            <!--button class=\\\"btn btn-warning btn-small\\\"><i class=\\\"fa fa-minus-square fa-2x\\\"></i> Cerrar ticket</button-->\\r\\n            <button type=\\\"submit\\\" [disabled]=\\\"ticketsForm.invalid\\\" class=\\\"btn btn-success pull-right mt-2\\\">Enviar respuesta</button>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdGlja2V0cy90aWNrZXRzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { TicketsService } from 'src/app/administracion/tickets/servicios/tickets.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { AlumnoService } from 'src/app/administracion/alumno/services/alumno.service';\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'app-tickets-component',\r\n  templateUrl: './tickets.component.html',\r\n  styleUrls: ['./tickets.component.scss']\r\n})\r\nexport class TicketsComponent implements OnInit {\r\n\r\n  @Input() idTicket: any;\r\n  Respuestas: any;\r\n  Ticket: any;\r\n  ticketsForm: FormGroup\r\n  responder = 0;\r\n  idRol: any;\r\n\r\n  constructor(\r\n    private _ticketsService: TicketsService,\r\n    private route: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private modalService: NgbModal,\r\n    private _usuarioService: UsuarioService,\r\n    private _alumnoService: AlumnoService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.ticketsForm = this.formBuilder.group({\r\n      texto: ['', Validators.required]\r\n    });\r\n    this.idRol = this._usuarioService.getRol().rol_id;\r\n    if (this.route.snapshot.paramMap.get('id_ticket')) {\r\n      this.idTicket = this.route.snapshot.paramMap.get('id_ticket'); \r\n    }\r\n    this._ticketsService.consultaPorTicket(this.idTicket).subscribe(response => {       \r\n      if (response && response['status']) {  \r\n        this.Ticket = response['ticket'][0]; \r\n        if(this.Ticket.estatus_ticket_id != \"5\" || this.Ticket.estatus_ticket_id != \"4\")\r\n          this.responder = 1;\r\n        this._ticketsService.consultaRespuestas(this.idTicket).subscribe(response => { \r\n          if (response && response['status']) {\r\n            this.Respuestas = response['Respuestas'];            \r\n          }\r\n        }, error => {\r\n          console.log(<any>error);\r\n        });\r\n\r\n        if(this.idRol != 1){\r\n          this.ticketVisto(this.idTicket);\r\n        }\r\n      }\r\n    }, error => {\r\n      console.log(<any>error);\r\n    }); \r\n  }\r\n\r\n  guardaRespuesta() {\r\n    let form = this.ticketsForm.value;\r\n    this._ticketsService.guardarRespuesta(this.idTicket, form).subscribe(response => {  \r\n      if (response && response['status']) {\r\n        this.modalService.dismissAll();\r\n        alertify.success(response['msg']).dismissOthers();\r\n        this._alumnoService.activaConsulta.emit('1');\r\n        this.ticketVisto(this.idTicket);\r\n      }\r\n    }, error => {\r\n      console.log(<any>error);\r\n    });\r\n  }\r\n\r\n  ticketVisto(id_ticket){\r\n    this._ticketsService.ticketVisto(id_ticket).subscribe(response => {            \r\n      if (response && response['status']) {\r\n        }\r\n    }, error => {\r\n        console.log(<any>error);\r\n    });\r\n\r\n  }\r\n\r\n       \r\n   \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TicketsRoutingModule } from './tickets-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TicketsComponent } from './tickets.component';\r\n\r\n@NgModule({\r\n  declarations: [TicketsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TicketsRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [TicketsComponent]\r\n})\r\nexport class TicketsModule { }\r\n","module.exports = \"<app-tickets-alumno></app-tickets-alumno>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xlYXJuaW5nL3RpY2tldHMvbnVldm8vbnVldm8uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-nuevo',\r\n  templateUrl: './nuevo.component.html',\r\n  styleUrls: ['./nuevo.component.scss']\r\n})\r\nexport class NuevoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TicketsComponent } from './tickets.component';\r\nimport { NuevoComponent } from './nuevo/nuevo.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: TicketsComponent },\r\n  { path: 'nuevo', component: NuevoComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TicketsRoutingModule { }\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <h4>Notificaciones y tickets</h4>\\r\\n    <!-- <app-encabezado-persona [idPersona]=\\\"idPersona\\\" [idRol]=\\\"'2'\\\"></app-encabezado-persona> -->\\r\\n    <a *ngIf=\\\"idRol != 4\\\" class=\\\"btn btn-success\\\" [routerLink]=\\\"['./nuevo']\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> Crear ticket</a>\\r\\n    <br *ngIf=\\\"idRol != 4\\\"><br>\\r\\n    <table class=\\\"table table-bordered\\\">\\r\\n      <thead class=\\\"thead-light\\\">\\r\\n        <tr>\\r\\n          <th>Asunto</th>\\r\\n          <th>Descripción</th>\\r\\n          <th>Fecha envío</th>\\r\\n          <th>Tipo ticket</th>\\r\\n          <!--th>Estatus ticket</th-->\\r\\n          <th>Responder</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let ticket of tickets; let i = index;\\\">\\r\\n          <td>{{ticket.asunto_ticket}}</td>\\r\\n          <td>{{ticket.descripcion_ticket}}</td>\\r\\n          <td>{{ticket.fecha_creacion | date: \\\"dd/MM/yyyy\\\"}} {{ticket.fecha_creacion | date: \\\"shortTime\\\"}}</td>\\r\\n          <td>{{ticket.tipo_ticket}}</td>\\r\\n          <!--td>{{ticket.estatus_ticket}}</td-->\\r\\n          <td class=\\\"text-center\\\">\\r\\n            <button *ngIf=\\\"ticket.estatus_ticket_id != 4\\\" class=\\\"btn btn-primary\\\" (click)=\\\"open(content, ticket)\\\">\\r\\n              <i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\r\\n            </button>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <ng-template #content let-modal>\\r\\n    <div class=\\\"modal-body p-3\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"close()\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n      <app-tickets-component *ngIf=\\\"seleccionado\\\" [idTicket]=\\\"seleccionado.ticket_id\\\"></app-tickets-component>\\r\\n    </div>\\r\\n  </ng-template>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xlYXJuaW5nL3RpY2tldHMvdGlja2V0cy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { TicketsService } from 'src/app/administracion/tickets/servicios/tickets.service';\r\nimport { AlumnoService } from 'src/app/administracion/alumno/services/alumno.service';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-tickets',\r\n  templateUrl: './tickets.component.html',\r\n  styleUrls: ['./tickets.component.scss']\r\n})\r\nexport class TicketsComponent implements OnInit {\r\n\r\n  idPersona: any;\r\n  idSelectedTicket;\r\n  tickets: any;\r\n  seleccionado: any;\r\n  public id_aviso;\r\n  idRol: any;\r\n\r\n  @ViewChild('content') modalTickets: NgbModalRef;\r\n\r\n  constructor(\r\n    private _alumnosService: AlumnoService,\r\n    private _usuarioService: UsuarioService,\r\n    private modalService: NgbModal,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (localStorage.getItem('prevUrl')) localStorage.removeItem('prevUrl');\r\n    localStorage.setItem('prevUrl', this._router.url);  \r\n    this.idRol = this._usuarioService.getRol().rol_id;\r\n    this.idPersona = this._usuarioService.getIdentity().persona_id;\r\n    this.idSelectedTicket = this._route.snapshot.params['id'];\r\n    this.consultaTickets();\r\n  }\r\n\r\n  consultaTickets(){\r\n    this._alumnosService.consultaTicketAlumno(this.idPersona, this.idRol).subscribe(\r\n      response =>{\r\n          let seleccionado;\r\n          if(response && response['status']){\r\n            this.tickets = response['tickets'];\r\n            this.tickets.forEach(function(_ticket) {\r\n              _ticket.fecha_creacion = new Date((_ticket.fecha_creacion)*1000);\r\n              if(this.idSelectedTicket && this.idSelectedTicket == _ticket.ticket_id){\r\n                seleccionado = _ticket;\r\n              }              \r\n            }.bind(this));\r\n            if(seleccionado) this.open(this.modalTickets,seleccionado);\r\n          }\r\n      },error =>{\r\n        console.log(<any>error)\r\n      });\r\n  }\r\n\r\n  open(content, ticket) {    \r\n    this.seleccionado = ticket;\r\n    this.modalService.open(content, {size: 'lg', backdrop: 'static', keyboard: false});\r\n  }\r\n\r\n  close(){\r\n    this.modalService.dismissAll();\r\n    this._alumnosService.activaConsulta.emit('1');\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TicketsRoutingModule } from './tickets-routing.module';\r\nimport { TicketsComponent } from './tickets.component';\r\nimport { TicketsModule as TicketsComponentModule } from \"src/app/components/tickets/tickets.module\";\r\nimport { NuevoComponent } from './nuevo/nuevo.component';\r\nimport { TicketsAlumnoModule } from 'src/app/administracion/alumno/tickets-alumno/tickets-alumno.module';\r\n\r\n@NgModule({\r\n  declarations: [TicketsComponent, NuevoComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TicketsRoutingModule,\r\n    TicketsComponentModule,\r\n    TicketsAlumnoModule\r\n  ],\r\n  exports: [TicketsComponent]\r\n})\r\nexport class TicketsModule { }\r\n"],"sourceRoot":""}