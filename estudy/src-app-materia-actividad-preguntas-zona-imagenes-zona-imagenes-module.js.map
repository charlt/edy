{"version":3,"sources":["webpack:///./src/app/materia/actividad/preguntas/zona-imagenes/zona-imagenes.component.html","webpack:///./src/app/materia/actividad/preguntas/zona-imagenes/zona-imagenes.component.scss","webpack:///./src/app/materia/actividad/preguntas/zona-imagenes/zona-imagenes.component.ts","webpack:///./src/app/materia/actividad/preguntas/zona-imagenes/zona-imagenes.module.ts"],"names":[],"mappings":"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","file":"src-app-materia-actividad-preguntas-zona-imagenes-zona-imagenes-module.js","sourcesContent":["module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col col-xl-12 col-lg-12\\\" [hidden]=\\\"edicion == 0 && !hayRespuesta\\\">\\r\\n\\r\\n    <div class=\\\"row container-cards\\\" *ngIf=\\\"reactivos\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-3 mt-3\\\" *ngFor=\\\"let reactivo of reactivos; let i = index\\\">\\r\\n            <div class=\\\"card card-estudy text-black p-2\\\" [style.borderColor]=\\\"reactivo.color\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-1 mt-3\\\">\\r\\n                  <h3>{{i + 1}}</h3>\\r\\n              </div>       \\r\\n              <div class=\\\"col\\\">     \\r\\n                <blockquote class=\\\" mb-0\\\">\\r\\n                  <small>{{reactivo.reactivo_desc}}</small>\\r\\n                </blockquote>\\r\\n              </div>            \\r\\n              </div>\\r\\n            </div> \\r\\n          </div> \\r\\n        </div>\\r\\n      </div>\\r\\n    </div>  \\r\\n    <hr *ngIf=\\\"reactivos\\\">\\r\\n    <div class=\\\"row justify-content-md-center\\\" [hidden]=\\\"edicion == 0 && !hayRespuesta\\\">\\r\\n      <canvas #myImage id=\\\"{{tipo}}\\\" [hidden]=\\\"hideImage\\\" (click)=\\\"edicion == 1? drawCircle(0, $event): true\\\"></canvas>\\r\\n    </div>\\r\\n    <br> \\r\\n    <div class=\\\"row\\\" *ngIf=\\\"edicion == 1 && reactivos\\\">\\r\\n      <div class=\\\"col\\\">\\r\\n        <button class=\\\"btn btn-danger\\\" type=\\\"button\\\" (click)=\\\"cleanCanvas()\\\">Borrar selección</button>  \\r\\n      </div>    \\r\\n      <!-- <div class=\\\"col\\\">\\r\\n        <button class=\\\"btn btn-success pull-right\\\" (click)=\\\"guardarSeleccion()\\\">Guardar selección</button>\\r\\n      </div> -->\\r\\n    </div> \\r\\n    <br>          \\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"!edicion && !intentosRestantes\\\">\\r\\n    <button class=\\\"btn btn-primary pull-right\\\" (click)=\\\"open(content)\\\">Ver respuestas</button>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"container\\\" *ngIf=\\\"edicion == 0 && !hayRespuesta\\\">\\r\\n    <div class=\\\"alert alert-secondary mt-3\\\">No se puede responder la pregunta.</div>\\r\\n</div>  \\r\\n\\r\\n<div class=\\\"row\\\" *ngIf=\\\"!reactivos\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n      <div class=\\\"alert alert-danger\\\">No se han cargado reactivos en la pregunta</div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-sm-12\\\">\\r\\n    <ng-template #content>\\r\\n      <div class=\\\"modal-header\\\">\\r\\n        <h4 class=\\\"modal-title\\\">Respuestas</h4>\\r\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"close()\\\">\\r\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div class=\\\"modal-body\\\">\\r\\n        <div class=\\\"row justify-content-md-center\\\">\\r\\n          <canvas id=\\\"resultado\\\"></canvas>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"close()\\\">Cerrar</button>\\r\\n      </div>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","module.exports = \"#canvas {\\n  cursor: crosshair; }\\n\\n.container-cards {\\n  margin-bottom: 10px; }\\n\\n.card-zona {\\n  border: 4px solid; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWF0ZXJpYS9hY3RpdmlkYWQvcHJlZ3VudGFzL3pvbmEtaW1hZ2VuZXMvQzpcXHhhbXBwMVxcaHRkb2NzXFxlc3R1ZHlfbmV3XFxmcm9udEVzdHVkeS9zcmNcXGFwcFxcbWF0ZXJpYVxcYWN0aXZpZGFkXFxwcmVndW50YXNcXHpvbmEtaW1hZ2VuZXNcXHpvbmEtaW1hZ2VuZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBaUIsRUFDcEI7O0FBQ0Q7RUFDSSxvQkFBbUIsRUFDdEI7O0FBQ0Q7RUFDSSxrQkFBaUIsRUFDcEIiLCJmaWxlIjoic3JjL2FwcC9tYXRlcmlhL2FjdGl2aWRhZC9wcmVndW50YXMvem9uYS1pbWFnZW5lcy96b25hLWltYWdlbmVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NhbnZhc3tcclxuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xyXG59XHJcbi5jb250YWluZXItY2FyZHN7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcbi5jYXJkLXpvbmF7XHJcbiAgICBib3JkZXI6IDRweCBzb2xpZDtcclxufSJdfQ== */\"","import { Component, ViewChild, Input, OnInit, OnChanges, EventEmitter, Output } from '@angular/core';\r\nimport { UsuarioService } from 'src/app/services/usuario.service';\r\nimport { GLOBAL } from 'src/app/services/global';\r\nimport { ZonaImagenesService } from 'src/app/administracion/carga-actividades/services/zona-imagenes.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'respuesta-zona-imagenes',\r\n  templateUrl: './zona-imagenes.component.html',\r\n  styleUrls: ['./zona-imagenes.component.scss']\r\n})\r\nexport class ZonaImagenesComponent implements OnInit,OnChanges {\r\n\r\n  Data: any;\r\n  title: string;\r\n  jwt: string;\r\n  width: number;\r\n  height: number; \r\n  public url: string;\r\n  canvas: HTMLCanvasElement;\r\n  x: number;\r\n  y: number;\r\n  hideImage: boolean = true;\r\n  arrayRespuestas = [];\r\n  reactivos: any;\r\n  contenidoPregunta: any;\r\n  indexReactivos: number = 0;\r\n  bandera: boolean = false;\r\n  tipo: string;\r\n  hayRespuesta: boolean = false;\r\n  resultado;\r\n\r\n  idPregunta;\r\n\r\n  @ViewChild(\"myImage\") myImage;\r\n  @ViewChild('myResult') myResult;\r\n\r\n  pregunta;\r\n  idMateriaFechaActividad;\r\n  edicion;\r\n  intentosRestantes;\r\n  @Output() actividadCargada = new EventEmitter();\r\n\r\n  constructor(\r\n    private _usuarioService: UsuarioService,\r\n    private _zonaImagenesService: ZonaImagenesService,\r\n    private modalService: NgbModal\r\n    ) { \r\n  \tthis.title=\"Ejercicio 2. Zonas de imágenes\";\r\n    this._usuarioService.pushBreadcum(this.title,'',2); \r\n    this.url = GLOBAL.urlAssets;\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.pregunta = this.Data.pregunta;\r\n    this.edicion = this.Data.edicion;\r\n    this.idMateriaFechaActividad = this.Data.idMateriaFechaActividad;\r\n    this.intentosRestantes = this.Data.intentosRestantes;\r\n\r\n    this.indexReactivos = 0;\r\n    this.jwt = this._usuarioService.getJWT();\r\n    this.idPregunta = this.pregunta.pregunta_id;\r\n    this.getDatos();\r\n  }\r\n\r\n  ngOnChanges(){\r\n    this.indexReactivos = 0;\r\n    this.getDatos();\r\n  }\r\n  \r\n  getDatos(){\r\n    let datosReactivos = this.pregunta.arreglo_reactivos;        \r\n\r\n    if (this.edicion == 1) {\r\n      this.tipo = 'canvas';\r\n    }else if (this.edicion == 0) {\r\n      this.tipo = 'resultadoCanvas';\r\n    }\r\n    this.canvas = this.myImage.nativeElement;\r\n\r\n    if (datosReactivos.reactivos) { \r\n      window.scrollTo(0,0);\r\n      this.reactivos = datosReactivos.reactivos;\r\n      this.contenidoPregunta = datosReactivos.contenidoPregunta; \r\n      this.showImage(0);\r\n      this.reactivos.forEach(reactivo => {\r\n        if (reactivo.respuesta) {\r\n          this.drawCircle(1, reactivo.respuesta);\r\n          this.hayRespuesta = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.actividadCargada.emit(this.pregunta.datos_pregunta_id);\r\n    }, 1);\r\n\r\n    // this._zonaImagenesService.consultaZonaImagenes(this.idPregunta, this.jwt,this.idMateriaFechaActividad).subscribe(\r\n    //   response =>{\r\n    //     window.scrollTo(0,0)\r\n    //     if(response && response['status']){\r\n    //       this.reactivos = response['reactivos'];\r\n    //       this.contenidoPregunta = response['contenidoPregunta'];  \r\n    //       this.showImage(0);\r\n    //       this.reactivos.forEach(reactivo => {\r\n    //         if (reactivo.respuesta) {\r\n    //           this.drawCircle(1, reactivo.respuesta);\r\n    //           this.hayRespuesta = true;\r\n    //         }\r\n    //       });\r\n    //     }\r\n    //     this.actividadCargada.emit(this.pregunta.datos_pregunta_id);\r\n    //   },error =>{\r\n    //     console.log(<any>error)\r\n    //   }); \r\n  }\r\n\r\n  showImage(id) {  \r\n    let imgCanvas, ctx;\r\n    if (id == 0) {\r\n      imgCanvas = this.myImage.nativeElement;\r\n      this.hideImage = false;\r\n    }else if (id == 1) {\r\n      imgCanvas = <HTMLCanvasElement> document.getElementById(\"resultado\");\r\n    }\r\n    //SE USA PARA PINTAR LOS RECTÁNGULOS QUE FUERON SELECCIONADOS.\r\n    // let ClientRect = this.myImage.nativeElement.getBoundingClientRect();\r\n\r\n    // for (let i = 0; i < this.reactivos.length; i++) {\r\n    //   this.x = Math.round(ClientRect.left) + parseInt(this.reactivos[i].posicion_x);\r\n    //   this.y = Math.round(ClientRect.left) + parseInt(this.reactivos[i].posicion_y);     \r\n    //   this.width = parseInt(this.reactivos[i].ancho);\r\n    //   this.height = parseInt(this.reactivos[i].alto); \r\n    //   // ctx.restore(); \r\n    //   ctx.strokeStyle = 'rgba(255, 0, 0, 1)';\r\n    //   ctx.rect(this.x, this.y, this.width, this.height);\r\n    //   ctx.stroke();\r\n    //   // ctx.save();   \r\n    //   // ctx.clip();  \r\n    // } \r\n    ctx = imgCanvas.getContext('2d'); \r\n    ctx.clearRect(0 , 0, ctx.width, ctx.height);  \r\n    imgCanvas.width = this.contenidoPregunta.imagen_ancho;\r\n    imgCanvas.height = this.contenidoPregunta.imagen_alto;\r\n    imgCanvas.style.background = \"url(\"+this.url + this.contenidoPregunta.imagen+\")\";      \r\n   }       \r\n\r\n  cleanCanvas(){\r\n    let context = this.canvas.getContext('2d');\r\n    context.clearRect(0 , 0, this.canvas.width, this.canvas.height);  \r\n    this.indexReactivos = 0; \r\n    this.eliminaSeleccion();\r\n  }\r\n\r\n  drawCircle(id, evt: any){\r\n    let x,y,color;\r\n    var ClientRect, ctx;\r\n    if (id == 0 || id == 1) {\r\n      ClientRect = this.canvas.getBoundingClientRect();\r\n      ctx = this.canvas.getContext('2d');\r\n    }else if (id == 2) {\r\n      ClientRect = document.getElementById(\"resultado\").getBoundingClientRect();\r\n      let canvas = <HTMLCanvasElement> document.getElementById('resultado');\r\n      ctx = canvas.getContext('2d');\r\n    }\r\n    if (this.indexReactivos < this.reactivos.length) {    \r\n      if (id == 0 && this.edicion == 1) {\r\n        x = Math.round(evt.clientX - ClientRect.left);\r\n        y = Math.round(evt.clientY - ClientRect.top);\r\n        let respuesta = [];\r\n        let reactivo = this.reactivos[this.indexReactivos];\r\n        respuesta.push({id_reactivo: reactivo.reactivo_id, posicion_x: x, posicion_y: y});\r\n        this.guardarSeleccion(respuesta);\r\n      }else if (id == 1) {\r\n        x = evt.posicion_x;\r\n        y = evt.posicion_y;\r\n      }else if (id == 2) {\r\n        x = parseInt(evt.posicion_x) + (parseInt(evt.ancho) / 2)\r\n        y = parseInt(evt.posicion_y) + (parseInt(evt.alto) / 2)\r\n      }\r\n      this.bandera = true;\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = 'black';\r\n      ctx.arc(x, y, 20, 0, 2 * Math.PI);\r\n      if (id == 0 || id == 1 && this.edicion == 1) {\r\n        ctx.fillStyle = this.reactivos[this.indexReactivos].color;\r\n        color = 'black';\r\n      }else if (id == 1 && this.edicion == 0) {\r\n        color = 'white';\r\n        let reactivo = this.reactivos.find(respuesta => respuesta.reactivo_id == evt.reactivo_id);\r\n        let xInicio = parseInt(reactivo.posicion_x);\r\n        let xFinal = parseInt(reactivo.posicion_x) + parseInt(reactivo.ancho);\r\n        let yInicio = parseInt(reactivo.posicion_y);\r\n        let yFinal = parseInt(reactivo.posicion_y) + parseInt(reactivo.alto);\r\n        if (\r\n            (\r\n              (xInicio < xFinal && x > xInicio && x < xFinal) ||\r\n              (xInicio > xFinal && x < xInicio && x > xFinal)\r\n            ) &&\r\n            (\r\n              (yInicio < yFinal && y > yInicio && y <yFinal) ||\r\n              (yInicio > yFinal && y < yInicio && y > yFinal)\r\n            )\r\n          ){\r\n            ctx.fillStyle = 'mediumseagreen';\r\n          }else{\r\n            // ctx.fillStyle = 'crimson';\r\n            ctx.fillStyle = 'lightgray';\r\n          }\r\n      }else if (id == 2) {\r\n        ctx.fillStyle = this.reactivos[this.indexReactivos].color;\r\n        color = 'black';\r\n      }\r\n      ctx.fill();\r\n      ctx.stroke();  \r\n\r\n      let texto = (this.indexReactivos + 1).toString();\r\n      let yTexto = parseInt(y) + 10;\r\n      ctx.textAlign=\"center\";\r\n      ctx.font=\"22pt Arial\";\r\n      ctx.fillStyle = color;\r\n      ctx.fillText(texto, x, yTexto); \r\n      this.indexReactivos++;          \r\n\r\n      // if (!this.bandera) {\r\n      //   alertify.error(\"Selecciona una zona válida.\")\r\n      // }\r\n    }else{\r\n      if (id == 0 && this.edicion == 1) {\r\n        alertify.error(\"Límite de respuestas alcanzado\").dismissOthers();\r\n      }\r\n    }\r\n  }\r\n\r\n  guardarSeleccion(respuesta){\r\n    this._zonaImagenesService.guardaRespuestas(respuesta[0],this.idMateriaFechaActividad, this.jwt).subscribe(\r\n      response => {\r\n        if(response && response['status']){\r\n          alertify.success('<i class=\"fa fa-save\"></i>').dismissOthers(); \r\n        }else{\r\n          alertify.error('Error al guardar').dismissOthers(); \r\n        }\r\n      }, error => {\r\n        console.log(<any>error);\r\n    });\r\n    // if (this.indexReactivos == this.reactivos.length) {\r\n    //   alertify.confirm('¿Deseas guardar tus respuestas?',\r\n    //   function(){\r\n    //     alertify.success('Respuestas guardadas correctamente');\r\n    //   }.bind(this),\r\n    //   function(){\r\n    //     alertify.error('Cancelado');\r\n    //   });\r\n    // }else{\r\n    //   alertify.error(\"Selecciona todas las respuestas\")\r\n    // }\r\n   }\r\n\r\n  eliminaSeleccion(){\r\n    this._zonaImagenesService.eliminaRespuestas(this.idPregunta, this.idMateriaFechaActividad, this.jwt).subscribe(\r\n      response => {\r\n        if (response && response['status']) {\r\n          alertify.success(response['msg']).dismissOthers();\r\n        }\r\n      }, error => {\r\n        console.log(<any>error);\r\n    }); \r\n  }\r\n  \r\n  open(content) {\r\n      this.modalService.open(content, {size: 'lg', windowClass: 'modal-xl'});   \r\n      this.showImage(1); \r\n      this.indexReactivos = 0;\r\n      this.reactivos.forEach(reactivo => {\r\n        this.drawCircle(2, reactivo);\r\n      });\r\n  }\r\n\r\n  close(){\r\n    this.modalService.dismissAll();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ZonaImagenesComponent } from './zona-imagenes.component';\r\n\r\n@NgModule({\r\n  declarations: [ZonaImagenesModule.rootComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  entryComponents: [  \r\n    ZonaImagenesModule.rootComponent\r\n  ]\r\n})\r\nexport class ZonaImagenesModule { \r\n  static rootComponent = ZonaImagenesComponent\r\n}\r\n"],"sourceRoot":""}