{"version":3,"sources":["webpack:///./src/app/administracion/pagos/alumnos/suscripcion/suscripcion-routing.module.ts","webpack:///./src/app/administracion/pagos/alumnos/suscripcion/suscripcion.component.html","webpack:///./src/app/administracion/pagos/alumnos/suscripcion/suscripcion.component.scss","webpack:///./src/app/administracion/pagos/alumnos/suscripcion/suscripcion.component.ts","webpack:///./src/app/administracion/pagos/alumnos/suscripcion/suscripcion.module.ts"],"names":[],"mappings":"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","file":"suscripcion-suscripcion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SuscripcionComponent } from './suscripcion.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SuscripcionComponent,\r\n  }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SuscripcionRoutingModule { }\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n    <app-encabezado-persona [idPersona]=\\\"idAlumno\\\" \\r\\n    [idRol]=\\\"2\\\"></app-encabezado-persona>\\r\\n    <h5 class=\\\"mt-3\\\">{{title}}</h5>\\r\\n    <button class=\\\"btn btn-success my-3\\\" (click)=\\\"open(content)\\\"><i class=\\\"fa fa-plus\\\"></i> Agregar nuevo plan de pago</button>\\r\\n      <table class=\\\"table\\\">\\r\\n        <thead>\\r\\n          <tr>\\r\\n            <th scope=\\\"col\\\">Suscripción</th>\\r\\n            <th scope=\\\"col\\\">Descripción</th>\\r\\n            <th scope=\\\"col\\\">Reinscripción</th>\\r\\n            <th scope=\\\"col\\\">Colegiatura</th>\\r\\n          \\r\\n            <th scope=\\\"col\\\">Editar</th>\\r\\n            <th scope=\\\"col\\\">Eliminar</th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngIf=\\\"suscripcion.length == 0\\\">\\r\\n            <td colspan=\\\"12\\\" class=\\\"text-center\\\">{{'trNotFound' | translate}}</td>\\r\\n          </tr>\\r\\n          <tr *ngFor=\\\"let _suscripcion of suscripcion; let i = index\\\">\\r\\n            <td>{{_suscripcion.nombre_suscripcion}}</td>\\r\\n            <td>{{_suscripcion.descripcion_suscripcion}}</td>\\r\\n            <td>$ {{_suscripcion.descuento_reinscripcion}}\\r\\n              <span class=\\\"badge badge-success\\\" *ngIf=\\\"_suscripcion.beca_reinscripcion != 0\\\">\\r\\n                Beca\\r\\n                <span *ngIf=\\\"_suscripcion.valor_beca_reinscripcion == 1\\\"> $ </span>\\r\\n                 {{_suscripcion.beca_reinscripcion}}\\r\\n                <span *ngIf=\\\"_suscripcion.valor_beca_reinscripcion == 2\\\"> % </span>\\r\\n              </span>\\r\\n\\r\\n            </td>\\r\\n            <td>$ {{_suscripcion.descuento_colegiatura}}\\r\\n              <span class=\\\"badge badge-success\\\" *ngIf=\\\"_suscripcion.beca_colegiatura != 0\\\">\\r\\n                Beca  \\r\\n                <span *ngIf=\\\"_suscripcion.valor_beca_colegiatura == 1\\\"> $ </span>\\r\\n                {{_suscripcion.beca_colegiatura}}\\r\\n                <span *ngIf=\\\"_suscripcion.valor_beca_colegiatura == 2\\\"> % </span>\\r\\n              </span>\\r\\n            </td>\\r\\n            <td><button class=\\\"btn btn-info\\\" (click)=\\\"open(content, _suscripcion)\\\"><i class=\\\"fa fa-pencil\\\"></i></button></td>\\r\\n            <td><button class=\\\"btn btn-danger\\\" (click)=\\\"eliminar(_suscripcion.alumno_suscripcion_id, i)\\\"><i class=\\\"fa fa-times\\\"></i></button></td>\\r\\n          </tr>\\r\\n          \\r\\n        </tbody>\\r\\n      </table>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #content let-modal>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title\\\" id=\\\"modal-basic-title\\\">{{titulo}}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modal.dismiss()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body mx-5 my-2\\\">\\r\\n    <form [formGroup]=\\\"pagosForm\\\" (ngSubmit)=\\\"enviaInformacion()\\\">\\r\\n      <div class=\\\"form-group mb-2\\\">\\r\\n        <label class=\\\"control-label\\\">Nombre del plan de pago</label>\\r\\n        \\r\\n        <select class=\\\"form-control\\\" formControlName=\\\"id_suscripcion\\\" (change)=\\\"cambiaSuscripcion($event)\\\">\\r\\n          <option value=\\\"\\\" hidden disabled selected>Selecciona una opción</option>\\r\\n          <option [value]=\\\"suscripcion.suscripcion_id\\\" \\r\\n            *ngFor=\\\"let suscripcion of catSuscripciones; let i = index;\\\">\\r\\n            {{suscripcion.nombre_suscripcion}}\\r\\n          </option>\\r\\n        </select>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"selectedSuscripcion\\\" class=\\\"row alert alert-secondary\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <h5>Inscripción/Reinscripción</h5>\\r\\n        </div>\\r\\n        <div class=\\\"col-6 text-center\\\">\\r\\n          <label>Monto</label>\\r\\n          <h5>$ {{selectedSuscripcion.monto_reinscripcion}}</h5>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"f.becaReinscripcion.value == 1\\\" class=\\\"col-6 text-center\\\">\\r\\n          <label>Monto con beca</label>\\r\\n          <h5>$ {{becaReinscripcion}}</h5>\\r\\n        </div>\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <label><input type=\\\"checkbox\\\" value=\\\"1\\\" formControlName=\\\"becaReinscripcion\\\"> ¿Deseas agregar beca al alumno? </label>\\r\\n        </div>\\r\\n        <div class=\\\"col-6\\\"  *ngIf=\\\"f.becaReinscripcion.value == 1\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"control-label\\\">Descuento de beca</label>\\r\\n            <input class=\\\"form-control\\\" type=\\\"number\\\" formControlName=\\\"montoBecaReinscripcion\\\" placeholder=\\\"montoBecaReinscripcion\\\" (blur)=\\\"calculaBeca(1)\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-6\\\"  *ngIf=\\\"f.becaReinscripcion.value == 1\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n\\r\\n            <label class=\\\"control-label\\\">Tipo de descuento</label><br>\\r\\n            <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n              <input type=\\\"radio\\\" id=\\\"monto1\\\" formControlName=\\\"tipoBecaReinscripcion\\\"  name=\\\"tipoBecaReinscripcion\\\" class=\\\"custom-control-input\\\" value=\\\"1\\\" >\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"monto1\\\">Monto</label>\\r\\n            </div>\\r\\n            <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n              <input type=\\\"radio\\\" id=\\\"porcentaje1\\\" formControlName=\\\"tipoBecaReinscripcion\\\"  name=\\\"tipoBecaReinscripcion\\\" class=\\\"custom-control-input\\\" value=\\\"2\\\">\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"porcentaje1\\\">Porcentaje</label>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"selectedSuscripcion\\\" class=\\\"row alert alert-info\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <h5>Colegiatura</h5>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-6 text-center\\\">\\r\\n              <label>Monto</label>\\r\\n              <h5>$ {{selectedSuscripcion.monto_colegiatura}}</h5>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"f.becaColegiatura.value == 1\\\" class=\\\"col-6 text-center\\\">\\r\\n              <label>Monto con beca</label>\\r\\n              <h5>$ {{becaColegiatura}}</h5>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <label><input type=\\\"checkbox\\\" value=\\\"1\\\" formControlName=\\\"becaColegiatura\\\"> ¿Deseas agregar beca al alumno? </label>\\r\\n        </div>\\r\\n        <div class=\\\"col-6\\\"  *ngIf=\\\"f.becaColegiatura.value == 1\\\">\\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"control-label\\\">Descuento de beca</label>\\r\\n            <input class=\\\"form-control\\\" type=\\\"number\\\" formControlName=\\\"montoBecaColegiatura\\\" placeholder=\\\"montoBecaColegiatura\\\" (blur)=\\\"calculaBeca(2)\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-6\\\"  *ngIf=\\\"f.becaColegiatura.value == 1\\\"> \\r\\n          <div class=\\\"form-group mb-2\\\">\\r\\n            <label class=\\\"control-label\\\">Tipo de descuento</label><br>\\r\\n            <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n              <input type=\\\"radio\\\" id=\\\"monto2\\\" formControlName=\\\"tipoBecaColegiatura\\\" class=\\\"custom-control-input\\\" value=\\\"1\\\" >\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"monto2\\\">Monto</label>\\r\\n            </div>\\r\\n            <div class=\\\"custom-control custom-radio custom-control-inline\\\">\\r\\n              <input type=\\\"radio\\\" id=\\\"porcentaje2\\\" formControlName=\\\"tipoBecaColegiatura\\\" class=\\\"custom-control-input\\\" value=\\\"2\\\">\\r\\n              <label class=\\\"custom-control-label\\\" for=\\\"porcentaje2\\\">Porcentaje</label>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      \\r\\n\\r\\n      \\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-success pull-right mt-3\\\" [disabled]=\\\"pagosForm.invalid\\\">Guardar información</button>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-dark\\\" (click)=\\\"modal.close()\\\">Cerrar</button>\\r\\n  </div>\\r\\n</ng-template>\"","module.exports = \".form-group {\\n  margin-bottom: 0px; }\\n\\n.invalidText {\\n  color: #dc3545;\\n  text-align: left !important; }\\n\\n.ng-invalid.ng-touched {\\n  border-color: #dc3545; }\\n\\n.ng-valid.ng-touched {\\n  border-color: green; }\\n\\nlabel {\\n  margin-top: 4px;\\n  font-weight: 700; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW5pc3RyYWNpb24vcGFnb3MvYWx1bW5vcy9zdXNjcmlwY2lvbi9DOlxceGFtcHAxXFxodGRvY3NcXGVzdHVkeV9uZXdcXGZyb250RXN0dWR5L3NyY1xcYXBwXFxzaGFyZWRcXHN0eWxlc1xcZm9ybXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDQyxtQkFBa0IsRUFDbEI7O0FBQ0Q7RUFDSSxlQUFjO0VBQ2QsNEJBQTJCLEVBQzlCOztBQUNEO0VBQ0ksc0JBQXNCLEVBQ3pCOztBQUNEO0VBQ0ksb0JBQW1CLEVBQ3RCOztBQUNEO0VBQ0ksZ0JBQWU7RUFDZixpQkFBZ0IsRUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hZG1pbmlzdHJhY2lvbi9wYWdvcy9hbHVtbm9zL3N1c2NyaXBjaW9uL3N1c2NyaXBjaW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mb3JtLWdyb3Vwe1xyXG4gbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcbi5pbnZhbGlkVGV4dHtcclxuICAgIGNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xyXG59XHJcbi5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgICBib3JkZXItY29sb3I6ICAjZGMzNTQ1OyBcclxufVxyXG4ubmctdmFsaWQubmctdG91Y2hlZHtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47IFxyXG59XHJcbmxhYmVse1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIl19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { PagoService } from '../../services/pago.service';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\ndeclare var alertify: any;\r\n\r\n@Component({\r\n  selector: 'app-suscripcion',\r\n  templateUrl: './suscripcion.component.html',\r\n  styleUrls: ['./suscripcion.component.scss']\r\n})\r\nexport class SuscripcionComponent implements OnInit {\r\n\r\n  title;\r\n  idAlumno;\r\n  suscripcion = [];\r\n  pagosForm: FormGroup;\r\n  catSuscripciones: any;\r\n  titulo = '';\r\n  seleccionado: any;\r\n  selectedSuscripcion = null;\r\n  becaReinscripcion = 0;\r\n  becaColegiatura = 0;\r\n  redireccion;\r\n\r\n  constructor(\r\n    private _pagoService: PagoService,\r\n    private _modalService: NgbModal,\r\n    private _fb: FormBuilder,\r\n    private route : ActivatedRoute,\r\n    private router: Router\r\n  ) { \r\n    this.title = 'Plan de pagos';\r\n    this.idAlumno = this.route.snapshot.paramMap.get('id');\r\n    this.redireccion = this.route.snapshot.paramMap.get('id2');\r\n\r\n  }\r\n\r\n  ngOnInit() {    \r\n    this.consultaSuscripciones();\r\n  }\r\n\r\n  consultaSuscripciones() {\r\n    this._pagoService.consultaAlumnoSuscripcion(this.idAlumno).subscribe(response =>{        \r\n        if(response && response['status']){\r\n          this.suscripcion = response['suscripcion'];\r\n          console.log(this.suscripcion);\r\n          \r\n        }else{\r\n          this.suscripcion = [];\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n    });\r\n  }\r\n\r\n  getSuscripciones() {\r\n    this._pagoService.catSuscripcion().subscribe(response =>{\r\n        if(response && response['status']){\r\n          this.catSuscripciones = response['suscripcion'];          \r\n        }else{\r\n          this.catSuscripciones = undefined\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n    });\r\n\r\n  }\r\n\r\n  open(content, suscripcion = undefined) {\r\n    if(suscripcion){\r\n      this.seleccionado = suscripcion;\r\n      this.selectedSuscripcion = this.seleccionado;\r\n    \r\n    }else{\r\n      this.seleccionado = null;\r\n      this.selectedSuscripcion = null;\r\n\r\n    }\r\n\r\n    if (!this.catSuscripciones) this.getSuscripciones();\r\n    if (this.pagosForm) this.pagosForm = undefined;\r\n\r\n    \r\n    if(this.seleccionado) {\r\n      this.titulo = 'Editar pago';\r\n    }else{\r\n      this.titulo = 'Agregar pago';\r\n\r\n    }\r\n    \r\n    this.pagosForm = this._fb.group({\r\n      id_suscripcion: [this.seleccionado ? this.seleccionado.suscripcion_id: '', Validators.required],\r\n      becaColegiatura: [this.seleccionado && this.seleccionado.beca_colegiatura ? '1 ': ''],\r\n      becaReinscripcion : [this.seleccionado && this.seleccionado.beca_reinscripcion ? '1 ': ''],\r\n      montoBecaColegiatura: [this.seleccionado? parseInt(this.seleccionado.beca_colegiatura): 0],\r\n      tipoBecaColegiatura: [this.seleccionado? this.seleccionado.valor_beca_colegiatura: \"1\"],\r\n      montoBecaReinscripcion: [this.seleccionado? parseInt(this.seleccionado.beca_reinscripcion): 0],\r\n      tipoBecaReinscripcion: [this.seleccionado? this.seleccionado.valor_beca_reinscripcion: \"1\"],\r\n    });\r\n\r\n    if(this.seleccionado){\r\n      this.calculaBeca(1);\r\n      this.calculaBeca(2);\r\n    }\r\n  \r\n\r\n      this.pagosForm.get('tipoBecaReinscripcion').valueChanges.subscribe(val => {\r\n        this.calculaBeca(1);\r\n    });\r\n\r\n    this.pagosForm.get('tipoBecaColegiatura').valueChanges.subscribe(val => {\r\n      this.calculaBeca(2);\r\n  });\r\n\r\n    \r\n    \r\n    this._modalService.open(content, {backdrop: 'static', keyboard: false, size: 'lg'});\r\n  }\r\n\r\n  cambiaSuscripcion(event){\r\n    let i = event.target.selectedIndex -1;\r\n    this.selectedSuscripcion = this.catSuscripciones[i];\r\n    this.becaReinscripcion = this.selectedSuscripcion.monto_reinscripcion;\r\n    this.becaColegiatura = this.selectedSuscripcion.monto_colegiatura;\r\n    \r\n  }\r\n\r\n  calculaBeca(tipo){\r\n    let monto,tipoBeca,montoBeca; \r\n    if(tipo == 1){\r\n      monto = this.selectedSuscripcion.monto_reinscripcion;\r\n      tipoBeca = this.pagosForm.get('tipoBecaReinscripcion').value;\r\n      montoBeca =this.pagosForm.get('montoBecaReinscripcion').value; \r\n    }else{\r\n      monto = this.selectedSuscripcion.monto_colegiatura;\r\n      tipoBeca = this.pagosForm.get('tipoBecaColegiatura').value;\r\n      montoBeca =this.pagosForm.get('montoBecaColegiatura').value; \r\n    }\r\n    \r\n    let total = 0;\r\n    if(tipoBeca == 1){\r\n      total = parseFloat(monto) - parseFloat(montoBeca);\r\n    }else{\r\n      total = parseFloat(monto) - parseFloat(monto)*parseFloat(montoBeca)/100;\r\n    }\r\n\r\n    if(tipo == 1){\r\n      this.becaReinscripcion = total\r\n    }else{\r\n      this.becaColegiatura = total\r\n    }\r\n\r\n\r\n  }\r\n\r\n  enviaInformacion() {\r\n    let form = Object.entries(this.pagosForm.value);\r\n    let id = 0, id_suscripcion_alumno;\r\n    if (this.seleccionado) {\r\n      id = 1;\r\n      id_suscripcion_alumno = this.seleccionado.alumno_suscripcion_id;\r\n    }    \r\n    this._pagoService.modificaSuscripcionAlumno(this.idAlumno, form, id, id_suscripcion_alumno).subscribe(response =>{      \r\n      if(response && response['status']) {\r\n        alertify.success(response['msg']).dismissOthers();\r\n\r\n        if(this.redireccion == 1){\r\n          this.router.navigate(['/admin/solicitud-pagos/nueva-inscripcion/'+this.idAlumno])\r\n        }\r\n        this.consultaSuscripciones();\r\n        this._modalService.dismissAll();\r\n      }else{\r\n        alertify.error(response['msg']).dismissOthers();\r\n      }\r\n    },error=>{\r\n      console.log(error)\r\n    });\r\n  }  \r\n\r\n  eliminar(id_suscripcion_alumno, index) {    \r\n    alertify.confirm('Eliminar suscripción', '¿Deseas eliminar la suscripción?',\r\n    function(){\r\n      this._pagoService.eliminaSuscripcionAlumno(this.idAlumno, id_suscripcion_alumno).subscribe(response =>{  \r\n        console.log(response);\r\n        if(response && response['status']) {\r\n          this.suscripcion.splice(index,1);\r\n          alertify.success(response['msg']).dismissOthers();\r\n        }else{\r\n          alertify.error(response['msg']).dismissOthers();\r\n        }\r\n      },error=>{\r\n        console.log(error)\r\n      });\r\n    }.bind(this),\r\n    function(){\r\n      alertify.error('Cancel');\r\n    });\r\n  }\r\n\r\n  get f() { return this.pagosForm.controls; }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EncabezadoPersonaModule } from 'src/app/components/encabezado-persona/encabezado-persona.module';\r\nimport { SuscripcionComponent } from './suscripcion.component';\r\nimport { LanguageTranslationModule } from 'src/app/shared/modules/language-translation/language-translation.module';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { SuscripcionRoutingModule } from './suscripcion-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [SuscripcionComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SuscripcionRoutingModule,\r\n    EncabezadoPersonaModule,\r\n    LanguageTranslationModule,\r\n    NgbModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class SuscripcionModule { }\r\n"],"sourceRoot":""}